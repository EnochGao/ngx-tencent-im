{"version":3,"file":"ngx-tencent-im.mjs","sources":["../../../projects/ngx-tencent-im/src/store/actions/login.action.ts","../../../projects/ngx-tencent-im/src/store/actions/user.action.ts","../../../projects/ngx-tencent-im/src/store/actions/message.action.ts","../../../projects/ngx-tencent-im/src/store/actions/conversation.action.ts","../../../projects/ngx-tencent-im/src/store/selectors/conversation.selector.ts","../../../projects/ngx-tencent-im/src/store/selectors/login.selector.ts","../../../projects/ngx-tencent-im/src/store/selectors/message.selector.ts","../../../projects/ngx-tencent-im/src/store/selectors/user.selector.ts","../../../projects/ngx-tencent-im/src/store/actions/group.action.ts","../../../projects/ngx-tencent-im/src/store/selectors/group.selector.ts","../../../projects/ngx-tencent-im/src/shared.data.ts","../../../projects/ngx-tencent-im/src/tim-helper.service.ts","../../../projects/ngx-tencent-im/src/util/title-notice.ts","../../../projects/ngx-tencent-im/src/my-profile/edit-profile/edit-profile.component.ts","../../../projects/ngx-tencent-im/src/my-profile/edit-profile/edit-profile.component.html","../../../projects/ngx-tencent-im/src/avatar/avatar.component.ts","../../../projects/ngx-tencent-im/src/avatar/avatar.component.html","../../../projects/ngx-tencent-im/src/my-profile/profile-card/profile-card.component.ts","../../../projects/ngx-tencent-im/src/my-profile/profile-card/profile-card.component.html","../../../projects/ngx-tencent-im/src/my-profile/my-profile.component.ts","../../../projects/ngx-tencent-im/src/my-profile/my-profile.component.html","../../../projects/ngx-tencent-im/src/util/date.ts","../../../projects/ngx-tencent-im/src/conversation/conversation-item/conversation-item.component.ts","../../../projects/ngx-tencent-im/src/conversation/conversation-item/conversation-item.component.html","../../../projects/ngx-tencent-im/src/conversation/conversation-list/conversation-list.component.ts","../../../projects/ngx-tencent-im/src/conversation/conversation-list/conversation-list.component.html","../../../projects/ngx-tencent-im/src/group/create-group/create-group.component.ts","../../../projects/ngx-tencent-im/src/group/create-group/create-group.component.html","../../../projects/ngx-tencent-im/src/group/group-item/group-item.component.ts","../../../projects/ngx-tencent-im/src/group/group-item/group-item.component.html","../../../projects/ngx-tencent-im/src/group/group-list/group-list.component.ts","../../../projects/ngx-tencent-im/src/group/group-list/group-list.component.html","../../../projects/ngx-tencent-im/src/side-bar/side-bar.component.ts","../../../projects/ngx-tencent-im/src/side-bar/side-bar.component.html","../../../projects/ngx-tencent-im/src/title/title.component.ts","../../../projects/ngx-tencent-im/src/title/title.component.html","../../../projects/ngx-tencent-im/src/message/message-status-icon/message-status-icon.component.ts","../../../projects/ngx-tencent-im/src/message/message-status-icon/message-status-icon.component.html","../../../projects/ngx-tencent-im/src/util/emoji-map.ts","../../../projects/ngx-tencent-im/src/util/decode-text.ts","../../../projects/ngx-tencent-im/src/re-edit-message.service.ts","../../../projects/ngx-tencent-im/src/message/message-bubble/message-bubble.component.ts","../../../projects/ngx-tencent-im/src/message/message-bubble/message-bubble.component.html","../../../projects/ngx-tencent-im/src/message/message-element/text-element/text-element.component.ts","../../../projects/ngx-tencent-im/src/message/message-element/text-element/text-element.component.html","../../../projects/ngx-tencent-im/src/message/message-element/image-element/image-element.component.ts","../../../projects/ngx-tencent-im/src/message/message-element/image-element/image-element.component.html","../../../projects/ngx-tencent-im/src/message/message-element/file-element/file-element.component.ts","../../../projects/ngx-tencent-im/src/message/message-element/file-element/file-element.component.html","../../../projects/ngx-tencent-im/src/message/message-footer/message-footer.component.ts","../../../projects/ngx-tencent-im/src/message/message-footer/message-footer.component.html","../../../projects/ngx-tencent-im/src/message/message-header/message-header.component.ts","../../../projects/ngx-tencent-im/src/message/message-header/message-header.component.html","../../../projects/ngx-tencent-im/src/message/message-element/group-tip-element/group-tip-element.component.ts","../../../projects/ngx-tencent-im/src/message/message-element/group-tip-element/group-tip-element.component.html","../../../projects/ngx-tencent-im/src/util/format-duration.ts","../../../projects/ngx-tencent-im/src/util/trtc-custom-message-map.ts","../../../projects/ngx-tencent-im/src/message/message-element/custom-element/custom-element.component.ts","../../../projects/ngx-tencent-im/src/message/message-element/custom-element/custom-element.component.html","../../../projects/ngx-tencent-im/src/util/common.ts","../../../projects/ngx-tencent-im/src/message/message-element/group-system-notice-element/approval-join-group/approval-join-group.component.ts","../../../projects/ngx-tencent-im/src/message/message-element/group-system-notice-element/approval-join-group/approval-join-group.component.html","../../../projects/ngx-tencent-im/src/message/message-element/group-system-notice-element/group-system-notice-element.component.ts","../../../projects/ngx-tencent-im/src/message/message-element/group-system-notice-element/group-system-notice-element.component.html","../../../projects/ngx-tencent-im/src/message/message-item/message-item.component.ts","../../../projects/ngx-tencent-im/src/message/message-item/message-item.component.html","../../../projects/ngx-tencent-im/src/message/message-send-box/message-send-box.component.ts","../../../projects/ngx-tencent-im/src/message/message-send-box/message-send-box.component.html","../../../projects/ngx-tencent-im/src/conversation/current-conversation/current-conversation.component.ts","../../../projects/ngx-tencent-im/src/conversation/current-conversation/current-conversation.component.html","../../../projects/ngx-tencent-im/src/conversation/conversation-profile/conversation-profile/user-profile/user-profile.component.ts","../../../projects/ngx-tencent-im/src/conversation/conversation-profile/conversation-profile/user-profile/user-profile.component.html","../../../projects/ngx-tencent-im/src/group/group-member-info/group-member-info.component.ts","../../../projects/ngx-tencent-im/src/group/group-member-info/group-member-info.component.html","../../../projects/ngx-tencent-im/src/group/group-member-list/group-member-list.component.ts","../../../projects/ngx-tencent-im/src/group/group-member-list/group-member-list.component.html","../../../projects/ngx-tencent-im/src/conversation/conversation-profile/conversation-profile/group-profile/group-profile.component.ts","../../../projects/ngx-tencent-im/src/conversation/conversation-profile/conversation-profile/group-profile/group-profile.component.html","../../../projects/ngx-tencent-im/src/conversation/conversation-profile/conversation-profile.component.ts","../../../projects/ngx-tencent-im/src/conversation/conversation-profile/conversation-profile.component.html","../../../projects/ngx-tencent-im/src/tencent-tim/tencent-tim.component.ts","../../../projects/ngx-tencent-im/src/tencent-tim/tencent-tim.component.html","../../../projects/ngx-tencent-im/src/store/reducer/conversation.reducer.ts","../../../projects/ngx-tencent-im/src/store/reducer/group.reducer.ts","../../../projects/ngx-tencent-im/src/store/reducer/login.reducer.ts","../../../projects/ngx-tencent-im/src/store/reducer/message.reducer.ts","../../../projects/ngx-tencent-im/src/store/reducer/user.reducer.ts","../../../projects/ngx-tencent-im/src/store/reducer/index.ts","../../../projects/ngx-tencent-im/src/tencent-tim.module.ts","../../../projects/ngx-tencent-im/src/public-api.ts","../../../projects/ngx-tencent-im/src/ngx-tencent-im.ts"],"sourcesContent":["import { createAction, props } from '@ngrx/store';\r\n\r\nexport enum LoginActionTypes {\r\n  Login = '[toggleIsLogin]',\r\n}\r\n\r\nexport const loginAction = createAction(\r\n  LoginActionTypes.Login,\r\n  props<{ isLogin: boolean; }>()\r\n);\r\n\r\n","import { createAction, props } from '@ngrx/store';\r\nimport { Profile } from 'tim-js-sdk';\r\n\r\nexport enum UserActionTypes {\r\n  SDKReady = '[user] toggleIsSDKReady',\r\n  updateCurrentUserProfile = '[user] updateCurrentUserProfile',\r\n  resetUser = '[user] resetUser',\r\n}\r\n\r\nexport const SDKReadyAction = createAction(\r\n  UserActionTypes.SDKReady,\r\n  props<{ SDKReadyState: boolean; }>()\r\n);\r\n\r\nexport const updateCurrentUserProfileAction = createAction(\r\n  UserActionTypes.updateCurrentUserProfile,\r\n  props<{ profile: Profile; }>()\r\n);\r\n\r\nexport const resetUserAction = createAction(\r\n  UserActionTypes.resetUser\r\n);\r\n","import { createAction, props } from '@ngrx/store';\r\nimport { Message } from 'tim-js-sdk';\r\nimport { MESSAGE_STATUS } from '../../shared.data';\r\n\r\nexport const showAction = createAction(\r\n  '[showMessage]',\r\n  props<{ msgType: MESSAGE_STATUS; message: any; }>()\r\n);\r\nexport const updateMessageAction = createAction(\r\n  '[updateMessage]',\r\n  props<{ nextReqMessageID: string; isCompleted: boolean; currentMessageList: Array<Message>; }>()\r\n);\r\n","import { createAction, props } from '@ngrx/store';\r\nimport { Conversation, Message} from 'tim-js-sdk';;\r\n\r\nexport const updateCurrentConversationAction = createAction(\r\n  '[conversation] updateCurrentConversation',\r\n  props<{ conversation: Conversation; }>()\r\n);\r\nexport const updateConversationListAction = createAction(\r\n  '[conversation] updateConversationList',\r\n  props<{ conversationList: Array<Conversation>; }>()\r\n);\r\nexport const resetCurrentConversationAction = createAction(\r\n  '[conversation] resetCurrentConversation'\r\n);\r\nexport const pushCurrentMessageListAction = createAction(\r\n  '[conversation] pushCurrentMessageList',\r\n  props<{ message: Message; }>()\r\n);\r\nexport const removeMessageAction = createAction(\r\n  '[conversation] removeMessage',\r\n  props<{ message: any; }>()\r\n);\r\nexport const resetConversationAction = createAction(\r\n  '[conversation] reset'\r\n);\r\nexport const checkoutConversationAction = createAction(\r\n  '[conversation] checkoutConversation',\r\n  props<{ conversationID: string; }>()\r\n);\r\n","import { createSelector } from '@ngrx/store';\r\nimport { Conversation } from 'tim-js-sdk';\r\nimport { ReducerState } from '../reducer';\r\nimport { ConversationState } from '../reducer/conversation.reducer';\r\n\r\nconst selectPlayerStates = (state: ReducerState) => state.currentConversationID;\r\nexport const getCurrentConversationID = createSelector(selectPlayerStates, (state: any) => state.conversationID);\r\n\r\nconst selectConversation = (state: ReducerState) => state.conversation;\r\nexport const conversationSelector = createSelector(selectConversation, (state: ConversationState) => state);\r\n\r\n\r\nconst selectCurrentConversation = (state: ReducerState) => state.conversation.currentConversation;\r\nexport const currentConversationSelector = createSelector(selectCurrentConversation, (state: Conversation) => state);\r\n\r\n\r\nconst selectConversationList = (state: ReducerState) => state.conversation.conversationList;\r\nexport const conversationListSelector =\r\n  createSelector(selectConversationList, (state: Array<Conversation>) => state);\r\n","import { createSelector } from '@ngrx/store';\r\nimport { ReducerState } from '../reducer';\r\nimport { LoginState } from '../reducer/login.reducer';\r\n\r\nconst selectPlayerStates = (state: ReducerState) => state.login;\r\n\r\nexport const getLogin = createSelector(selectPlayerStates, (state: LoginState) => state.isLogin);","import { createSelector } from '@ngrx/store';\r\n\r\nconst selectPlayerStates = (state: { message; }) => state.message;\r\n\r\nexport const getMessage = createSelector(selectPlayerStates, (state: any) => state);\r\n","import { createSelector } from '@ngrx/store';\r\nimport { ReducerState } from '../reducer';\r\nimport { UserState } from '../reducer/user.reducer';\r\n\r\nconst selectPlayerStates = (state: ReducerState) => state.user;\r\n\r\nexport const getSDkReady = createSelector(selectPlayerStates, (state: UserState) => state.isSDKReady);\r\nexport const currentUserProfileSelector = createSelector(selectPlayerStates, (state: UserState) => state.currentUserProfile);","import { createAction, props } from '@ngrx/store';\r\nimport { Group, GroupMember } from 'tim-js-sdk';\r\n\r\nexport const updateGroupListAction = createAction(\r\n  '[group] updateGroupList',\r\n  props<{ groupList: Array<Group>; }>()\r\n);\r\n\r\nexport const updateCurrentMemberListAction = createAction(\r\n  '[group] updateCurrentMemberList',\r\n  props<{ currentMemberList: Array<GroupMember>; }>()\r\n);\r\nexport const resetCurrentMemberListAction = createAction(\r\n  '[group] resetCurrentMemberList'\r\n);\r\n","import { createSelector } from '@ngrx/store';\r\nimport { Group, GroupMember } from 'tim-js-sdk';\r\nimport { ReducerState } from '../reducer';\r\n\r\nconst selectGroupListStates = (state: ReducerState) => state.group.groupList;\r\nexport const groupListSelector = createSelector(selectGroupListStates, (state: Array<Group>) => state);\r\nconst currentMemberListStates = (state: ReducerState) => state.group.currentMemberList;\r\nexport const currentMemberListSelector = createSelector(currentMemberListStates, (state: Array<GroupMember>) => state);\r\n","\r\nimport { InjectionToken } from '@angular/core';\r\nimport { NgTimConfig } from './type';\r\n\r\nexport const NG_Tim_CONFIG = new InjectionToken<NgTimConfig>('config');\r\n\r\nexport enum MESSAGE_STATUS {\r\n  success = 'success',\r\n  info = 'info',\r\n  warning = 'warning',\r\n  error = 'error'\r\n}\r\n\r\nexport enum CONVERSATION_TYPE {\r\n  client = 'C2C',\r\n  group = 'GROUP',\r\n  system = '@TIM#SYSTEM',\r\n}\r\nexport enum TIM_TYPES {\r\n  GRP_WORK = 'Private',\r\n  GRP_PUBLIC = 'Public',\r\n  GRP_MEETING = 'ChatRoom',\r\n  GRP_AVCHATROOM = 'AVChatRoom',\r\n}\r\n\r\nexport const TIM = {\r\n  TYPES: {\r\n    \"MSG_TEXT\": \"TIMTextElem\",\r\n    \"MSG_IMAGE\": \"TIMImageElem\",\r\n    \"MSG_SOUND\": \"TIMSoundElem\",\r\n    \"MSG_AUDIO\": \"TIMSoundElem\",\r\n    \"MSG_FILE\": \"TIMFileElem\",\r\n    \"MSG_FACE\": \"TIMFaceElem\",\r\n    \"MSG_VIDEO\": \"TIMVideoFileElem\",\r\n    \"MSG_GEO\": \"TIMLocationElem\",\r\n    \"MSG_GRP_TIP\": \"TIMGroupTipElem\",\r\n    \"MSG_GRP_SYS_NOTICE\": \"TIMGroupSystemNoticeElem\",\r\n    \"MSG_CUSTOM\": \"TIMCustomElem\",\r\n    \"MSG_MERGER\": \"TIMRelayElem\",\r\n    \"MSG_PRIORITY_HIGH\": \"High\",\r\n    \"MSG_PRIORITY_NORMAL\": \"Normal\",\r\n    \"MSG_PRIORITY_LOW\": \"Low\",\r\n    \"MSG_PRIORITY_LOWEST\": \"Lowest\",\r\n    \"CONV_C2C\": \"C2C\",\r\n    \"CONV_GROUP\": \"GROUP\",\r\n    \"CONV_SYSTEM\": \"@TIM%23SYSTEM\",\r\n    \"CONV_AT_ME\": 1,\r\n    \"CONV_AT_ALL\": 2,\r\n    \"CONV_AT_ALL_AT_ME\": 3,\r\n    \"GRP_PRIVATE\": \"Private\",\r\n    \"GRP_WORK\": \"Private\",\r\n    \"GRP_PUBLIC\": \"Public\",\r\n    \"GRP_CHATROOM\": \"ChatRoom\",\r\n    \"GRP_MEETING\": \"ChatRoom\",\r\n    \"GRP_AVCHATROOM\": \"AVChatRoom\",\r\n    \"GRP_MBR_ROLE_OWNER\": \"Owner\",\r\n    \"GRP_MBR_ROLE_ADMIN\": \"Admin\",\r\n    \"GRP_MBR_ROLE_MEMBER\": \"Member\",\r\n    \"GRP_TIP_MBR_JOIN\": 1,\r\n    \"GRP_TIP_MBR_QUIT\": 2,\r\n    \"GRP_TIP_MBR_KICKED_OUT\": 3,\r\n    \"GRP_TIP_MBR_SET_ADMIN\": 4,\r\n    \"GRP_TIP_MBR_CANCELED_ADMIN\": 5,\r\n    \"GRP_TIP_GRP_PROFILE_UPDATED\": 6,\r\n    \"GRP_TIP_MBR_PROFILE_UPDATED\": 7,\r\n    \"MSG_REMIND_ACPT_AND_NOTE\": \"AcceptAndNotify\",\r\n    \"MSG_REMIND_ACPT_NOT_NOTE\": \"AcceptNotNotify\",\r\n    \"MSG_REMIND_DISCARD\": \"Discard\",\r\n    \"GENDER_UNKNOWN\": \"Gender_Type_Unknown\",\r\n    \"GENDER_FEMALE\": \"Gender_Type_Female\",\r\n    \"GENDER_MALE\": \"Gender_Type_Male\",\r\n    \"KICKED_OUT_MULT_ACCOUNT\": \"multipleAccount\",\r\n    \"KICKED_OUT_MULT_DEVICE\": \"multipleDevice\",\r\n    \"KICKED_OUT_USERSIG_EXPIRED\": \"userSigExpired\",\r\n    \"ALLOW_TYPE_ALLOW_ANY\": \"AllowType_Type_AllowAny\",\r\n    \"ALLOW_TYPE_NEED_CONFIRM\": \"AllowType_Type_NeedConfirm\",\r\n    \"ALLOW_TYPE_DENY_ANY\": \"AllowType_Type_DenyAny\",\r\n    \"FORBID_TYPE_NONE\": \"AdminForbid_Type_None\",\r\n    \"FORBID_TYPE_SEND_OUT\": \"AdminForbid_Type_SendOut\",\r\n    \"JOIN_OPTIONS_FREE_ACCESS\": \"FreeAccess\",\r\n    \"JOIN_OPTIONS_NEED_PERMISSION\": \"NeedPermission\",\r\n    \"JOIN_OPTIONS_DISABLE_APPLY\": \"DisableApply\",\r\n    \"JOIN_STATUS_SUCCESS\": \"JoinedSuccess\",\r\n    \"JOIN_STATUS_ALREADY_IN_GROUP\": \"AlreadyInGroup\",\r\n    \"JOIN_STATUS_WAIT_APPROVAL\": \"WaitAdminApproval\",\r\n    \"GRP_PROFILE_OWNER_ID\": \"ownerID\",\r\n    \"GRP_PROFILE_CREATE_TIME\": \"createTime\",\r\n    \"GRP_PROFILE_LAST_INFO_TIME\": \"lastInfoTime\",\r\n    \"GRP_PROFILE_MEMBER_NUM\": \"memberNum\",\r\n    \"GRP_PROFILE_MAX_MEMBER_NUM\": \"maxMemberNum\",\r\n    \"GRP_PROFILE_JOIN_OPTION\": \"joinOption\",\r\n    \"GRP_PROFILE_INTRODUCTION\": \"introduction\",\r\n    \"GRP_PROFILE_NOTIFICATION\": \"notification\",\r\n    \"GRP_PROFILE_MUTE_ALL_MBRS\": \"muteAllMembers\",\r\n    \"NET_STATE_CONNECTED\": \"connected\",\r\n    \"NET_STATE_CONNECTING\": \"connecting\",\r\n    \"NET_STATE_DISCONNECTED\": \"disconnected\",\r\n    \"MSG_AT_ALL\": \"__kImSDK_MesssageAtALL__\"\r\n  },\r\n  EVENT: {\r\n    \"SDK_READY\": \"sdkStateReady\",\r\n    \"SDK_NOT_READY\": \"sdkStateNotReady\",\r\n    \"SDK_DESTROY\": \"sdkDestroy\",\r\n    \"MESSAGE_RECEIVED\": \"onMessageReceived\",\r\n    \"MESSAGE_REVOKED\": \"onMessageRevoked\",\r\n    \"MESSAGE_READ_BY_PEER\": \"onMessageReadByPeer\",\r\n    \"CONVERSATION_LIST_UPDATED\": \"onConversationListUpdated\",\r\n    \"GROUP_LIST_UPDATED\": \"onGroupListUpdated\",\r\n    \"GROUP_SYSTEM_NOTICE_RECEIVED\": \"receiveGroupSystemNotice\",\r\n    \"PROFILE_UPDATED\": \"onProfileUpdated\",\r\n    \"BLACKLIST_UPDATED\": \"blacklistUpdated\",\r\n    \"KICKED_OUT\": \"kickedOut\",\r\n    \"ERROR\": \"error\",\r\n    \"NET_STATE_CHANGE\": \"netStateChange\",\r\n    \"SDK_RELOAD\": \"sdkReload\"\r\n  },\r\n  VERSION: \"2.10.2\"\r\n};\r\n","import { EventEmitter, Inject, Injectable } from '@angular/core';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport {\r\n  loginAction,\r\n  pushCurrentMessageListAction,\r\n  resetConversationAction,\r\n  resetUserAction,\r\n  SDKReadyAction,\r\n  showAction,\r\n  updateConversationListAction,\r\n  updateCurrentConversationAction,\r\n  updateCurrentUserProfileAction,\r\n  updateMessageAction\r\n} from './store/actions';\r\n\r\nimport {\r\n  conversationSelector,\r\n} from './store/selectors';\r\n\r\nimport Tim, { Conversation, Group, GroupMember, IMResponse, Message } from 'tim-js-sdk';\r\n\r\nimport { ConversationState } from './store/reducer/conversation.reducer';\r\nimport { resetCurrentMemberListAction, updateCurrentMemberListAction, updateGroupListAction } from './store/actions/group.action';\r\nimport { currentMemberListSelector } from './store/selectors/group.selector';\r\n\r\nimport TIM from 'tim-js-sdk';\r\n\r\nimport TIMUploadPlugin from 'tim-upload-plugin';\r\n\r\nimport { MESSAGE_STATUS, NG_Tim_CONFIG } from './shared.data';\r\nimport { NgTimConfig } from './type';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TimHelperService {\r\n\r\n  tim: Tim;\r\n  conversation: ConversationState; // 当前会话\r\n  currentMemberList: Array<GroupMember>; // 当前会话\r\n  eventBus$: Subject<string> = new Subject();\r\n  totalUnRead: Subject<number> = new Subject();\r\n\r\n  constructor(\r\n    private store: Store,\r\n    @Inject(NG_Tim_CONFIG) public config: NgTimConfig,\r\n  ) {\r\n\r\n    this.initTim(config);\r\n    // 初始化监听器\r\n    this.initListener();\r\n\r\n    // 获取当前会话\r\n    this.store.select(conversationSelector).subscribe(res => {\r\n      this.conversation = res;\r\n    });\r\n\r\n    // 获取当前成员\r\n    this.store.select(currentMemberListSelector).subscribe(res => {\r\n      this.currentMemberList = res;\r\n    });\r\n  }\r\n\r\n\r\n  login(userId: string, userSig: string) {\r\n    if (!userSig) {\r\n      throw new Error('请配置签名！');\r\n    }\r\n\r\n    this.tim.login({ userID: userId, userSig })\r\n      .then((imResponse: IMResponse<any>) => {\r\n        this.eventBus$.next('login');\r\n        this.store.dispatch(loginAction({ isLogin: true }));\r\n        // this.store.dispatch(startComputeCurrentAction());\r\n        this.store.dispatch(showAction({ msgType: MESSAGE_STATUS.success, message: '登录成功！' }));\r\n        if (imResponse.data.repeatLogin === true) {\r\n          // 标识账号已登录，本次登录操作为重复登录。v2.5.1 起支持\r\n          console.log(imResponse.data.errorInfo);\r\n        }\r\n      }).catch((imError) => {\r\n        console.warn('login error:', imError); // 登录失败的相关信息\r\n      });\r\n  }\r\n\r\n  logout() {\r\n    // 若有当前会话，在退出登录时已读上报\r\n    if (this.conversation.currentConversation.conversationID) {\r\n      this.tim.setMessageRead({ conversationID: this.conversation.currentConversation.conversationID });\r\n    }\r\n    this.tim.logout().then((res) => {\r\n      this.eventBus$.next('logout');\r\n      // this.store.dispatch(stopComputeCurrentAction());\r\n      this.store.dispatch(loginAction({ isLogin: false }));\r\n      this.store.dispatch(resetUserAction());\r\n      this.store.dispatch(resetConversationAction());\r\n\r\n      this.store.dispatch(showAction({ msgType: MESSAGE_STATUS.success, message: '已退出！' }));\r\n    });\r\n  }\r\n\r\n  // 初始化tim监听函数\r\n  initListener() {\r\n    // sdk ready\r\n    this.tim.on(TIM.EVENT.SDK_READY, this.onReadyStateUpdate, this);\r\n    // SDK NOT READT\r\n    this.tim.on(TIM.EVENT.SDK_NOT_READY, this.onReadyStateUpdate, this);\r\n    // 被踢出\r\n    this.tim.on(TIM.EVENT.KICKED_OUT, this.onKickOut, this);\r\n    // SDK内部出错\r\n    this.tim.on(TIM.EVENT.ERROR, this.onError, this);\r\n    // 收到新消息\r\n    this.tim.on(TIM.EVENT.MESSAGE_RECEIVED, this.onReceiveMessage, this);\r\n    // 会话列表更新\r\n    this.tim.on(TIM.EVENT.CONVERSATION_LIST_UPDATED, this.onUpdateConversationList, this);\r\n    // 群组列表更新\r\n    this.tim.on(TIM.EVENT.GROUP_LIST_UPDATED, this.onUpdateGroupList, this);\r\n    // 网络监测\r\n    this.tim.on(TIM.EVENT.NET_STATE_CHANGE, this.onNetStateChange, this);\r\n    // 已读回执\r\n    this.tim.on(TIM.EVENT.MESSAGE_READ_BY_PEER, this.onMessageReadByPeer, this);\r\n  }\r\n\r\n  private onReadyStateUpdate({ name }) {\r\n    const isSDKReady = name === TIM.EVENT.SDK_READY ? true : false;\r\n    this.store.dispatch(SDKReadyAction({ SDKReadyState: isSDKReady }));\r\n    if (isSDKReady) {\r\n      this.tim.getMyProfile()\r\n        .then(({ data }) => {\r\n          this.store.dispatch(updateCurrentUserProfileAction({ profile: data }));\r\n        })\r\n        .catch(error => {\r\n          this.store.dispatch(showAction({\r\n            msgType: MESSAGE_STATUS.warning,\r\n            message: error.message\r\n          }));\r\n        });\r\n    }\r\n  }\r\n\r\n  onKickOut(event: { name: string, data: { type: string; }; }) {\r\n    this.eventBus$.next('logout');\r\n    // this.store.dispatch(stopComputeCurrentAction());\r\n    this.store.dispatch(loginAction({ isLogin: false }));\r\n    this.store.dispatch(resetUserAction());\r\n    this.store.dispatch(resetConversationAction());\r\n    this.store.dispatch(showAction({ msgType: MESSAGE_STATUS.warning, message: '由于多实例登录被踢出，请重新登录!' }));\r\n  }\r\n\r\n  onError({ data }) {\r\n    if (data.message !== 'Network Error') {\r\n      console.log('%c error', 'color:red;font-size:20px;', data);\r\n    }\r\n  }\r\n  onMessageReadByPeer(event: any) {\r\n    console.log('已回执', event);\r\n  }\r\n\r\n  onReceiveMessage({ data: messageList }) {\r\n\r\n    // this.handleVideoMessage(messageList);\r\n    // this.handleAt(messageList);\r\n    // this.handleQuitGroupTip(messageList);\r\n    this.store.dispatch(pushCurrentMessageListAction({ message: messageList }));\r\n  }\r\n\r\n  // 会话列表更新\r\n  onUpdateConversationList(event: { data: Array<Conversation>; }) {\r\n    this.store.dispatch(updateConversationListAction({ conversationList: event.data }));\r\n  }\r\n\r\n  // 群列表更新\r\n  onUpdateGroupList(event: { data: Array<Group>; }) {\r\n    this.store.dispatch(updateGroupListAction({ groupList: event.data }));\r\n  }\r\n\r\n  onNetStateChange(event: any) {\r\n    console.log('网络监测::', event);\r\n  }\r\n  /**\r\n   * 切换会话\r\n   * 调用时机：切换会话时\r\n   */\r\n  checkoutConversation(conversationID: string) {\r\n\r\n    this.store.dispatch(resetCurrentMemberListAction());\r\n\r\n    // 1.切换会话前，将切换前的会话进行已读上报\r\n    if (this.conversation.currentConversation.conversationID) {\r\n      const prevConversationID = this.conversation.currentConversation.conversationID;\r\n      this.tim.setMessageRead({ conversationID: prevConversationID });\r\n    }\r\n\r\n    // 2.待切换的会话也进行已读上报\r\n    this.tim.setMessageRead({ conversationID });\r\n    // 3. 获取会话信息\r\n    return this.tim.getConversationProfile(conversationID).then((res: IMResponse<{ conversation: Conversation; }>) => {\r\n      // 3.1 更新当前会话\r\n      this.store.dispatch(updateCurrentConversationAction({ conversation: res.data.conversation }));\r\n      // 3.2 获取消息列表\r\n      this.getMessageList(conversationID);\r\n\r\n      if (res.data.conversation.type === TIM.TYPES.CONV_GROUP) {\r\n        this.getGroupMemberList(res.data.conversation.groupProfile.groupID);\r\n      }\r\n      return Promise.resolve();\r\n\r\n    });\r\n    // .catch(err => {\r\n    //   this.store.dispatch(showAction({ msgType: MESSAGE_STATUS.error, message: err }));\r\n    // });\r\n  }\r\n\r\n  /**\r\n   * @description 获取消息\r\n   */\r\n  getMessageList(conversationID: string) {\r\n    if (this.conversation.isCompleted) {\r\n      this.store.dispatch(showAction({\r\n        msgType: MESSAGE_STATUS.info,\r\n        message: '已经没有更多的历史消息了哦'\r\n      }));\r\n      return;\r\n    }\r\n    const { nextReqMessageID, currentMessageList } = this.conversation;\r\n    this.tim.getMessageList({ conversationID, nextReqMessageID, count: 15 })\r\n      .then((imResponse: IMResponse<{ isCompleted: boolean, nextReqMessageID: string, messageList: Array<Message>; }>) => {\r\n        this.store.dispatch(updateMessageAction({\r\n          nextReqMessageID: imResponse.data.nextReqMessageID,\r\n          isCompleted: imResponse.data.isCompleted,\r\n          currentMessageList: [...imResponse.data.messageList, ...currentMessageList]\r\n        }));\r\n      });\r\n  }\r\n  /**\r\n   * @description 获取群成员\r\n   */\r\n  getGroupMemberList(groupID: string) {\r\n    this.tim.getGroupMemberList({\r\n      groupID,\r\n      offset: this.currentMemberList.length,\r\n      count: 30\r\n    }).then((imResponse: IMResponse<{ memberList: Array<GroupMember>; }>) => {\r\n      this.store.dispatch(updateCurrentMemberListAction({ currentMemberList: imResponse.data.memberList }));\r\n    });\r\n  }\r\n\r\n\r\n  private initTim(config: NgTimConfig) {\r\n    // const cosImport = await import('cos-js-sdk-v5');\r\n    // const timImport = await import('tim-js-sdk');\r\n\r\n    this.tim = TIM.create({\r\n      SDKAppID: config.sdkAppId,\r\n      oversea: config.oversea,\r\n    });\r\n    // 无日志级别\r\n    this.tim.setLogLevel(config.level || 1);\r\n    // 注册 cos\r\n    this.tim.registerPlugin({ 'tim-upload-plugin': TIMUploadPlugin });\r\n  }\r\n\r\n}\r\n","export function titleNotify(count: number) {\r\n  const hasNewMessage = count > 0;\r\n  if (hasNewMessage) {\r\n    if (document.title.search(/\\((.*?)\\)/) >= 0) {\r\n      document.title = document.title.replace(/\\((.*?)\\)/, `(${count > 99 ? '99+' : count})`);\r\n    } else {\r\n      document.title = `(${count})${document.title}`;\r\n    }\r\n  } else {\r\n    document.title = document.title.replace(/\\((.*?)\\)/, '');\r\n  }\r\n}\r\n","import { Component, OnInit, ChangeDetectionStrategy, Input } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Store } from '@ngrx/store';\r\nimport { NzModalRef } from 'ng-zorro-antd/modal';\r\nimport { Profile } from 'tim-js-sdk';\r\nimport { MESSAGE_STATUS, TIM } from '../../shared.data';\r\nimport { showAction } from '../../store/actions';\r\nimport { TimHelperService } from '../../tim-helper.service';\r\n\r\n@Component({\r\n  selector: 'im-edit-profile',\r\n  templateUrl: './edit-profile.component.html',\r\n  styleUrls: ['./edit-profile.component.less'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class EditProfileComponent implements OnInit {\r\n  @Input() userProfile: Profile;\r\n\r\n  form: FormGroup;\r\n\r\n  radioOption = [\r\n    { label: '男', value: TIM.TYPES.GENDER_MALE },\r\n    { label: '女', value: TIM.TYPES.GENDER_FEMALE },\r\n    { label: '不显示', value: TIM.TYPES.GENDER_UNKNOWN },\r\n  ];\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    public modalRef: NzModalRef,\r\n    private store: Store,\r\n    private timHelperService: TimHelperService\r\n\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.form = this.fb.group({\r\n      avatar: [this.userProfile.avatar],\r\n      nick: [this.userProfile.nick],\r\n      gender: [this.userProfile.gender]\r\n    });\r\n  }\r\n\r\n  submitForm() {\r\n    const formValue = this.form.value;\r\n    if (formValue.avatar && formValue.avatar.indexOf('http') === -1) {\r\n      this.store.dispatch(\r\n        showAction({ msgType: MESSAGE_STATUS.warning, message: '头像应该是 Url 地址' })\r\n      );\r\n      formValue.avatar = '';\r\n      return;\r\n    }\r\n    const options = {};\r\n    // 过滤空串\r\n    Object.keys(formValue).forEach(key => {\r\n      if (formValue[key]) {\r\n        options[key] = formValue[key];\r\n      }\r\n    });\r\n    this.timHelperService.tim\r\n      .updateMyProfile(options as Profile)\r\n      .then(() => {\r\n        this.store.dispatch(\r\n          showAction({ msgType: MESSAGE_STATUS.success, message: '修改成功' })\r\n        );\r\n        this.modalRef.destroy();\r\n      })\r\n      .catch(imError => {\r\n        this.store.dispatch(\r\n          showAction({ msgType: MESSAGE_STATUS.error, message: imError.message })\r\n        );\r\n      });\r\n  }\r\n\r\n}\r\n","<form nz-form [formGroup]=\"form\" (ngSubmit)=\"submitForm()\">\r\n  <nz-form-item>\r\n    <nz-form-label [nzSm]=\"6\" [nzXs]=\"24\">\r\n      <span>头像</span>\r\n    </nz-form-label>\r\n    <nz-form-control [nzSm]=\"14\" [nzXs]=\"24\">\r\n      <input nz-input formControlName=\"avatar\" placeholder=\"头像地址\" />\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n\r\n  <nz-form-item>\r\n    <nz-form-label [nzSm]=\"6\" [nzXs]=\"24\" nzFor=\"avatar\">昵称</nz-form-label>\r\n    <nz-form-control [nzSm]=\"14\" [nzXs]=\"24\">\r\n      <input nz-input formControlName=\"nick\" placeholder=\"昵称\" />\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n\r\n  <nz-form-item>\r\n    <nz-form-label [nzSm]=\"6\" [nzXs]=\"24\">性别\r\n    </nz-form-label>\r\n    <nz-form-control [nzSm]=\"14\" [nzXs]=\"24\">\r\n      <nz-radio-group formControlName=\"gender\">\r\n        <label *ngFor=\"let item of radioOption\" nz-radio\r\n          [nzValue]=\"item.value\">{{item.label}}</label>\r\n      </nz-radio-group>\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n\r\n\r\n  <nz-form-item nz-row nzJustify=\"center\">\r\n    <nz-form-control [nzSpan]=\"12\" nzPush=\"8\">\r\n      <button nz-button nzType=\"primary\">确定</button>\r\n    </nz-form-control>\r\n    <nz-form-control [nzSpan]=\"12\">\r\n      <button nz-button nzType=\"default\" type=\"button\" (click)=\"modalRef.destroy()\">取消</button>\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n</form>\r\n","import { Component, Input, OnInit, } from '@angular/core';\r\nimport { TIM } from '../shared.data';\r\n\r\n@Component({\r\n  selector: 'im-avatar',\r\n  templateUrl: './avatar.component.html',\r\n  styleUrls: ['./avatar.component.less'],\r\n})\r\nexport class AvatarComponent implements OnInit {\r\n  @Input() shape: 'circle' | 'square' = 'circle';\r\n  @Input() size: 'large' | 'small' | 'default' | number = 'large';\r\n  @Input() type: string = 'C2C';\r\n  @Input() title: string;\r\n  @Input() set src(value: string) {\r\n    this._src = value;\r\n    if (/^(https:|http:|\\/\\/)/.test(value)) {\r\n      this.avatarSrc = value;\r\n    } else {\r\n      this.avatarSrc = this.getDefaultAvatar();\r\n    }\r\n  };\r\n  get src() {\r\n    return this._src;\r\n  }\r\n\r\n  private _src: string;\r\n\r\n  avatarSrc: string;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n\r\n  getDefaultAvatar() {\r\n    switch (this.type) {\r\n      case 'C2C':\r\n        // 个人头像\r\n        return 'https://imgcache.qq.com/open/qcloud/video/act/webim-avatar/avatar-2.png';\r\n      case 'GROUP':\r\n        // 群默认头像\r\n        return 'https://imgcache.qq.com/open/qcloud/video/act/webim-avatar/avatar-3.png';\r\n      case TIM.TYPES.CONV_SYSTEM:\r\n        return 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAACpCAMAAAHy0MbyAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJYUExURQrBYAvBYRPDZhzGbCXIcSrJdSHHbxjFaQ7CYwzBYSnJdEzSi3bcpqLnw87z3+X47uj58Ov68uz68+n58ef579/36rzu05Djt2TYmz7OghnFai/KeIHfrcPw2OP47fz+/f////P8+Nb15K7ry1vVlBrFaw7CYlDTjqrqyPP899j15YrhsxDCZFfUksDv1vr+/C7KdyzKdq3qynLbo2HXmf7//rTszhTDZo/jtk7SjCjJc7nt0fX9+THLes3y3/3//oXgsA3CYjTMe5HjuA/CY8/z4IDfrRbEaLft0GbYnO779Pb9+cLv1x3GbNL04ub575zmv5flvEDPgzDLeaXoxIzitPD79TXMfB7GbeL47F7WlhLDZavqyfj9+03SjN326YvitEbQh3jdqO/79CLHcLHrzE/TjSPHcOT47vH79rHrzUvSivf9+vn++8zy3lXUkdf15SDHblnVk+D36ybIclrVlGfZnHjdpznNf1HTjhfEadv26I3itUfRiMfx26Pow0HPhJPkuZjlvMHv1zjNfkTQhWnZnhvFa8ry3TLLepXkurbt0Gvan4LfrknRiV/Wl9X05HHbo7/v1Z3mv8jx24jhskjRiTrNf8nx3Mvy3WLXmUfQh0XQhu3681LTj9n15ljVk2XYm6/ry+H37Or68bXsz2PYmjfMfW3aoLvu0zbMfTPLe77u1S7KeErRirDrzNr253fcpkPPhSvJdafpxr3u1N736n/frPL89o7itW/boWDXl3ndqJvmvvv+/Xveqsbx2tz26fT8+BHDZD3OgYTgr4fhsQAAAKRC35oAAADIdFJOU/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8A9ppxxwAAAAlwSFlzAAAXEQAAFxEByibzPwAABVpJREFUaEPt2zuP2koUB3BaN1dCLikwols5fVb5Cim3QaxEtNomDdJKaHWbbaBASPcTUKVBShv6NNH6e2Uefxs/5u0H7NX5NXiOzwwjY+yxPR4N422MhYqEw/KFiDbiZ3UY0V7D1ThizDMiAmIcIkIURaycxlGEQCFLRvUvlDJ8/j+MP2OhTGymxoqxCDc2ioz6/mgo5hB1C39BtBZGkEFAQIiLERKiKN2xtc0ffpSkD1MsVhzxSZxgoydLlA2QKfyLmA7S4Buiaitk5RBWQ04BYTXkFBBWQ04BYTXkFA6IqyCl5AvWNGB9DVbWYW3NGWvVZGOZsb8X8i+MAiHe5rOFeYfMbcSuliQzlA3WSGUQ0fqGPAExHWRJvxFUwzk2h6gacnKIqiEnt0VYCTm5FcJKyMlVzrB1yMl9tFzTBn5ASgFxFWRc6I+YSCjDmoZGDzisq8PaKuWQR52qaTi/BKjB2jo28mZjb7k2TkRRLGv9lCcgTUdrkiQbpbZTVk5003VYH2X3lo4SQkiAN3EokhYbBNuqDFWkN6xqoTRWKmt5d2SJZhSQESQfAyohJwRa0ECSvzka0LhHmrcZGtBYI80b6usYR1kG7ARuRO1KH63d0D8GausFdfiAykbI9fAdNS0+Id2RU2cl1HCivHrQ8bgPihpuvqOSi/RxFRd4XSwyU1bEIndKUcVbym8fYplhBeNlswfWVIJuTXh35WIH7lhjvEHhAcEuRO9/ZKOrPSKEEEIIIVey+e+f8Wy8e3V4yuxuWb4AV02QCFO/rH9CvB3FLRPlbB5P6lsmWBnuBQ3VYXUwNNPg8NTPhA+o1Vr9eKb7UUgJUnt8WDFHTgDDXTkGSQHM97ncHt6ooAGN4NtctstZZHnbo74O0rxpHsgVkObtHvV1Qq+4be2G3hCndiVqV6J2pb7afUJ9HbcpYk316Xx15smAeqiuhzxPW9TWq8xQdmW9u+53J7VQ3Dc0CJgCa98KHJLd2c5tOaQ7QzUr46yoJpeNK3ndY85QyYXPcApV3KCOA9cfTZqglp1fu+7/utT9Z9NNoFJLj2s8nuBYZSxx1dKd919OTKxixLOiNC+OnnkJBdtUKzN+ALo8gub/byy2xVq6bMRKoR3WxekjllfsJw1+fl7H+pjEfHd65ztKV90did/q8hynw+lmomEIfi6mdEKr284nx02y7GlPU+4IIYQQQgghhBBisVxuNptOp4j0YpOt60/wF/MfN9nvHzt0UGH2OfTJUT9eTdMipPmt9Hhj2K4Vr6hwTYcFOuOiu3lUYZauWzZ31S3s90hD2F3vQKF4xdBudq3/3G90wFfoc+t2grYtN75Gf1/x5QEWaGJAL7YpBSah0w3C2SZWGI0HPzzoJ0+66GZ2rDuPV+tUWkyvDGKbvGOx7vbxn9UnfG+g1cDnirbdfUE7A6Hu9om62yfqbp+ou336YN1tMTjn4oFPwm5TR/U6m+flJOCKvSr8vZQA5ZlggQa8/jn7TMTU8ZpZ20ary7SLfMpiv9J2V2klsfuE3WBHfFcnMjTal32buwsKcfgbcQ463bRSfxeZ6Rpf0a2A9xtcTLo4fKn0soH3fAp6P/o4xfWw3+amPfzhetpzuR2+olv3fMp89+56HJ1F+4kCdpQTihVnuc/HB5TLDpOB75VJE9GjZKX6cow1Bx0xWkR4A+AB5ZIU58Gejq5hnnGUaxxCMdacnlC+EZP8qHwqvwyB/ZZF0xt7RSJdF4eN6Wl7PP7asoHmFNv2J5JuyVk3Wnu8yt/fKkq32Jwlq/tbflMmet/e/ZEdncZfj0Gvvw4s35ztXpkjhBBCCCGkrdHoLzv9X1u4OdoGAAAAAElFTkSuQmCC';\r\n      default:\r\n        // 默认头像\r\n        return 'https://imgcache.qq.com/open/qcloud/video/act/webim-avatar/avatar-1.png';\r\n    }\r\n  }\r\n\r\n}\r\n","<nz-avatar [nzSize]=\"size\" [nzShape]=\"shape\" [nzSrc]=\"avatarSrc\" [nzAlt]=\"title\" [title]=\"title\"></nz-avatar>\r\n","import { Component, OnInit, ChangeDetectionStrategy, Input } from '@angular/core';\r\nimport { Profile } from 'tim-js-sdk';\r\nimport { TIM } from '../../shared.data';\r\n\r\n@Component({\r\n  selector: 'im-profile-card',\r\n  templateUrl: './profile-card.component.html',\r\n  styleUrls: ['./profile-card.component.less'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ProfileCardComponent implements OnInit {\r\n\r\n  @Input() set userProfile(value: Profile) {\r\n    this._userProfile = value;\r\n    switch (value.gender) {\r\n      case TIM.TYPES.GENDER_MALE:\r\n        this.className = 'icon-male';\r\n        break;\r\n      case TIM.TYPES.GENDER_FEMALE:\r\n        this.className = 'icon-female';\r\n        break;\r\n      default:\r\n        this.className = null;\r\n    }\r\n  };\r\n\r\n  get userProfile() {\r\n    return this._userProfile;\r\n  }\r\n\r\n  className: string;\r\n\r\n  private _userProfile: Profile;\r\n\r\n  constructor() { };\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n}\r\n","<div class=\"profile-card-wrapper\">\r\n  <div class=\"content\">\r\n    <im-avatar [src]=\"userProfile?.avatar\"></im-avatar>\r\n    <div class=\"basic\">\r\n      <span class=\"nick text-ellipsis\">{{ userProfile?.nick || userProfile?.userID }}</span>\r\n      <span class=\"iconfont\" [class]=\"className\"></span>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { Profile } from 'tim-js-sdk';\r\nimport { currentUserProfileSelector } from '../store/selectors';\r\nimport { EditProfileComponent } from './edit-profile/edit-profile.component';\r\n\r\n@Component({\r\n  selector: 'app-my-profile',\r\n  templateUrl: './my-profile.component.html',\r\n  styleUrls: ['./my-profile.component.less'],\r\n})\r\nexport class MyProfileComponent implements OnInit, OnDestroy {\r\n  currentUserProfile: Profile;\r\n  subscription: Subscription;\r\n\r\n  constructor(\r\n    private store: Store,\r\n    private modal: NzModalService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.subscription = this.store.select(currentUserProfileSelector)\r\n      .subscribe(res => {\r\n        if (res) {\r\n          this.currentUserProfile = res;\r\n        }\r\n      });\r\n  }\r\n\r\n  editProfile() {\r\n    this.modal.create({\r\n      nzTitle: `编辑资料`,\r\n      nzContent: EditProfileComponent,\r\n      nzMaskClosable: false,\r\n      nzFooter: null,\r\n      nzWidth: '40%',\r\n      nzStyle: { top: '20px' },\r\n      nzComponentParams: {\r\n        userProfile: this.currentUserProfile\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n}\r\n","<ng-template #titleTemplate>\r\n  <div class=\"title-container\">\r\n    <span>当前用户</span>\r\n    <i nz-icon nzType=\"setting\" nzTheme=\"outline\" (click)=\"editProfile()\"></i>\r\n  </div>\r\n</ng-template>\r\n\r\n<ng-template #contentTemplate>\r\n  <im-profile-card [userProfile]=\"currentUserProfile\"></im-profile-card>\r\n</ng-template>\r\n\r\n<div class=\"my-profile-wrapper\">\r\n  <div nz-button nz-popover nzType=\"primary\" nzPopoverTrigger=\"click\"\r\n    [nzPopoverTitle]=\"titleTemplate\" nzPopoverPlacement=\"right\"\r\n    [nzPopoverContent]=\"contentTemplate\">\r\n    <im-avatar [src]=\"currentUserProfile.avatar\"></im-avatar>\r\n  </div>\r\n</div>\r\n","/**\r\n * 返回年月日\r\n * @export\r\n * @param {Date} date\r\n * @param {string} [splitor='-']\r\n * @returns\r\n */\r\nexport function getDate(date, splitor = '-') {\r\n  const year = date.getFullYear()\r\n  const month = date.getMonth() + 1\r\n  const day = date.getDate()\r\n  return `${year}${splitor}${addZeroPrefix(month)}${splitor}${addZeroPrefix(day)}`\r\n}\r\n\r\n/**\r\n * 返回时分秒/时分\r\n * @export\r\n * @param {*} date\r\n * @param {boolean} [withSecond=false]\r\n * @returns\r\n */\r\nexport function getTime(date, withSecond = false) {\r\n  const hour = date.getHours()\r\n  const minute = date.getMinutes()\r\n  const second = date.getSeconds()\r\n  return withSecond ? `${addZeroPrefix(hour)}:${addZeroPrefix(minute)}:${addZeroPrefix(second)}` : `${hour}:${addZeroPrefix(minute)}`\r\n}\r\n\r\nexport function getFullDate(date) {\r\n  return `${getDate(date)} ${getTime(date)}`\r\n}\r\n\r\nexport function isToday(date) {\r\n  return date.toDateString() === new Date().toDateString()\r\n}\r\n\r\n\r\n/**\r\n * 个位数，加0前缀\r\n * @param {*} number\r\n * @returns\r\n */\r\nfunction addZeroPrefix(number) {\r\n  return number < 10 ? `0${number}`:number\r\n}\r\n","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\n\r\nimport { getDate, getTime, isToday } from '../../util/date';\r\n\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { TimHelperService } from '../../tim-helper.service';\r\n\r\nimport { Subscription } from 'rxjs';\r\nimport { currentUserProfileSelector } from '../../store/selectors';\r\nimport { resetCurrentConversationAction, showAction } from '../../store/actions';\r\n\r\nimport TIM, { Conversation, Profile } from 'tim-js-sdk';\r\nimport { MESSAGE_STATUS } from '../../shared.data';\r\n\r\n\r\n@Component({\r\n  selector: 'app-conversation-item',\r\n  templateUrl: './conversation-item.component.html',\r\n  styleUrls: ['./conversation-item.component.less']\r\n})\r\nexport class ConversationItemComponent implements OnInit, OnDestroy {\r\n  @Input() currentConversation: Conversation;\r\n  @Input() conversation: Conversation;\r\n\r\n  TIM = TIM;\r\n  currentUserProfile: Profile;\r\n  profileSubscription: Subscription;\r\n\r\n  constructor(\r\n    private store: Store,\r\n    private timHelperService: TimHelperService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.profileSubscription = this.store.select(currentUserProfileSelector)\r\n      .subscribe(res => {\r\n        this.currentUserProfile = res;\r\n      });\r\n  }\r\n\r\n  selectConversation() {\r\n    if (this.conversation.conversationID !== this.currentConversation.conversationID) {\r\n      this.timHelperService.checkoutConversation(this.conversation.conversationID);\r\n      // this.timHelperService.eventBus$.next('select-item');\r\n    }\r\n  }\r\n\r\n  get avatarSrc() {\r\n    switch (this.conversation.type) {\r\n      case 'GROUP':\r\n        return this.conversation.groupProfile?.avatar;\r\n      case 'C2C':\r\n        return this.conversation.userProfile?.avatar;\r\n      default:\r\n        return null;\r\n    }\r\n\r\n  };\r\n\r\n  get date() {\r\n    if (!this.conversation.lastMessage || !this.conversation.lastMessage.lastTime) {\r\n      return '';\r\n    }\r\n    const date = new Date(this.conversation.lastMessage.lastTime * 1000);\r\n    if (isToday(date)) {\r\n      return getTime(date);\r\n    }\r\n    return getDate(date);\r\n  }\r\n  get messageForShow() {\r\n    if (this.conversation.lastMessage.isRevoked) {\r\n      if (this.conversation.lastMessage.fromAccount === this.currentUserProfile?.userID) {\r\n        return '你撤回了一条消息';\r\n      }\r\n      if (this.conversation.type === TIM.TYPES.CONV_C2C) {\r\n        return '对方撤回了一条消息';\r\n      }\r\n      return `${this.conversation.lastMessage.fromAccount}撤回了一条消息`;\r\n    }\r\n    return this.conversation.lastMessage.messageForShow;\r\n  }\r\n\r\n  get conversationName() {\r\n    if (this.conversation.type === TIM.TYPES.CONV_C2C) {\r\n      return this.conversation.userProfile.nick || this.conversation.userProfile.userID;\r\n    }\r\n    if (this.conversation.type === TIM.TYPES.CONV_GROUP) {\r\n      return this.conversation.groupProfile.name || this.conversation.groupProfile.groupID;\r\n    }\r\n    if (this.conversation.type === TIM.TYPES.CONV_SYSTEM) {\r\n      return '系统通知';\r\n    }\r\n    return '';\r\n  }\r\n\r\n\r\n  deleteConversation(event) {\r\n    // 停止冒泡，避免和点击会话的事件冲突\r\n    event.stopPropagation();\r\n    this.timHelperService.tim\r\n      .deleteConversation(this.conversation.conversationID)\r\n      .then(() => {\r\n        this.store.dispatch(\r\n          showAction({\r\n            message: `会话【${this.conversationName}】删除成功!`,\r\n            msgType: MESSAGE_STATUS.success\r\n          }));\r\n        this.store.dispatch(resetCurrentConversationAction());\r\n      })\r\n      .catch(error => {\r\n        this.store.dispatch(\r\n          showAction({\r\n            message: `会话【${this.conversationName}】删除失败!, error=${error.message}`,\r\n            msgType: MESSAGE_STATUS.error\r\n          }));\r\n\r\n      });\r\n  }\r\n\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.profileSubscription) {\r\n      this.profileSubscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"conversation-item-container\"\r\n  [ngClass]=\"{'choose': conversation.conversationID === currentConversation.conversationID }\"\r\n  (click)=\"selectConversation()\">\r\n  <div class=\"close-btn\">\r\n    <span class=\"tim-icon-close\" title=\"删除会话\" (click)=\"deleteConversation($event)\"></span>\r\n  </div>\r\n  <div class=\"warp\">\r\n    <im-avatar [src]=\"avatarSrc\" [type]=\"conversation.type\"></im-avatar>\r\n    <div class=\"content\">\r\n      <div class=\"row-1\">\r\n        <div class=\"name\">\r\n          <div class=\"text-ellipsis\">\r\n            <span [title]=\"conversation.userProfile.nick || conversation.userProfile.userID\"\r\n              *ngIf=\"conversation.type ===  TIM.TYPES.CONV_C2C\">\r\n              {{conversation.userProfile.nick || conversation.userProfile.userID}}\r\n            </span>\r\n            <span [title]=\"conversation.groupProfile.name || conversation.groupProfile.groupID\"\r\n              *ngIf=\"conversation.type===TIM.TYPES.CONV_GROUP\">\r\n              {{conversation.groupProfile.name || conversation.groupProfile.groupID}}\r\n            </span>\r\n            <span *ngIf=\"conversation.type === TIM.TYPES.CONV_SYSTEM\">系统通知\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div class=\"unread-count\">\r\n          <span class=\"badge\" *ngIf=\"this.conversation.unreadCount > 0\">\r\n            {{conversation.unreadCount > 99 ? '99+' : conversation.unreadCount}}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"row-2\">\r\n        <div class=\"summary\">\r\n          <div v-if=\"conversation.lastMessage\" class=\"text-ellipsis\">\r\n            <!-- <span class=\"remind\" style=\"color:red;\">[有人提到我]</span> -->\r\n            <span class=\"text\" [title]=\"conversation.lastMessage.messageForShow\">\r\n              {{messageForShow}}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div class=\"date\">\r\n          {{date}}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { TimHelperService } from '../../tim-helper.service';\r\n\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { Conversation } from 'tim-js-sdk';\r\nimport { currentConversationSelector, conversationListSelector } from '../../store/selectors';\r\nimport { showAction } from '../../store/actions';\r\nimport { Subscription } from 'rxjs';\r\nimport { MESSAGE_STATUS } from '../../shared.data';\r\n\r\n\r\n@Component({\r\n  selector: 'app-conversation-list',\r\n  templateUrl: './conversation-list.component.html',\r\n  styleUrls: ['./conversation-list.component.less']\r\n})\r\nexport class ConversationListComponent implements OnInit, OnDestroy {\r\n  conversationList: Array<Conversation> = [];\r\n  timeout = null;\r\n  showDialog = false;\r\n  userID = '';\r\n  subscription: Subscription;\r\n  storeSubscription: Subscription;\r\n  currentConversation: Conversation;\r\n\r\n  constructor(\r\n    private store: Store,\r\n    private timHelperService: TimHelperService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.storeSubscription = this.store.select(currentConversationSelector)\r\n      .subscribe(res => {\r\n        this.currentConversation = res;\r\n      });\r\n\r\n    // 获取当前list会话\r\n    this.subscription = this.store.select(conversationListSelector)\r\n      .subscribe(res => {\r\n        this.conversationList = res;\r\n      });\r\n  };\r\n\r\n  add() {\r\n    this.showDialog = true;\r\n  }\r\n\r\n  handleOk(): void {\r\n    if (this.userID !== '@TIM#SYSTEM') {\r\n      this.timHelperService.checkoutConversation(`C2C${this.userID}`);\r\n      this.showDialog = false;\r\n    }\r\n    this.userID = '';\r\n  }\r\n\r\n  handleCancel(): void {\r\n    this.showDialog = false;\r\n  }\r\n\r\n  refresh() {\r\n    // if (!this.timeout) {\r\n    //   this.timeout = setTimeout(() => {\r\n    //     this.timeout = null;\r\n\r\n    //   }, 1000);\r\n    // }\r\n\r\n    // 拉取会话列表\r\n    this.timHelperService.tim.getConversationList().then(({ data }) => {\r\n      this.store.dispatch(showAction({ msgType: MESSAGE_STATUS.success, message: '刷新成功！' }));\r\n\r\n    }).catch((imError) => {\r\n      console.error('getConversationList error:', imError); // 获取会话列表失败的相关信息\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n    }\r\n    if (this.storeSubscription) {\r\n      this.storeSubscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"list-container\">\r\n  <div class=\"header-bar\">\r\n    <button title=\"刷新列表\" (click)=\"refresh()\">\r\n      <i class=\"tim-icon-refresh\"></i>\r\n    </button>\r\n    <button title=\"创建会话\" (click)=\"add()\">\r\n      <i class=\"tim-icon-add\"></i>\r\n    </button>\r\n  </div>\r\n  <div class=\"scroll-container\">\r\n    <app-conversation-item [currentConversation]=\"currentConversation\" [conversation]=\"item\"\r\n      *ngFor=\"let item of conversationList\">\r\n    </app-conversation-item>\r\n  </div>\r\n</div>\r\n\r\n<nz-modal [(nzVisible)]=\"showDialog\" nzTitle=\"发起会话\" [nzContent]=\"content\"\r\n  (nzOnCancel)=\"handleCancel()\" (nzOnOk)=\"handleOk()\">\r\n</nz-modal>\r\n\r\n<ng-template #content>\r\n  <nz-form-item>\r\n    <nz-form-label [nzSpan]=\"6\">用户ID</nz-form-label>\r\n    <nz-form-control [nzSpan]=\"14\">\r\n      <input nz-input [(ngModel)]=\"userID\">\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n</ng-template>\r\n","import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef, EventEmitter, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Store } from '@ngrx/store';\r\nimport { NzModalRef } from 'ng-zorro-antd/modal';\r\nimport { NzSelectComponent } from 'ng-zorro-antd/select';\r\n\r\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\r\n\r\n\r\nimport { MESSAGE_STATUS, TIM_TYPES } from '../../shared.data';\r\nimport { showAction } from '../../store/actions';\r\nimport { TimHelperService } from '../../tim-helper.service';\r\n\r\n@Component({\r\n  selector: 'im-create-group',\r\n  templateUrl: './create-group.component.html',\r\n  styleUrls: ['./create-group.component.less'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CreateGroupComponent implements OnInit {\r\n  validateForm!: FormGroup;\r\n\r\n  captchaTooltipIcon: any = {\r\n    type: 'info-circle',\r\n    theme: 'twotone'\r\n  };\r\n\r\n  groupTypeOption = [\r\n    { label: 'Work', value: TIM_TYPES.GRP_WORK },\r\n    { label: 'Public', value: TIM_TYPES.GRP_PUBLIC },\r\n    { label: 'Meeting', value: TIM_TYPES.GRP_MEETING },\r\n    { label: 'AVChatRoom', value: TIM_TYPES.GRP_AVCHATROOM },\r\n  ];\r\n\r\n  memberListOfOption = [];\r\n\r\n  loading = false;\r\n\r\n  @ViewChild('search', { static: true }) private nzSelect: NzSelectComponent;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private store: Store,\r\n    private cd: ChangeDetectorRef,\r\n    public modalRef: NzModalRef,\r\n    private timeHelper: TimHelperService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.validateForm = this.fb.group({\r\n      groupID: [null, []],\r\n      name: [null, [Validators.required]],\r\n      type: [TIM_TYPES.GRP_WORK, [Validators.required]],\r\n      avatar: [null, []],\r\n      introduction: [],\r\n      notification: [null, []],\r\n      joinOption: [{ value: 'FreeAccess', disabled: true }, []],\r\n      memberList: [[], []]\r\n    });\r\n\r\n    this.validateForm.get('type').valueChanges.subscribe((value: TIM_TYPES) => {\r\n      switch (value) {\r\n        case TIM_TYPES.GRP_WORK:\r\n          this.validateForm.get('joinOption').disable();\r\n          this.validateForm.get('memberList').enable();\r\n          break;\r\n        case TIM_TYPES.GRP_PUBLIC:\r\n          this.validateForm.get('joinOption').enable();\r\n          this.validateForm.get('memberList').enable();\r\n          break;\r\n        case TIM_TYPES.GRP_MEETING:\r\n          this.validateForm.get('joinOption').disable();\r\n          this.validateForm.get('memberList').enable();\r\n          break;\r\n        case TIM_TYPES.GRP_AVCHATROOM:\r\n          this.validateForm.get('joinOption').disable();\r\n          this.validateForm.get('memberList').disable();\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    });\r\n\r\n    this.nzSelect.nzOnSearch.pipe(debounceTime(600), distinctUntilChanged())\r\n      .subscribe((res: string) => {\r\n        this.handleSearchUser(res);\r\n      });\r\n\r\n  }\r\n\r\n  handleSearchUser(userID: string) {\r\n    if (userID !== '') {\r\n      this.loading = true;\r\n      this.timeHelper.tim.getUserProfile({ userIDList: [userID] }).then(({ data }) => {\r\n        this.memberListOfOption = data.map(item => item.userID);\r\n        this.loading = false;\r\n        this.cd.markForCheck();\r\n      }).catch((error: any) => {\r\n        this.store.dispatch(showAction({\r\n          msgType: MESSAGE_STATUS.error,\r\n          message: error.message\r\n        }));\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  submitForm(): void {\r\n    for (const i in this.validateForm.controls) {\r\n      this.validateForm.controls[i].markAsDirty();\r\n      this.validateForm.controls[i].updateValueAndValidity();\r\n    }\r\n\r\n    this.timeHelper.tim.createGroup(this.getOptions()).then((imResponse) => {\r\n      this.store.dispatch(\r\n        showAction({\r\n          msgType: MESSAGE_STATUS.success,\r\n          message: `群组：【${imResponse.data.group.name}】创建成功`\r\n        }));\r\n      this.modalRef.destroy();\r\n    }).catch(error => {\r\n      this.store.dispatch(\r\n        showAction({\r\n          msgType: MESSAGE_STATUS.error,\r\n          message: error.message\r\n        }));\r\n    });\r\n  }\r\n\r\n  getOptions() {\r\n    let options = {\r\n      ...this.validateForm.value,\r\n      memberList: this.validateForm.value.memberList.map(userID => ({ userID }))\r\n    };\r\n    if ([TIM_TYPES.GRP_WORK, TIM_TYPES.GRP_AVCHATROOM].includes(this.validateForm.value.type)) {\r\n      delete options.joinOption;\r\n    }\r\n    return options;\r\n  }\r\n\r\n}\r\n","<form nz-form [formGroup]=\"validateForm\" (ngSubmit)=\"submitForm()\">\r\n  <nz-form-item>\r\n    <nz-form-label [nzSm]=\"6\" [nzXs]=\"24\" nzFor=\"groupID\">群ID</nz-form-label>\r\n    <nz-form-control [nzSm]=\"14\" [nzXs]=\"24\">\r\n      <input nz-input formControlName=\"groupID\" id=\"groupID\" />\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n  <nz-form-item>\r\n    <nz-form-label [nzSm]=\"6\" [nzXs]=\"24\" nzRequired>\r\n      <span>群名称</span>\r\n    </nz-form-label>\r\n    <nz-form-control [nzSm]=\"14\" [nzXs]=\"24\" nzErrorTip=\"请输入名称!\">\r\n      <input nz-input formControlName=\"name\" />\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n  <nz-form-item>\r\n    <nz-form-label [nzSm]=\"6\" [nzXs]=\"24\" nzRequired>群类型\r\n    </nz-form-label>\r\n    <nz-form-control [nzSm]=\"14\" [nzXs]=\"24\">\r\n      <nz-select formControlName=\"type\">\r\n        <nz-option *ngFor=\"let item of groupTypeOption\" [nzLabel]=\"item.label\"\r\n          [nzValue]=\"item.value\">\r\n        </nz-option>\r\n      </nz-select>\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n  <nz-form-item>\r\n    <nz-form-label [nzSm]=\"6\" [nzXs]=\"24\" nzFor=\"avatar\">群头像地址</nz-form-label>\r\n    <nz-form-control [nzSm]=\"14\" [nzXs]=\"24\">\r\n      <input nz-input id=\"avatar\" formControlName=\"avatar\" placeholder=\"avatar\" />\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n  <nz-form-item>\r\n    <nz-form-label [nzSm]=\"6\" [nzXs]=\"24\">群简介</nz-form-label>\r\n    <nz-form-control [nzSm]=\"14\" [nzXs]=\"24\">\r\n      <textarea nz-input formControlName=\"introduction\" placeholder=\"群简介\" [maxlength]=\"240\"\r\n        [nzAutosize]=\"{ minRows: 3, maxRows: 5 }\"></textarea>\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n  <nz-form-item>\r\n    <nz-form-label [nzSm]=\"6\" [nzXs]=\"24\">群公告\r\n    </nz-form-label>\r\n    <nz-form-control [nzSm]=\"14\" [nzXs]=\"24\">\r\n      <textarea nz-input formControlName=\"notification\" placeholder=\"群公告\" [maxlength]=\"300\"\r\n        [nzAutosize]=\"{ minRows: 3, maxRows: 5 }\"></textarea>\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n  <nz-form-item>\r\n    <nz-form-label [nzSm]=\"6\" [nzXs]=\"24\">加群方式\r\n    </nz-form-label>\r\n    <nz-form-control [nzSm]=\"14\" [nzXs]=\"24\">\r\n      <nz-radio-group formControlName=\"joinOption\">\r\n        <label nz-radio nzValue=\"FreeAccess\">自由加群</label>\r\n        <label nz-radio nzValue=\"NeedPermission\">需要验证</label>\r\n        <label nz-radio nzValue=\"DisableApply\">禁止加群</label>\r\n      </nz-radio-group>\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n  <nz-form-item>\r\n    <nz-form-label [nzSm]=\"6\" [nzXs]=\"24\">群成员列表\r\n    </nz-form-label>\r\n    <nz-form-control [nzSm]=\"14\" [nzXs]=\"24\">\r\n      <nz-select #search nzMode=\"multiple\" [nzLoading]=\"loading\" nzPlaceHolder=\"请输入群成员 userID\"\r\n        formControlName=\"memberList\">\r\n        <nz-option *ngFor=\"let item of memberListOfOption\" [nzLabel]=\"item\" [nzValue]=\"item\">\r\n        </nz-option>\r\n      </nz-select>\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n\r\n  <nz-form-item nz-row nzJustify=\"center\">\r\n    <nz-form-control [nzSpan]=\"12\" nzPush=\"8\">\r\n      <button nz-button nzType=\"primary\">立即创建</button>\r\n    </nz-form-control>\r\n    <nz-form-control [nzSpan]=\"12\">\r\n      <button nz-button nzType=\"default\" type=\"button\" (click)=\"modalRef.destroy()\">取消</button>\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n</form>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Group } from 'tim-js-sdk';\r\nimport { TimHelperService } from '../../tim-helper.service';\r\n\r\n@Component({\r\n  selector: 'app-group-item',\r\n  templateUrl: './group-item.component.html',\r\n  styleUrls: ['./group-item.component.less']\r\n})\r\nexport class GroupItemComponent implements OnInit {\r\n  @Input() group: Group;\r\n\r\n  constructor(\r\n    private timHelperService: TimHelperService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  handleGroupClick() {\r\n    const conversationID = `GROUP${this.group.groupID}`;\r\n    this.timHelperService.checkoutConversation(conversationID);\r\n  }\r\n\r\n}\r\n","<div (click)=\"handleGroupClick()\" class=\"scroll-container\">\r\n  <div class=\"group-item\">\r\n    <im-avatar [src]=\"group?.avatar\"></im-avatar>\r\n    <div class=\"group-name text-ellipsis\">{{ group?.name }}</div>\r\n  </div>\r\n</div>\r\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { NzSelectComponent } from 'ng-zorro-antd/select';\r\nimport { Subscription } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\r\n\r\n\r\nimport { Group } from 'tim-js-sdk';\r\nimport { MESSAGE_STATUS, TIM } from '../../shared.data';\r\nimport { showAction } from '../../store/actions';\r\nimport { groupListSelector } from '../../store/selectors/group.selector';\r\nimport { TimHelperService } from '../../tim-helper.service';\r\nimport { CreateGroupComponent } from '../create-group/create-group.component';\r\n\r\n\r\n@Component({\r\n  selector: 'app-group-list',\r\n  templateUrl: './group-list.component.html',\r\n  styleUrls: ['./group-list.component.less'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class GroupListComponent implements OnInit, OnDestroy {\r\n  group: Group;\r\n  loading = false;\r\n  groupList: Array<Group> = [];\r\n  groupListOfOption = [];\r\n  subscription: Subscription;\r\n\r\n  @ViewChild('search', { static: true }) private selectGroup: NzSelectComponent;\r\n\r\n  constructor(\r\n    private store: Store,\r\n    private cd: ChangeDetectorRef,\r\n    private modal: NzModalService,\r\n    private timHelper: TimHelperService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.subscription = this.store.select(groupListSelector).subscribe(res => {\r\n      this.groupList = res;\r\n      this.cd.markForCheck();\r\n    });\r\n\r\n    this.selectGroup.nzOnSearch.pipe(debounceTime(600), distinctUntilChanged())\r\n      .subscribe((res: string) => {\r\n        this.searchGroupByID(res);\r\n      });\r\n  }\r\n\r\n  searchGroupByID(queryString: string) {\r\n    if (queryString.trim().length > 0) {\r\n      this.loading = true;\r\n      this.timHelper.tim\r\n        .searchGroupByID(queryString)\r\n        .then(({ data: { group } }) => {\r\n          this.groupListOfOption = [group];\r\n          this.cd.markForCheck();\r\n          this.loading = false;\r\n        })\r\n        .catch(() => {\r\n          this.store.dispatch(showAction({\r\n            msgType: MESSAGE_STATUS.error,\r\n            message: '没有找到该群'\r\n          }));\r\n          this.loading = false;\r\n        });\r\n    }\r\n  }\r\n\r\n  applyJoinGroup(group: Group) {\r\n    this.timHelper.tim\r\n      .joinGroup({ groupID: group.groupID, applyMessage: '' })\r\n      .then(async (res: any) => {\r\n        switch (res.data.status) {\r\n          case TIM.TYPES.JOIN_STATUS_WAIT_APPROVAL:\r\n            this.store.dispatch(\r\n              showAction({\r\n                msgType: MESSAGE_STATUS.info,\r\n                message: '申请成功，等待群管理员确认！'\r\n              })\r\n            );\r\n            this.group = null;\r\n            this.groupListOfOption = [];\r\n            break;\r\n          case TIM.TYPES.JOIN_STATUS_SUCCESS:\r\n            await this.timHelper.checkoutConversation(`GROUP${res.data.group.groupID}`);\r\n            this.store.dispatch(\r\n              showAction({\r\n                msgType: MESSAGE_STATUS.success,\r\n                message: '加群成功'\r\n              })\r\n            );\r\n            this.group = null;\r\n            this.groupListOfOption = [];\r\n            break;\r\n          case TIM.TYPES.JOIN_STATUS_ALREADY_IN_GROUP:\r\n            this.store.dispatch(\r\n              showAction({\r\n                msgType: MESSAGE_STATUS.warning,\r\n                message: '您已经是群成员了，请勿重复加群哦！'\r\n              })\r\n            );\r\n            this.group = null;\r\n            this.groupListOfOption = [];\r\n            break;\r\n          default: break;\r\n        }\r\n        this.cd.markForCheck();\r\n      })\r\n      .catch(error => {\r\n        this.store.dispatch(showAction({\r\n          msgType: MESSAGE_STATUS.error,\r\n          message: error.message\r\n        }));\r\n      });\r\n  }\r\n\r\n  createGroup() {\r\n    this.modal.create({\r\n      nzTitle: `创建群组`,\r\n      nzContent: CreateGroupComponent,\r\n      nzMaskClosable: false,\r\n      nzFooter: null,\r\n      nzWidth: '40%',\r\n      nzStyle: { top: '20px' },\r\n      // nzComponentParams: {}\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n    }\r\n  }\r\n}\r\n","<div class=\"list-container\">\r\n  <div class=\"header-bar\">\r\n    <nz-select #search nzShowSearch nzServerSearch nzSize=\"small\" [nzLoading]=\"loading\"\r\n      nzPlaceHolder=\"输入群ID搜索\" [(ngModel)]=\"group\" (ngModelChange)=\"applyJoinGroup($event)\">\r\n      <nz-option *ngFor=\"let item of groupListOfOption\" [nzLabel]=\"item.groupID\" [nzValue]=\"item\">\r\n      </nz-option>\r\n    </nz-select>\r\n    <button title=\"创建群组\" (click)=\"createGroup()\">\r\n      <i class=\"tim-icon-add\"></i>\r\n    </button>\r\n  </div>\r\n  <div class=\"group-container\">\r\n    <app-group-item [group]=\"group\" *ngFor=\"let group of groupList\">\r\n    </app-group-item>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { MESSAGE_STATUS } from '../shared.data';\r\nimport { showAction } from '../store/actions';\r\nimport { updateGroupListAction } from '../store/actions/group.action';\r\nimport { ConversationState } from '../store/reducer/conversation.reducer';\r\nimport { conversationSelector } from '../store/selectors';\r\n\r\nimport { TimHelperService } from '../tim-helper.service';\r\nimport { titleNotify } from '../util/title-notice';\r\n\r\n@Component({\r\n  selector: 'app-side-bar',\r\n  templateUrl: './side-bar.component.html',\r\n  styleUrls: ['./side-bar.component.less']\r\n})\r\nexport class SideBarComponent implements OnInit {\r\n  activeName = {\r\n    CONVERSATION_LIST: 'conversation-list',\r\n    GROUP_LIST: 'group-list',\r\n    FRIEND_LIST: 'friend-list',\r\n    BLACK_LIST: 'black-list',\r\n  };\r\n  totalUnreadCount = 0;\r\n  active: string = this.activeName.CONVERSATION_LIST;\r\n  showConversationList = false;\r\n  constructor(\r\n    private store: Store,\r\n    private timHelperService: TimHelperService\r\n\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    // 获取当前会话\r\n    this.store.select(conversationSelector).subscribe(res => {\r\n      this.computeCount(res);\r\n    });\r\n  }\r\n\r\n  handleClick(event: Event | any) {\r\n    switch (event.target.id) {\r\n      case this.activeName.CONVERSATION_LIST:\r\n        this.checkoutActive(this.activeName.CONVERSATION_LIST);\r\n        break;\r\n      case this.activeName.GROUP_LIST:\r\n        this.checkoutActive(this.activeName.GROUP_LIST);\r\n        break;\r\n      case this.activeName.FRIEND_LIST:\r\n        this.checkoutActive(this.activeName.FRIEND_LIST);\r\n        break;\r\n      case this.activeName.BLACK_LIST:\r\n        this.checkoutActive(this.activeName.BLACK_LIST);\r\n        break;\r\n    }\r\n  }\r\n\r\n  checkoutActive(name: string) {\r\n    this.active = name;\r\n  }\r\n\r\n\r\n  logout() {\r\n    this.timHelperService.logout();\r\n  }\r\n\r\n\r\n  getGroupList() {\r\n    this.timHelperService.tim\r\n      .getGroupList()\r\n      .then(({ data: groupList }) => {\r\n        this.store.dispatch(updateGroupListAction({ groupList }));\r\n      })\r\n      .catch((error) => {\r\n        this.store.dispatch(\r\n          showAction({ msgType: MESSAGE_STATUS.error, message: error.message })\r\n        );\r\n      });\r\n  }\r\n\r\n  computeCount(state: ConversationState) {\r\n    const result = state.conversationList.reduce((count, conversation) => {\r\n      // 当前会话不计算总未读\r\n      if (!this.hidden() && state.currentConversation.conversationID === conversation.conversationID) {\r\n        return this.totalUnreadCount = count;\r\n      }\r\n      return this.totalUnreadCount = count + conversation.unreadCount;\r\n    }, 0);\r\n    titleNotify(result);\r\n    this.timHelperService.totalUnRead.next(result);\r\n    return this.totalUnreadCount = result;\r\n  }\r\n\r\n  hidden() {\r\n    if (typeof document.hasFocus !== 'function') {\r\n      return document.hidden;\r\n    }\r\n    return !document.hasFocus();\r\n  }\r\n}\r\n","<div class=\"side-bar-wrapper\">\r\n  <div class=\"bar-left\">\r\n    <app-my-profile></app-my-profile>\r\n    <div class=\"tab-items\" (click)=\"handleClick($event)\">\r\n      <div id=\"conversation-list\" class=\"iconfont icon-conversation\" title=\"会话列表\"\r\n        [ngClass]=\"{'active': active ===activeName.CONVERSATION_LIST }\">\r\n        <sup class=\"unread\" *ngIf=\"totalUnreadCount !== 0\">\r\n          <span *ngIf=\"totalUnreadCount > 99;else count\">99+</span>\r\n          <ng-template #count>\r\n            {{totalUnreadCount}}\r\n          </ng-template>\r\n        </sup>\r\n      </div>\r\n      <div id=\"group-list\" class=\"iconfont icon-group\" title=\"群组列表\"\r\n        [ngClass]=\"{'active': active ===activeName.GROUP_LIST}\">\r\n      </div>\r\n    </div>\r\n    <div class=\"bottom\">\r\n      <div class=\"iconfont icon-tuichu\" title=\"退出\" (click)=\"logout()\"></div>\r\n    </div>\r\n  </div>\r\n  <div class=\"bar-right\">\r\n    <app-conversation-list *ngIf=\"active ===activeName.CONVERSATION_LIST\"></app-conversation-list>\r\n    <app-group-list *ngIf=\"active ===activeName.GROUP_LIST\"></app-group-list>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, OnDestroy, ChangeDetectorRef, Output, EventEmitter, Inject } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Subscription } from 'rxjs';\r\nimport { Conversation } from 'tim-js-sdk';\r\nimport { CONVERSATION_TYPE, NG_Tim_CONFIG } from '../shared.data';\r\nimport { currentConversationSelector } from '../store/selectors';\r\nimport { NgTimConfig } from '../type';\r\n\r\n@Component({\r\n  selector: 'lib-title',\r\n  templateUrl: './title.component.html',\r\n  styleUrls: ['./title.component.less']\r\n})\r\nexport class TitleComponent implements OnInit, OnDestroy {\r\n  currentConversation: Conversation;\r\n  subscription: Subscription;\r\n\r\n  @Output() detailBtnClick = new EventEmitter<void>();\r\n  @Output() minimizeClick = new EventEmitter<void>();\r\n\r\n  constructor(\r\n    private store: Store,\r\n    @Inject(NG_Tim_CONFIG) public config: NgTimConfig,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.subscription = this.store.select(currentConversationSelector).subscribe((res: Conversation) => {\r\n      this.currentConversation = res;\r\n    });\r\n  }\r\n\r\n  get detailIsHidden() {\r\n    const none = JSON.stringify(this.currentConversation) === '{}';\r\n    return none || (!none && this.currentConversation?.conversationID.includes('SYSTEM'));\r\n  }\r\n\r\n  get name() {\r\n    switch (this.currentConversation?.type) {\r\n      case CONVERSATION_TYPE.client:\r\n        return this.currentConversation.userProfile.nick || this.currentConversation.userProfile.userID;\r\n\r\n      case CONVERSATION_TYPE.group:\r\n        return this.currentConversation.groupProfile.name;\r\n\r\n      case CONVERSATION_TYPE.system:\r\n        return '系统通知';\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  handleClick(event: Event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.detailBtnClick.emit();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n    }\r\n  }\r\n}\r\n","<div nz-row class=\"title\">\r\n  <div nz-col nzSpan=\"12\">\r\n    <span class=\"title-name\">\r\n      {{name}}\r\n    </span>\r\n  </div>\r\n  <div nz-col nzSpan=\"12\" class=\"icon-content\">\r\n    <div class=\"minimize\">\r\n      <i [hidden]=\"!config.minimized\" nz-icon nzType=\"minus\" nzTheme=\"outline\"\r\n        (click)=\"minimizeClick.emit()\"></i>\r\n    </div>\r\n    <div>\r\n      <i [hidden]=\"detailIsHidden\" nz-icon nzType=\"small-dash\" nzTheme=\"outline\" title=\"查看详细信息\"\r\n        (click)=\"handleClick($event)\"></i>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { Message } from 'tim-js-sdk';\r\nimport { TimHelperService } from '../../tim-helper.service';\r\n\r\n@Component({\r\n  selector: 'app-message-status-icon',\r\n  templateUrl: './message-status-icon.component.html',\r\n  styleUrls: ['./message-status-icon.component.less']\r\n})\r\nexport class MessageStatusIconComponent implements OnInit {\r\n  @Input() message: Message;\r\n\r\n  constructor(\r\n    private timHelperService: TimHelperService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  get messageIconClass() {\r\n    switch (this.message.status) {\r\n      case 'unSend':\r\n        return 'el-icon-loading';\r\n      case 'fail':\r\n        return 'message-send-fail';\r\n      default:\r\n        return '';\r\n    }\r\n  }\r\n\r\n  handleIconClick() {\r\n    if (this.messageIconClass === 'message-send-fail') {\r\n      this.timHelperService.tim.resendMessage(this.message).catch(imError => {\r\n        console.error(imError.message);\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n","<div style=\"width:16px;height:16px;\" [class]=\"messageIconClass\" (click)=\"handleIconClick()\">\r\n  {{messageIconClass==='message-send-fail'? '!':''}}</div>\r\n","export const emojiUrl = 'https://imgcache.qq.com/open/qcloud/tim/assets/emoji/';\r\nexport const emojiMap = {\r\n  '[NO]': 'emoji_0@2x.png',\r\n  '[OK]': 'emoji_1@2x.png',\r\n  '[下雨]': 'emoji_2@2x.png',\r\n  '[么么哒]': 'emoji_3@2x.png',\r\n  '[乒乓]': 'emoji_4@2x.png',\r\n  '[便便]': 'emoji_5@2x.png',\r\n  '[信封]': 'emoji_6@2x.png',\r\n  '[偷笑]': 'emoji_7@2x.png',\r\n  '[傲慢]': 'emoji_8@2x.png',\r\n  '[再见]': 'emoji_9@2x.png',\r\n  '[冷汗]': 'emoji_10@2x.png',\r\n  '[凋谢]': 'emoji_11@2x.png',\r\n  '[刀]': 'emoji_12@2x.png',\r\n  '[删除]': 'emoji_13@2x.png',\r\n  '[勾引]': 'emoji_14@2x.png',\r\n  '[发呆]': 'emoji_15@2x.png',\r\n  '[发抖]': 'emoji_16@2x.png',\r\n  '[可怜]': 'emoji_17@2x.png',\r\n  '[可爱]': 'emoji_18@2x.png',\r\n  '[右哼哼]': 'emoji_19@2x.png',\r\n  '[右太极]': 'emoji_20@2x.png',\r\n  '[右车头]': 'emoji_21@2x.png',\r\n  '[吐]': 'emoji_22@2x.png',\r\n  '[吓]': 'emoji_23@2x.png',\r\n  '[咒骂]': 'emoji_24@2x.png',\r\n  '[咖啡]': 'emoji_25@2x.png',\r\n  '[啤酒]': 'emoji_26@2x.png',\r\n  '[嘘]': 'emoji_27@2x.png',\r\n  '[回头]': 'emoji_28@2x.png',\r\n  '[困]': 'emoji_29@2x.png',\r\n  '[坏笑]': 'emoji_30@2x.png',\r\n  '[多云]': 'emoji_31@2x.png',\r\n  '[大兵]': 'emoji_32@2x.png',\r\n  '[大哭]': 'emoji_33@2x.png',\r\n  '[太阳]': 'emoji_34@2x.png',\r\n  '[奋斗]': 'emoji_35@2x.png',\r\n  '[奶瓶]': 'emoji_36@2x.png',\r\n  '[委屈]': 'emoji_37@2x.png',\r\n  '[害羞]': 'emoji_38@2x.png',\r\n  '[尴尬]': 'emoji_39@2x.png',\r\n  '[左哼哼]': 'emoji_40@2x.png',\r\n  '[左太极]': 'emoji_41@2x.png',\r\n  '[左车头]': 'emoji_42@2x.png',\r\n  '[差劲]': 'emoji_43@2x.png',\r\n  '[弱]': 'emoji_44@2x.png',\r\n  '[强]': 'emoji_45@2x.png',\r\n  '[彩带]': 'emoji_46@2x.png',\r\n  '[彩球]': 'emoji_47@2x.png',\r\n  '[得意]': 'emoji_48@2x.png',\r\n  '[微笑]': 'emoji_49@2x.png',\r\n  '[心碎了]': 'emoji_50@2x.png',\r\n  '[快哭了]': 'emoji_51@2x.png',\r\n  '[怄火]': 'emoji_52@2x.png',\r\n  '[怒]': 'emoji_53@2x.png',\r\n  '[惊恐]': 'emoji_54@2x.png',\r\n  '[惊讶]': 'emoji_55@2x.png',\r\n  '[憨笑]': 'emoji_56@2x.png',\r\n  '[手枪]': 'emoji_57@2x.png',\r\n  '[打哈欠]': 'emoji_58@2x.png',\r\n  '[抓狂]': 'emoji_59@2x.png',\r\n  '[折磨]': 'emoji_60@2x.png',\r\n  '[抠鼻]': 'emoji_61@2x.png',\r\n  '[抱抱]': 'emoji_62@2x.png',\r\n  '[抱拳]': 'emoji_63@2x.png',\r\n  '[拳头]': 'emoji_64@2x.png',\r\n  '[挥手]': 'emoji_65@2x.png',\r\n  '[握手]': 'emoji_66@2x.png',\r\n  '[撇嘴]': 'emoji_67@2x.png',\r\n  '[擦汗]': 'emoji_68@2x.png',\r\n  '[敲打]': 'emoji_69@2x.png',\r\n  '[晕]': 'emoji_70@2x.png',\r\n  '[月亮]': 'emoji_71@2x.png',\r\n  '[棒棒糖]': 'emoji_72@2x.png',\r\n  '[汽车]': 'emoji_73@2x.png',\r\n  '[沙发]': 'emoji_74@2x.png',\r\n  '[流汗]': 'emoji_75@2x.png',\r\n  '[流泪]': 'emoji_76@2x.png',\r\n  '[激动]': 'emoji_77@2x.png',\r\n  '[灯泡]': 'emoji_78@2x.png',\r\n  '[炸弹]': 'emoji_79@2x.png',\r\n  '[熊猫]': 'emoji_80@2x.png',\r\n  '[爆筋]': 'emoji_81@2x.png',\r\n  '[爱你]': 'emoji_82@2x.png',\r\n  '[爱心]': 'emoji_83@2x.png',\r\n  '[爱情]': 'emoji_84@2x.png',\r\n  '[猪头]': 'emoji_85@2x.png',\r\n  '[猫咪]': 'emoji_86@2x.png',\r\n  '[献吻]': 'emoji_87@2x.png',\r\n  '[玫瑰]': 'emoji_88@2x.png',\r\n  '[瓢虫]': 'emoji_89@2x.png',\r\n  '[疑问]': 'emoji_90@2x.png',\r\n  '[白眼]': 'emoji_91@2x.png',\r\n  '[皮球]': 'emoji_92@2x.png',\r\n  '[睡觉]': 'emoji_93@2x.png',\r\n  '[磕头]': 'emoji_94@2x.png',\r\n  '[示爱]': 'emoji_95@2x.png',\r\n  '[礼品袋]': 'emoji_96@2x.png',\r\n  '[礼物]': 'emoji_97@2x.png',\r\n  '[篮球]': 'emoji_98@2x.png',\r\n  '[米饭]': 'emoji_99@2x.png',\r\n  '[糗大了]': 'emoji_100@2x.png',\r\n  '[红双喜]': 'emoji_101@2x.png',\r\n  '[红灯笼]': 'emoji_102@2x.png',\r\n  '[纸巾]': 'emoji_103@2x.png',\r\n  '[胜利]': 'emoji_104@2x.png',\r\n  '[色]': 'emoji_105@2x.png',\r\n  '[药]': 'emoji_106@2x.png',\r\n  '[菜刀]': 'emoji_107@2x.png',\r\n  '[蛋糕]': 'emoji_108@2x.png',\r\n  '[蜡烛]': 'emoji_109@2x.png',\r\n  '[街舞]': 'emoji_110@2x.png',\r\n  '[衰]': 'emoji_111@2x.png',\r\n  '[西瓜]': 'emoji_112@2x.png',\r\n  '[调皮]': 'emoji_113@2x.png',\r\n  '[象棋]': 'emoji_114@2x.png',\r\n  '[跳绳]': 'emoji_115@2x.png',\r\n  '[跳跳]': 'emoji_116@2x.png',\r\n  '[车厢]': 'emoji_117@2x.png',\r\n  '[转圈]': 'emoji_118@2x.png',\r\n  '[鄙视]': 'emoji_119@2x.png',\r\n  '[酷]': 'emoji_120@2x.png',\r\n  '[钞票]': 'emoji_121@2x.png',\r\n  '[钻戒]': 'emoji_122@2x.png',\r\n  '[闪电]': 'emoji_123@2x.png',\r\n  '[闭嘴]': 'emoji_124@2x.png',\r\n  '[闹钟]': 'emoji_125@2x.png',\r\n  '[阴险]': 'emoji_126@2x.png',\r\n  '[难过]': 'emoji_127@2x.png',\r\n  '[雨伞]': 'emoji_128@2x.png',\r\n  '[青蛙]': 'emoji_129@2x.png',\r\n  '[面条]': 'emoji_130@2x.png',\r\n  '[鞭炮]': 'emoji_131@2x.png',\r\n  '[风车]': 'emoji_132@2x.png',\r\n  '[飞吻]': 'emoji_133@2x.png',\r\n  '[飞机]': 'emoji_134@2x.png',\r\n  '[饥饿]': 'emoji_135@2x.png',\r\n  '[香蕉]': 'emoji_136@2x.png',\r\n  '[骷髅]': 'emoji_137@2x.png',\r\n  '[麦克风]': 'emoji_138@2x.png',\r\n  '[麻将]': 'emoji_139@2x.png',\r\n  '[鼓掌]': 'emoji_140@2x.png',\r\n  '[龇牙]': 'emoji_141@2x.png'\r\n};\r\nexport const emojiName = [\r\n  '[龇牙]',\r\n  '[调皮]',\r\n  '[流汗]',\r\n  '[偷笑]',\r\n  '[再见]',\r\n  '[敲打]',\r\n  '[擦汗]',\r\n  '[猪头]',\r\n  '[玫瑰]',\r\n  '[流泪]',\r\n  '[大哭]',\r\n  '[嘘]',\r\n  '[酷]',\r\n  '[抓狂]',\r\n  '[委屈]',\r\n  '[便便]',\r\n  '[炸弹]',\r\n  '[菜刀]',\r\n  '[可爱]',\r\n  '[色]',\r\n  '[害羞]',\r\n  '[得意]',\r\n  '[吐]',\r\n  '[微笑]',\r\n  '[怒]',\r\n  '[尴尬]',\r\n  '[惊恐]',\r\n  '[冷汗]',\r\n  '[爱心]',\r\n  '[示爱]',\r\n  '[白眼]',\r\n  '[傲慢]',\r\n  '[难过]',\r\n  '[惊讶]',\r\n  '[疑问]',\r\n  '[困]',\r\n  '[么么哒]',\r\n  '[憨笑]',\r\n  '[爱情]',\r\n  '[衰]',\r\n  '[撇嘴]',\r\n  '[阴险]',\r\n  '[奋斗]',\r\n  '[发呆]',\r\n  '[右哼哼]',\r\n  '[抱抱]',\r\n  '[坏笑]',\r\n  '[飞吻]',\r\n  '[鄙视]',\r\n  '[晕]',\r\n  '[大兵]',\r\n  '[可怜]',\r\n  '[强]',\r\n  '[弱]',\r\n  '[握手]',\r\n  '[胜利]',\r\n  '[抱拳]',\r\n  '[凋谢]',\r\n  '[米饭]',\r\n  '[蛋糕]',\r\n  '[西瓜]',\r\n  '[啤酒]',\r\n  '[瓢虫]',\r\n  '[勾引]',\r\n  '[OK]',\r\n  '[爱你]',\r\n  '[咖啡]',\r\n  '[月亮]',\r\n  '[刀]',\r\n  '[发抖]',\r\n  '[差劲]',\r\n  '[拳头]',\r\n  '[心碎了]',\r\n  '[太阳]',\r\n  '[礼物]',\r\n  '[皮球]',\r\n  '[骷髅]',\r\n  '[挥手]',\r\n  '[闪电]',\r\n  '[饥饿]',\r\n  '[咒骂]',\r\n  '[折磨]',\r\n  '[抠鼻]',\r\n  '[鼓掌]',\r\n  '[糗大了]',\r\n  '[左哼哼]',\r\n  '[打哈欠]',\r\n  '[快哭了]',\r\n  '[吓]',\r\n  '[篮球]',\r\n  '[乒乓]',\r\n  '[NO]',\r\n  '[跳跳]',\r\n  '[怄火]',\r\n  '[转圈]',\r\n  '[磕头]',\r\n  '[回头]',\r\n  '[跳绳]',\r\n  '[激动]',\r\n  '[街舞]',\r\n  '[献吻]',\r\n  '[左太极]',\r\n  '[右太极]',\r\n  '[闭嘴]',\r\n  '[猫咪]',\r\n  '[红双喜]',\r\n  '[鞭炮]',\r\n  '[红灯笼]',\r\n  '[麻将]',\r\n  '[麦克风]',\r\n  '[礼品袋]',\r\n  '[信封]',\r\n  '[象棋]',\r\n  '[彩带]',\r\n  '[蜡烛]',\r\n  '[爆筋]',\r\n  '[棒棒糖]',\r\n  '[奶瓶]',\r\n  '[面条]',\r\n  '[香蕉]',\r\n  '[飞机]',\r\n  '[左车头]',\r\n  '[车厢]',\r\n  '[右车头]',\r\n  '[多云]',\r\n  '[下雨]',\r\n  '[钞票]',\r\n  '[熊猫]',\r\n  '[灯泡]',\r\n  '[风车]',\r\n  '[闹钟]',\r\n  '[雨伞]',\r\n  '[彩球]',\r\n  '[钻戒]',\r\n  '[沙发]',\r\n  '[纸巾]',\r\n  '[手枪]',\r\n  '[青蛙]'\r\n];\r\n","import { emojiMap, emojiUrl } from './emoji-map';\r\n\r\n\r\nexport function decodeText(payload: any) {\r\n  let renderDom = [];\r\n  let temp = payload.text;\r\n  let left = -1;\r\n  let right = -1;\r\n  while (temp !== '') {\r\n    left = temp.indexOf('[');\r\n    right = temp.indexOf(']');\r\n    switch (left) {\r\n      case 0:\r\n        if (right === -1) {\r\n          renderDom.push({\r\n            name: 'text',\r\n            text: temp\r\n          });\r\n          temp = '';\r\n        } else {\r\n          let _emoji = temp.slice(0, right + 1);\r\n          if (emojiMap[_emoji]) {\r\n            renderDom.push({\r\n              name: 'img',\r\n              src: emojiUrl + emojiMap[_emoji]\r\n            });\r\n            temp = temp.substring(right + 1);\r\n          } else {\r\n            renderDom.push({\r\n              name: 'text',\r\n              text: '['\r\n            });\r\n            temp = temp.slice(1);\r\n          }\r\n        }\r\n        break;\r\n      case -1:\r\n        renderDom.push({\r\n          name: 'text',\r\n          text: temp\r\n        });\r\n        temp = '';\r\n        break;\r\n      default:\r\n        renderDom.push({\r\n          name: 'text',\r\n          text: temp.slice(0, left)\r\n        });\r\n        temp = temp.substring(left);\r\n        break;\r\n    }\r\n  }\r\n  return renderDom;\r\n}\r\n","import { EventEmitter, Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class ReEditMessageService {\r\n  reEditMessage: EventEmitter<string> = new EventEmitter<string>();\r\n\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { Message } from 'tim-js-sdk';\r\nimport TIM from 'tim-js-sdk';\r\nimport { NzContextMenuService, NzDropdownMenuComponent } from 'ng-zorro-antd/dropdown';\r\nimport { TimHelperService } from '../../tim-helper.service';\r\nimport { Store } from '@ngrx/store';\r\nimport { showAction } from '../../store/actions';\r\nimport { MESSAGE_STATUS } from '../../shared.data';\r\nimport { Subscription, timer } from 'rxjs';\r\nimport { ReEditMessageService } from '../../re-edit-message.service';\r\n\r\n@Component({\r\n  selector: 'app-message-bubble',\r\n  templateUrl: './message-bubble.component.html',\r\n  styleUrls: ['./message-bubble.component.less']\r\n})\r\nexport class MessageBubbleComponent implements OnInit {\r\n  @Input() message: Message;\r\n  @Input() isMine: boolean;\r\n  @Input() isNew: boolean;\r\n\r\n  isTimeout = false;\r\n  subscription: Subscription;\r\n\r\n  constructor(\r\n    private nzContextMenuService: NzContextMenuService,\r\n    private timHelper: TimHelperService,\r\n    private store: Store,\r\n    private reEditMessage: ReEditMessageService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.isTimeoutHandler();\r\n  }\r\n\r\n\r\n  get bubbleStyle() {\r\n    let classString = '';\r\n    if (this.isMine) {\r\n      classString += 'message-send';\r\n    } else {\r\n      classString += 'message-received';\r\n    }\r\n    if (this.isNew) {\r\n      classString += 'new';\r\n    }\r\n    return classString;\r\n  }\r\n\r\n  get messageReadByPeer() {\r\n    if (this.message.conversationType === TIM.TYPES.CONV_C2C && this.message.isPeerRead) {\r\n      return '已读';\r\n    }\r\n    if (this.message.conversationType === TIM.TYPES.CONV_C2C && !this.message.isPeerRead) {\r\n      return '未读';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  get text() {\r\n    if (this.message.conversationType === TIM.TYPES.CONV_C2C && !this.isMine) {\r\n      return '对方撤回了一条消息';\r\n    }\r\n    if (this.message.conversationType === TIM.TYPES.CONV_GROUP && !this.isMine) {\r\n      return `${this.message.from}撤回了一条消息`;\r\n    }\r\n    return '你撤回了一条消息';\r\n  }\r\n\r\n  get isEdit() {\r\n    if (!this.isMine) {\r\n      return false;\r\n    }\r\n    if (this.message.type !== TIM.TYPES.MSG_TEXT) {\r\n      return false;\r\n    }\r\n    if (this.isTimeout) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  contextMenu($event: MouseEvent, menu: NzDropdownMenuComponent): void {\r\n    this.nzContextMenuService.create($event, menu);\r\n  }\r\n\r\n  revokeMessage() {\r\n    this.timHelper.tim.revokeMessage(this.message).then(() => {\r\n      this.isTimeoutHandler();\r\n    }).catch((err) => {\r\n      this.store.dispatch(\r\n        showAction({\r\n          message: err,\r\n          msgType: MESSAGE_STATUS.warning\r\n        })\r\n      );\r\n    });\r\n  }\r\n\r\n  reEdit() {\r\n    this.reEditMessage.reEditMessage.emit(this.message.payload.text);\r\n  }\r\n\r\n  isTimeoutHandler() { // 从发送消息时间开始算起，两分钟内可以编辑\r\n    // this.subscription = timer(0, 1000).subscribe(() => {\r\n    //   const time = (new Date().getTime() / 1000) + '';\r\n    //   if (parseInt((time)) - this.message.time > 2 * 60) {\r\n    //     this.isTimeout = true;\r\n    //     this.subscription.unsubscribe();\r\n    //   } else {\r\n    //     this.isTimeoutHandler();\r\n    //   }\r\n    // });\r\n    const now = new Date();\r\n    const time = (now.getTime() / 1000).toString();\r\n    if (parseInt(time, 10) - this.message.time > 2 * 60) {\r\n      this.isTimeout = true;\r\n      return;\r\n    }\r\n    setTimeout(this.isTimeoutHandler, 1000);\r\n  }\r\n}\r\n","<div class=\"chat-bubble\">\r\n  <div *ngIf=\"!message.isRevoked\" (contextmenu)=\"contextMenu($event, menu)\">\r\n    <div style=\"display: flex\">\r\n      <div *ngIf=\"isMine\" class=\"message-status\">\r\n        <span>{{messageReadByPeer}}</span>\r\n      </div>\r\n      <div class=\"message-content\" [class]=\"bubbleStyle\">\r\n        <ng-content></ng-content>\r\n      </div>\r\n    </div>\r\n    <nz-dropdown-menu #menu=\"nzDropdownMenu\">\r\n      <ul nz-menu>\r\n        <li nz-menu-item *ngIf=\"isMine&&!isTimeout\" (click)=\"revokeMessage()\">撤回</li>\r\n        <!-- <li nz-menu-item [hidden]=\"message.status ==='fail'\">转发</li>\r\n        <li nz-menu-item [hidden]=\"message.status ==='fail'\">多选</li> -->\r\n      </ul>\r\n    </nz-dropdown-menu>\r\n  </div>\r\n  <div class=\"group-tip-element-wrapper\" *ngIf=\"message.isRevoked\">\r\n    {{text}}\r\n    <a *ngIf=\"isEdit\" (click)=\"reEdit()\">重新编辑</a>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { Message } from 'tim-js-sdk';\r\nimport { decodeText } from '../../../util/decode-text';\r\n\r\n\r\n@Component({\r\n  selector: 'app-text-element',\r\n  templateUrl: './text-element.component.html',\r\n  styleUrls: ['./text-element.component.less']\r\n})\r\nexport class TextElementComponent implements OnInit {\r\n  @Input() message: Message;\r\n  @Input() isMine: boolean;\r\n  @Input() payload: any;\r\n\r\n  contentList: Array<{ name: string, src: string; text: string; }>;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n    this.contentList = decodeText(this.payload);\r\n  }\r\n\r\n\r\n}\r\n","<app-message-bubble [message]=\"message\" [isMine]=\"isMine\">\r\n  <ng-container *ngFor=\"let item of contentList\">\r\n    <span *ngIf=\"item.name === 'text'\">{{ item.text }}</span>\r\n    <img *ngIf=\"item.name === 'img'\" [src]=\"item.src\" width=\"20px\" height=\"20px\" />\r\n  </ng-container>\r\n</app-message-bubble>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { Message } from 'tim-js-sdk';\r\n\r\n\r\n@Component({\r\n  selector: 'app-image-element',\r\n  templateUrl: './image-element.component.html',\r\n  styleUrls: ['./image-element.component.less']\r\n})\r\nexport class ImageElementComponent implements OnInit {\r\n  @Input() message: Message;\r\n  @Input() isMine: boolean;\r\n  @Input() payload: any;\r\n  @Input() percent: number;\r\n  imageUrl: string;\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n    const url = this.payload.imageInfoArray[0].imageUrl;\r\n    if (typeof url !== 'string') {\r\n      this.imageUrl = '';\r\n    }\r\n    this.imageUrl = url.slice(0, 2) === '//' ? `https:${url}` : url;\r\n  }\r\n\r\n}\r\n","<app-message-bubble [message]=\"message\" [isMine]=\"isMine\">\r\n  <img class=\"image-element\" nz-image [nzSrc]=\"imageUrl\">\r\n</app-message-bubble>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { Message } from 'tim-js-sdk';\r\n\r\n\r\n@Component({\r\n  selector: 'app-file-element',\r\n  templateUrl: './file-element.component.html',\r\n  styleUrls: ['./file-element.component.less']\r\n})\r\nexport class FileElementComponent implements OnInit {\r\n\r\n  @Input() message: Message;\r\n  @Input() isMine: boolean;\r\n  @Input() payload: any;\r\n\r\n\r\n  fileUrl: string;\r\n  fileName: string;\r\n  fileSize: string;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n    this.fileUrl = this.payload.fileUrl;\r\n    this.fileName = this.payload.fileName;\r\n    this.getSize();\r\n  }\r\n\r\n  downloadFile() {\r\n    // 浏览器支持fetch则用blob下载，避免浏览器点击a标签，跳转到新页面预览的行为\r\n    if (window.fetch) {\r\n      fetch(this.fileUrl)\r\n        .then(res => res.blob())\r\n        .then(blob => {\r\n          let a = document.createElement('a');\r\n          let url = window.URL.createObjectURL(blob);\r\n          a.href = url;\r\n          a.download = this.fileName;\r\n          a.click();\r\n        });\r\n    } else {\r\n      let a = document.createElement('a');\r\n      a.href = this.fileUrl;\r\n      a.target = '_blank';\r\n      a.download = this.fileName;\r\n      a.click();\r\n    }\r\n  }\r\n\r\n  getSize() {\r\n    const size = this.payload.fileSize;\r\n    if (size > 1024) {\r\n      if (size / 1024 > 1024) {\r\n        this.fileSize = `${this.toFixed(size / 1024 / 1024)} Mb`;\r\n        return;\r\n      }\r\n      this.fileSize = `${this.toFixed(size / 1024)} Kb`;\r\n      return;\r\n    }\r\n    this.fileSize = `${this.toFixed(size)}B`;\r\n  }\r\n\r\n  toFixed(number: number, precision = 2) {\r\n    return number.toFixed(precision);\r\n  }\r\n\r\n}\r\n","<app-message-bubble [message]=\"message\" [isMine]=\"isMine\">\r\n  <div class=\"file-element-wrapper\" title=\"单击下载\" (click)=\"downloadFile()\">\r\n    <div class=\"header\">\r\n      <i nz-icon nzType=\"file-text\" nzTheme=\"outline\">\r\n      </i>\r\n\r\n      <div class=\"file-element\">\r\n        <span class=\"file-name\">{{ fileName }}</span>\r\n        <span class=\"file-size\">{{ fileSize  }}</span>\r\n      </div>\r\n    </div>\r\n    <!-- <nz-progress [nzPercent]=\"message.progress*100\"></nz-progress> -->\r\n  </div>\r\n</app-message-bubble>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { Message } from 'tim-js-sdk';\r\nimport { getFullDate } from '../../util/date';\r\n\r\n@Component({\r\n  selector: 'app-message-footer',\r\n  templateUrl: './message-footer.component.html',\r\n  styleUrls: ['./message-footer.component.less']\r\n})\r\nexport class MessageFooterComponent implements OnInit {\r\n  @Input() message: Message;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  get isMine() {\r\n    return this.message.flow === 'out';\r\n  }\r\n\r\n  get date() {\r\n    return getFullDate(new Date(this.message.time * 1000));\r\n  }\r\n}\r\n","<div class=\"base\" [class]=\"[ isMine ? 'right' : 'left']\">\r\n  <div class=\"date\">{{ date }}</div>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Conversation, Message, Profile } from 'tim-js-sdk';\r\nimport { getFullDate } from '../../util/date';\r\nimport TIM from 'tim-js-sdk';\r\n\r\n@Component({\r\n  selector: 'app-message-header',\r\n  templateUrl: './message-header.component.html',\r\n  styleUrls: ['./message-header.component.less']\r\n})\r\nexport class MessageHeaderComponent implements OnInit {\r\n  @Input() message: Message;\r\n  @Input() currentUserProfile: Profile;\r\n  @Input() currentConversation: Conversation;\r\n\r\n  constructor(private store: Store) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  get isMine() {\r\n    return this.message.flow === 'out';\r\n  }\r\n\r\n  get date() {\r\n    return getFullDate(new Date(this.message.time * 1000));\r\n  }\r\n\r\n  get from() {\r\n    const isC2C = this.currentConversation.type === TIM.TYPES.CONV_C2C;\r\n    // 自己发送的用昵称渲染\r\n    if (this.isMine) {\r\n      return this.currentUserProfile.nick || this.currentUserProfile.userID;\r\n    }\r\n    // 1. C2C 的消息体中还无 nick / avatar 字段，需从 conversation.userProfile 中获取\r\n    if (isC2C) {\r\n      return this.currentConversation.userProfile.nick || this.currentConversation.userProfile.userID;\r\n    } else if (this.currentConversation.type === TIM.TYPES.CONV_SYSTEM) {\r\n      return this.message.type === TIM.TYPES.MSG_GRP_SYS_NOTICE ? '群系统通知' : '系统通知';\r\n    }\r\n    // 2. 群组消息，用消息体中的 nick 渲染。nameCard暂时支持不完善\r\n    return this.message.nick || this.message.from;\r\n  }\r\n\r\n}\r\n","<div class=\"base\" [class]=\"[ isMine ? 'right' : 'left']\">\r\n  <div class=\"name text-ellipsis\">{{ from }}</div>\r\n  <div class=\"date\">{{ date }}</div>\r\n</div>\r\n","import { Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\r\nimport { Message } from 'tim-js-sdk';\r\n\r\nimport TIM from 'tim-js-sdk';\r\n\r\n@Component({\r\n  selector: 'app-group-tip-element',\r\n  templateUrl: './group-tip-element.component.html',\r\n  styleUrls: ['./group-tip-element.component.less']\r\n})\r\nexport class GroupTipElementComponent implements OnInit, OnChanges {\r\n  @Input() message: Message;\r\n  @Input() isMine: boolean;\r\n  @Input() payload: any;\r\n\r\n  text: string;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.text = this.getGroupTipContent(this.message);\r\n  }\r\n\r\n  getGroupTipContent(message: Message) {\r\n    const userName = message.nick || message.payload.userIDList.join(',');\r\n    switch (message.payload.operationType) {\r\n      case TIM.TYPES.GRP_TIP_MBR_JOIN:\r\n        return `群成员：${userName} 加入群组`;\r\n      case TIM.TYPES.GRP_TIP_MBR_QUIT:\r\n        return `群成员：${userName} 退出群组`;\r\n      case TIM.TYPES.GRP_TIP_MBR_KICKED_OUT:\r\n        return `群成员：${userName} 被${message.payload.operatorID}踢出群组`;\r\n      case TIM.TYPES.GRP_TIP_MBR_SET_ADMIN:\r\n        return `群成员：${userName} 成为管理员`;\r\n      case TIM.TYPES.GRP_TIP_MBR_CANCELED_ADMIN:\r\n        return `群成员：${userName} 被撤销管理员`;\r\n      case TIM.TYPES.GRP_TIP_GRP_PROFILE_UPDATED:\r\n        return '群资料修改';\r\n      case TIM.TYPES.GRP_TIP_MBR_PROFILE_UPDATED:\r\n        for (let member of message.payload.memberList) {\r\n          if (member.muteTime > 0) {\r\n            return `群成员：${member.userID}被禁言${member.muteTime}秒`;\r\n          } else {\r\n            return `群成员：${member.userID}被取消禁言`;\r\n          }\r\n        }\r\n        break;\r\n      default:\r\n        return '[群提示消息]';\r\n    }\r\n  }\r\n}\r\n","<div class=\"group-tip-element-wrapper\">{{text}}</div>\r\n","function formatInt(int: number) {\r\n  return int < 10 ? `0${int}` : int;\r\n}\r\n\r\nexport function formatDuration(duration: number) {\r\n  if (duration < 60) {\r\n    return `00:00:${formatInt(duration)}`;\r\n  }\r\n  if (duration < 60 * 60) {\r\n    const min = parseInt((duration / 60).toString());\r\n    const sec = duration - min * 60;\r\n    return `00:${formatInt(min)}:${formatInt(sec)}`;\r\n  }\r\n  const hour = parseInt((duration / (60 * 60)).toString());\r\n  const remainder = duration - hour * (60 * 60);\r\n  const min = parseInt((remainder / 60).toString());\r\n  const sec = remainder - min * 60;\r\n  return `${formatInt(hour)}:${formatInt(min)}:${formatInt(sec)}`;\r\n}\r\n","export const ACTION = {\r\n  VIDEO_CALL_ACTION_ERROR: -2,\r\n  VIDEO_CALL_ACTION_UNKNOWN: -1,\r\n  VIDEO_CALL_ACTION_DIALING: 0, // 正在呼叫\r\n  VIDEO_CALL_ACTION_SPONSOR_CANCEL: 1, // 发起人取消\r\n  VIDEO_CALL_ACTION_REJECT: 2, // 拒接电话\r\n  VIDEO_CALL_ACTION_SPONSOR_TIMEOUT: 3, // 无人接听\r\n  VIDEO_CALL_ACTION_ACCEPTED: 4, // 连接进入通话\r\n  VIDEO_CALL_ACTION_HANGUP: 5, // 挂断\r\n  VIDEO_CALL_ACTION_LINE_BUSY: 6 // 电话占线\r\n};\r\n\r\nexport const VERSION = 3;\r\n","import { Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\r\nimport { Message } from 'tim-js-sdk';\r\nimport { formatDuration } from '../../../util/format-duration';\r\nimport { ACTION } from '../../../util/trtc-custom-message-map';\r\n\r\n\r\n@Component({\r\n  selector: 'app-custom-element',\r\n  templateUrl: './custom-element.component.html',\r\n  styleUrls: ['./custom-element.component.less']\r\n})\r\nexport class CustomElementComponent implements OnInit, OnChanges {\r\n  @Input() message: Message;\r\n  @Input() isMine: boolean;\r\n  @Input() payload: any;\r\n  text: string;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.text = this.translateCustomMessage(this.payload);\r\n  }\r\n\r\n  translateCustomMessage(payload) {\r\n    let videoPayload = {\r\n      action: 0,\r\n      duration: 0\r\n    };\r\n    try {\r\n      videoPayload = JSON.parse(payload.data);\r\n    } catch (e) {\r\n      videoPayload = {\r\n        action: 0,\r\n        duration: 0\r\n      };\r\n    }\r\n    if (payload.data === 'group_create') {\r\n      return `${payload.extension}`;\r\n    }\r\n    switch (videoPayload.action) {\r\n      case ACTION.VIDEO_CALL_ACTION_DIALING:\r\n        return '[请求通话]';\r\n      case ACTION.VIDEO_CALL_ACTION_SPONSOR_CANCEL:\r\n        return '[取消通话]';\r\n      case ACTION.VIDEO_CALL_ACTION_REJECT:\r\n        return '[拒绝通话]';\r\n      case ACTION.VIDEO_CALL_ACTION_SPONSOR_TIMEOUT:\r\n        return '[无应答]';\r\n      case ACTION.VIDEO_CALL_ACTION_ACCEPTED:\r\n        return '[开始通话]';\r\n      case ACTION.VIDEO_CALL_ACTION_HANGUP:\r\n        return `[结束通话，通话时长：${formatDuration(videoPayload.duration)}]`;\r\n      case ACTION.VIDEO_CALL_ACTION_LINE_BUSY:\r\n        return '[正在通话中]';\r\n      case ACTION.VIDEO_CALL_ACTION_ERROR:\r\n        return '[设备异常]';\r\n      default:\r\n        return '[自定义消息]';\r\n    }\r\n  }\r\n}\r\n","<app-message-bubble [message]=\"message\" [isMine]=\"isMine\">\r\n  <div class=\"custom-element-wrapper\">\r\n    <div class=\"survey\" *ngIf=\"this.payload.data === 'survey';else other\">\r\n      <div class=\"title\">对IM DEMO的评分和建议</div>\r\n      <!-- <el-rate v-model=\"rate\" disabled show-score text-color=\"#ff9900\" score-template=\"{value}\">\r\n      </el-rate> -->\r\n      <div class=\"suggestion\">{{this.payload.extension}}</div>\r\n    </div>\r\n    <ng-template #other>\r\n      <span class=\"text\" title=\"您可以自行解析自定义消息\">{{text}}</span>\r\n    </ng-template>\r\n  </div>\r\n</app-message-bubble>\r\n","import { Message } from 'tim-js-sdk';\r\n\r\nexport function translateGroupSystemNotice(message: Message) {\r\n  const groupName = message.payload?.groupProfile.name || message.payload?.groupProfile.groupID;\r\n  switch (message.payload.operationType) {\r\n    case 1:\r\n      return `${message.payload.operatorID} 申请加入群组：${groupName}`;\r\n    case 2:\r\n      return `成功加入群组：${groupName}`;\r\n    case 3:\r\n      return `申请加入群组：${groupName}被拒绝`;\r\n    case 4:\r\n      return `你被管理员${message.payload.operatorID}踢出群组：${groupName}`;\r\n    case 5:\r\n      return `群：${groupName} 已被${message.payload.operatorID}解散`;\r\n    case 6:\r\n      return `${message.payload.operatorID}创建群：${groupName}`;\r\n    case 7:\r\n      return `${message.payload.operatorID}邀请你加群：${groupName}`;\r\n    case 8:\r\n      return `你退出群组：${groupName}`;\r\n    case 9:\r\n      return `你被${message.payload.operatorID}设置为群：${groupName}的管理员`;\r\n    case 10:\r\n      return `你被${message.payload.operatorID}撤销群：${groupName}的管理员身份`;\r\n    case 255:\r\n      return '自定义群系统通知: ' + message.payload.userDefinedField;\r\n  }\r\n}\r\n","import { Component, OnInit, ChangeDetectionStrategy, Input } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { NzModalRef } from 'ng-zorro-antd/modal';\r\n\r\nimport { Message } from 'tim-js-sdk';\r\nimport { MESSAGE_STATUS } from '../../../../shared.data';\r\nimport { removeMessageAction, showAction } from '../../../../store/actions';\r\nimport { TimHelperService } from '../../../../tim-helper.service';\r\n\r\n\r\n@Component({\r\n  selector: 'im-approval-join-group',\r\n  templateUrl: './approval-join-group.component.html',\r\n  styleUrls: ['./approval-join-group.component.less'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ApprovalJoinGroupComponent implements OnInit {\r\n  @Input() message: Message;\r\n\r\n  form = {\r\n    handleAction: 'Agree',\r\n    handleMessage: '',\r\n  };\r\n  constructor(\r\n    public modalRef: NzModalRef,\r\n    private store: Store,\r\n    private timHelperService: TimHelperService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  handleGroupApplication() {\r\n    this.timHelperService.tim\r\n      .handleGroupApplication({\r\n        handleAction: this.form.handleAction,\r\n        handleMessage: this.form.handleMessage,\r\n        message: this.message,\r\n      })\r\n      .then(() => {\r\n        this.store.dispatch(removeMessageAction({ message: this.message }));\r\n        this.modalRef.destroy();\r\n      })\r\n      .catch((error) => {\r\n        this.store.dispatch(showAction({ msgType: MESSAGE_STATUS.error, message: error.message }));\r\n      });\r\n  }\r\n}\r\n","<form nz-form>\r\n  <nz-form-item>\r\n    <nz-form-label [nzSpan]=\"6\">处理结果</nz-form-label>\r\n    <nz-form-control [nzSpan]=\"14\">\r\n      <nz-radio-group [(ngModel)]=\"form.handleAction\" name=\"handleAction\">\r\n        <label nz-radio nzValue=\"Agree\">同意</label>\r\n        <label nz-radio nzValue=\"Reject\">拒绝</label>\r\n      </nz-radio-group>\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n  <nz-form-item>\r\n    <nz-form-label [nzSpan]=\" 6\">附言</nz-form-label>\r\n    <nz-form-control [nzSpan]=\"14\">\r\n      <textarea rows=\"3\" nz-input [(ngModel)]=\"form.handleMessage\" name=\"handleMessage\"></textarea>\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n\r\n  <nz-form-item nz-row nzJustify=\"center\">\r\n    <nz-form-control [nzSpan]=\"12\" nzPush=\"8\">\r\n      <button nz-button nzType=\"primary\" type=\"button\"\r\n        (click)=\"handleGroupApplication()\">确定</button>\r\n    </nz-form-control>\r\n    <nz-form-control [nzSpan]=\"12\">\r\n      <button nz-button nzType=\"default\" type=\"button\" (click)=\"modalRef.destroy()\">取消</button>\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n</form>\r\n","import { Component, Input, OnInit } from '@angular/core';\nimport { NzModalService } from 'ng-zorro-antd/modal';\nimport { Message} from 'tim-js-sdk';\nimport { TIM } from '../../../shared.data';\nimport { translateGroupSystemNotice } from '../../../util/common';\nimport { ApprovalJoinGroupComponent } from './approval-join-group/approval-join-group.component';\n\n@Component({\n  selector: 'app-group-system-notice-element',\n  templateUrl: './group-system-notice-element.component.html',\n  styleUrls: ['./group-system-notice-element.component.less']\n})\nexport class GroupSystemNoticeElementComponent implements OnInit {\n\n  @Input() message: Message;\n  @Input() payload: any;\n\n  showDialog = false;\n  text: string;\n  title: string;\n  isJoinGroupRequest: boolean;\n\n  constructor(\n    private modal: NzModalService\n  ) { }\n\n  ngOnInit(): void {\n\n    this.text = translateGroupSystemNotice(this.message);\n\n    if (this.message.type === TIM.TYPES.MSG_GRP_SYS_NOTICE) {\n      this.title = '群系统通知';\n    } else {\n      this.title = '系统通知';\n    }\n\n    this.isJoinGroupRequest = (this.payload.operationType === 1);\n  }\n\n  approval() {\n    this.modal.create({\n      nzTitle: `处理加群申请`,\n      nzContent: ApprovalJoinGroupComponent,\n      nzMaskClosable: false,\n      nzFooter: null,\n      nzWidth: '40%',\n      nzStyle: { top: '20px' },\n      nzComponentParams: {\n        message: this.message\n      }\n    });\n  }\n\n}\n","<app-message-bubble [message]=\"message\" [isMine]=\"false\">\r\n  <div class=\"group-system-element-wrapper\">\r\n    {{ text }}\r\n    <button nz-button *ngIf=\"isJoinGroupRequest\" type=\"text\" (click)=\"approval()\">处理</button>\r\n  </div>\r\n</app-message-bubble>\r\n","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Subscription } from 'rxjs';\r\nimport { Conversation, Message, Profile } from 'tim-js-sdk';\r\nimport { currentUserProfileSelector } from '../../store/selectors';\r\nimport TIM from 'tim-js-sdk';\r\n\r\n@Component({\r\n  selector: 'app-message-item',\r\n  templateUrl: './message-item.component.html',\r\n  styleUrls: ['./message-item.component.less']\r\n})\r\nexport class MessageItemComponent implements OnInit, OnDestroy {\r\n  TIM = TIM;\r\n  currentUserProfile: Profile;\r\n  subscription: Subscription;\r\n  @Input() currentConversation: Conversation;\r\n  @Input() message: Message;\r\n\r\n  constructor(\r\n    private store: Store\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.subscription = this.store.select(currentUserProfileSelector)\r\n      .subscribe(res => {\r\n        this.currentUserProfile = res;\r\n      });\r\n  }\r\n\r\n  // 是否显示头像，群提示消息不显示头像\r\n  get showAvatar() {\r\n    if (this.currentConversation.type === 'C2C' && !this.message.isRevoked) { // C2C且没有撤回的消息\r\n      return true;\r\n    } else if (this.currentConversation.type === 'GROUP' && !this.message.isRevoked) { // group且没有撤回的消息\r\n      return this.message.type !== this.TIM.TYPES.MSG_GRP_TIP;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  get currentConversationType() {\r\n    if (this.currentConversation) {\r\n      return this.currentConversation.type;\r\n    }\r\n  }\r\n\r\n  get avatar() {\r\n    if (this.currentConversation.type === 'C2C') {\r\n      return this.isMine\r\n        ? this.currentUserProfile.avatar\r\n        : this.currentConversation.userProfile.avatar;\r\n    } else if (this.currentConversation.type === 'GROUP') {\r\n      return this.isMine\r\n        ? this.currentUserProfile.avatar\r\n        : this.message.avatar;\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n\r\n  get isMine() {\r\n    return this.message.flow === 'out';\r\n  }\r\n\r\n  get messagePosition() {\r\n    if (['TIMGroupTipElem', 'TIMGroupSystemNoticeElem'].includes(this.message.type)) {\r\n      return 'position-center';\r\n    }\r\n    if (this.message.isRevoked) { // 撤回消息\r\n      return 'position-center';\r\n    }\r\n    if (this.isMine) {\r\n      return 'position-right';\r\n    }\r\n    return 'position-left';\r\n  }\r\n\r\n  get showMessageHeader() {\r\n    if (['TIMGroupTipElem', 'TIMGroupSystemNoticeElem'].includes(this.message.type)) {\r\n      return false;\r\n    }\r\n    if (this.message.isRevoked) { // 撤回消息\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","<div class=\"message-wrapper\" [class]=\"messagePosition\">\r\n  <div *ngIf=\"currentConversationType === TIM.TYPES.CONV_C2C\" class=\"c2c-layout\"\r\n    [class]=\"messagePosition\">\r\n\r\n    <div class=\"col-1\" *ngIf=\"showAvatar\">\r\n      <!-- 头像 -->\r\n      <im-avatar [src]=\"avatar\"></im-avatar>\r\n    </div>\r\n    <div class=\"col-2\">\r\n      <!-- 消息主体 -->\r\n      <div class=\"content-wrapper\">\r\n        <app-message-status-icon [message]=\"message\" *ngIf=\"isMine\"></app-message-status-icon>\r\n        <app-text-element [isMine]=\"isMine\" [message]=\"message\" [payload]=\"message.payload\"\r\n          *ngIf=\"message.type === TIM.TYPES.MSG_TEXT\"></app-text-element>\r\n\r\n        <app-image-element [isMine]=\"isMine\" [message]=\"message\" [payload]=\"message.payload\"\r\n          *ngIf=\"message.type === TIM.TYPES.MSG_IMAGE\"></app-image-element>\r\n\r\n        <app-file-element [isMine]=\"isMine\" [message]=\"message\" [payload]=\"message.payload\"\r\n          *ngIf=\"message.type === TIM.TYPES.MSG_FILE\"></app-file-element>\r\n      </div>\r\n      <app-message-footer *ngIf=\"showMessageHeader\" [message]=\"message\"></app-message-footer>\r\n    </div>\r\n    <div class=\"col-3\">\r\n      <!-- 消息状态 -->\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf=\"currentConversationType === TIM.TYPES.CONV_GROUP\" class=\"group-layout\"\r\n    [class]=\"messagePosition\">\r\n    <!-- 头像 群组没有获取单个头像的接口，暂时无法显示头像-->\r\n    <div class=\"col-1\" *ngIf=\"showAvatar\">\r\n      <im-avatar class=\"group-member-avatar\" [src]=\"avatar\">\r\n      </im-avatar>\r\n    </div>\r\n    <div class=\"col-2\">\r\n      <!-- 消息主体 -->\r\n      <app-message-header *ngIf=\"showMessageHeader\" [message]=\"message\"\r\n        [currentConversation]=\"currentConversation\" [currentUserProfile]=\"currentUserProfile\">\r\n      </app-message-header>\r\n      <div class=\"content-wrapper\">\r\n        <app-message-status-icon [message]=\"message\" *ngIf=\"isMine\"></app-message-status-icon>\r\n        <app-text-element [isMine]=\"isMine\" [message]=\"message\" [payload]=\"message.payload\"\r\n          *ngIf=\"message.type === TIM.TYPES.MSG_TEXT\"></app-text-element>\r\n        <app-image-element [isMine]=\"isMine\" [message]=\"message\" [payload]=\"message.payload\"\r\n          *ngIf=\"message.type === TIM.TYPES.MSG_IMAGE\"></app-image-element>\r\n        <app-file-element [isMine]=\"isMine\" [message]=\"message\" [payload]=\"message.payload\"\r\n          *ngIf=\"message.type === TIM.TYPES.MSG_FILE\"></app-file-element>\r\n        <app-group-tip-element [isMine]=\"isMine\" [message]=\"message\" [payload]=\"message.payload\"\r\n          *ngIf=\"message.type === TIM.TYPES.MSG_GRP_TIP\"></app-group-tip-element>\r\n        <app-custom-element [isMine]=\"isMine\" [message]=\"message\" [payload]=\"message.payload\"\r\n          *ngIf=\"message.type === TIM.TYPES.MSG_CUSTOM\"></app-custom-element>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-3\">\r\n      <!-- 消息状态 -->\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"system-layout\" *ngIf=\"currentConversationType === TIM.TYPES.CONV_SYSTEM\">\r\n    <div class=\"col-1\">\r\n      <im-avatar [src]=\"avatar\" [type]=\"currentConversationType\"></im-avatar>\r\n    </div>\r\n    <div class=\"col-2\">\r\n      <app-message-header *ngIf=\"showMessageHeader\" [message]=\"message\"\r\n        [currentConversation]=\"currentConversation\" [currentUserProfile]=\"currentUserProfile\">\r\n      </app-message-header>\r\n      <app-group-system-notice-element [message]=\"message\" [payload]=\"message.payload\">\r\n      </app-group-system-notice-element>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { ReEditMessageService } from '../../re-edit-message.service';\r\nimport { MESSAGE_STATUS } from '../../shared.data';\r\nimport { pushCurrentMessageListAction, showAction } from '../../store/actions';\r\nimport { currentConversationSelector } from '../../store/selectors';\r\n\r\nimport { TimHelperService } from '../../tim-helper.service';\r\nimport { emojiMap, emojiName, emojiUrl } from '../../util/emoji-map';\r\n\r\n@Component({\r\n  selector: 'app-message-send-box',\r\n  templateUrl: './message-send-box.component.html',\r\n  styleUrls: ['./message-send-box.component.less'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class MessageSendBoxComponent implements OnInit, OnDestroy {\r\n  active: boolean;\r\n  visible = false;\r\n  emojiName = emojiName;\r\n  emojiUrl = emojiUrl;\r\n  emojiMap = emojiMap;\r\n  focus = false;\r\n  // 消息内容\r\n  messageContent = '';\r\n\r\n  toAccount: any;\r\n  currentConversationType: any;\r\n  currentConversation: any;\r\n\r\n  @ViewChild('imagePicker', { static: false }) imagePicker: ElementRef;\r\n  @ViewChild('filePicker', { static: false }) filePicker: ElementRef;\r\n  @ViewChild('textInput', { static: true }) textInput: ElementRef;\r\n  constructor(\r\n    private store: Store,\r\n    private cd: ChangeDetectorRef,\r\n    private timHelperService: TimHelperService,\r\n    private reEditMessage: ReEditMessageService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.store.select(currentConversationSelector).subscribe(currentConversation => {\r\n      this.currentConversation = currentConversation;\r\n      if (!currentConversation || !currentConversation.conversationID) {\r\n        this.toAccount = '';\r\n      } else {\r\n        switch (currentConversation.type) {\r\n          case 'C2C':\r\n            this.toAccount = currentConversation.conversationID.replace('C2C', '');\r\n            break;\r\n          case 'GROUP':\r\n            this.toAccount = currentConversation.conversationID.replace('GROUP', '');\r\n            break;\r\n          default:\r\n            this.toAccount = currentConversation.conversationID;\r\n        }\r\n      }\r\n\r\n      if (!currentConversation || !currentConversation.type) {\r\n        this.currentConversationType = '';\r\n      } else {\r\n        this.currentConversationType = currentConversation.type;\r\n      }\r\n    });\r\n    this.textInput.nativeElement.addEventListener('paste', this.handlePaste.bind(this));\r\n\r\n    this.reEditMessage.reEditMessage.subscribe((payload) => {\r\n      this.messageContent = payload;\r\n      this.cd.markForCheck();\r\n    });\r\n  }\r\n\r\n  onfocus(event: Event) {\r\n    console.log('onfocus');\r\n    this.focus = true;\r\n    console.log(this.currentConversation);\r\n    this.timHelperService.checkoutConversation(this.currentConversation.conversationID);\r\n  }\r\n\r\n  onblur(event: Event) {\r\n    console.log('onblur');\r\n    this.focus = false;\r\n  }\r\n\r\n  handleEnter(event: KeyboardEvent) {\r\n    this.sendTextMessage();\r\n  }\r\n  handleLine(event: KeyboardEvent) {\r\n    event.preventDefault();\r\n    if (event.ctrlKey && event.key === 'Enter') {\r\n      this.messageContent += '\\n';\r\n    }\r\n  }\r\n  handleUp(event: KeyboardEvent) {\r\n    console.log('handleUp::', event);\r\n  }\r\n\r\n  handleDown(event: KeyboardEvent) {\r\n    console.log('handleDown::', event);\r\n  }\r\n\r\n  keyDown(event: KeyboardEvent) {\r\n    if (!event.ctrlKey && event.key === 'Enter') {\r\n      event.preventDefault();\r\n      this.handleEnter(event);\r\n    }\r\n    if (event.key === 'ArrowUp') {\r\n      event.stopPropagation();\r\n      this.handleUp(event);\r\n    }\r\n    if (event.key === 'ArrowDown') {\r\n      event.stopPropagation();\r\n      this.handleDown(event);\r\n    }\r\n  }\r\n\r\n  handlePaste(e: any) {\r\n    const clipboardData = e.clipboardData;\r\n    let file: any;\r\n    if (clipboardData && clipboardData.files && clipboardData.files.length > 0) {\r\n      file = clipboardData.files[0];\r\n    }\r\n\r\n    if (typeof file === 'undefined') {\r\n      return;\r\n    }\r\n    // 1. 创建消息实例，接口返回的实例可以上屏\r\n    const message = this.timHelperService.tim.createImageMessage({\r\n      to: this.toAccount,\r\n      conversationType: this.currentConversationType,\r\n      payload: {\r\n        file,\r\n      },\r\n      onProgress: (percent) => {\r\n        message.progress = percent; // 手动给message 实例加个响应式属性: progress\r\n      },\r\n    });\r\n\r\n    // 2. 发送消息\r\n    const promise = this.timHelperService.tim.sendMessage(message).then(res => {\r\n      this.store.dispatch(pushCurrentMessageListAction({ message }));\r\n    });\r\n    promise.catch((error) => {\r\n      console.error('[sendMessage error]::', error);\r\n    });\r\n  }\r\n\r\n  sendImage(event: any) {\r\n    console.log('sendImage');\r\n    const message = this.timHelperService.tim.createImageMessage({\r\n      to: this.toAccount,\r\n      conversationType: this.currentConversationType,\r\n      payload: {\r\n        file: this.imagePicker.nativeElement // 或者用event.target\r\n      },\r\n      onProgress: (percent) => {\r\n        // 手动给message 实例加个响应式属性: progress\r\n        message.progress = percent;\r\n        console.log('percent:', percent);\r\n      }\r\n    });\r\n\r\n    this.timHelperService.tim\r\n      .sendMessage(message)\r\n      .then(({ data }) => {\r\n        console.log('发送成功', data);\r\n        this.store.dispatch(pushCurrentMessageListAction({ message: Object.assign({}, data.message) }));\r\n        this.imagePicker.nativeElement.value = null;\r\n      })\r\n      .catch(imError => {\r\n        console.error('imError::', imError);\r\n      });\r\n  }\r\n\r\n  sendFile(event: any) {\r\n    const message = this.timHelperService.tim.createFileMessage({\r\n      to: this.toAccount,\r\n      conversationType: this.currentConversationType,\r\n      payload: {\r\n        file: document.getElementById('filePicker'), // 或者用event.target\r\n      },\r\n      onProgress: (percent) => {\r\n        message.progress = percent;\r\n        console.log('上传进度', percent);\r\n      },\r\n    });\r\n\r\n    this.timHelperService.tim\r\n      .sendMessage(message)\r\n      .then(({ data }) => {\r\n        this.store.dispatch(pushCurrentMessageListAction({ message: Object.assign({}, data.message) }));\r\n\r\n        this.filePicker.nativeElement.value = null;\r\n      })\r\n      .catch((imError) => {\r\n        console.error('imError::', imError);\r\n\r\n      });\r\n  }\r\n\r\n  chooseEmoji(item: string) {\r\n    console.log(item);\r\n    this.messageContent += item;\r\n  }\r\n\r\n  sendTextMessage() {\r\n    if (\r\n      this.messageContent === '' ||\r\n      this.messageContent.trim().length === 0\r\n    ) {\r\n      this.messageContent = '';\r\n      this.store.dispatch(showAction({ msgType: MESSAGE_STATUS.warning, message: '不能发送空消息哦！' }));\r\n      return;\r\n    }\r\n    const message = this.timHelperService.tim.createTextMessage({\r\n      to: this.toAccount,\r\n      conversationType: this.currentConversationType,\r\n      payload: { text: this.messageContent }\r\n    });\r\n    this.store.dispatch(pushCurrentMessageListAction({ message }));\r\n    this.timHelperService.eventBus$.next('scroll-bottom');\r\n    this.timHelperService.tim.sendMessage(message).catch(error => {\r\n      console.error('[sendMessage error]::', error);\r\n    });\r\n\r\n    this.messageContent = '';\r\n\r\n  }\r\n\r\n  handleSendImageClick(input: HTMLInputElement, event: Event) {\r\n    event.stopPropagation();\r\n\r\n    input.click();\r\n  }\r\n\r\n  handleSendFileClick(input: HTMLInputElement) {\r\n    input.click();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.textInput.nativeElement.addEventListener('paste', this.handlePaste.bind(this));\r\n  }\r\n\r\n}\r\n","<div class=\"message-send-box-wrapper\" [ngClass]=\"{'white-background': focus}\"\r\n  (focus)=\"onfocus($event)\">\r\n  <div class=\"send-header-bar\">\r\n\r\n    <input type=\"file\" #imagePicker accept=\".jpg, .jpeg, .png, .gif\" (change)=\"sendImage($event)\"\r\n      (click)=\"$event.stopPropagation()\" style=\"display:none\" />\r\n\r\n    <input type=\"file\" #filePicker (change)=\"sendFile($event)\" (click)=\"$event.stopPropagation()\"\r\n      style=\"display:none\" />\r\n\r\n    <i nz-icon nzType=\"meh\" nzTheme=\"outline\" title=\"发表情\" nz-popover nzPopoverTitle=\"Title\"\r\n      [(nzPopoverVisible)]=\"visible\" nzPopoverTrigger=\"click\" [nzPopoverContent]=\"contentTemplate\"\r\n      [nzPopoverTitle]=\"'表情'\"></i>\r\n\r\n    <i nz-icon nzType=\"picture\" nzTheme=\"outline\" title=\"发图片\"\r\n      (click)=\"handleSendImageClick(imagePicker,$event)\"></i>\r\n\r\n    <i nz-icon nzType=\"folder\" nzTheme=\"outline\" title=\"发文件\"\r\n      (click)=\"handleSendFileClick(filePicker)\"></i>\r\n\r\n  </div>\r\n  <div class=\"bottom\">\r\n    <textarea rows=\"4\" resize=\"false\" class=\"text-input\" #textInput [(ngModel)]=\"messageContent\"\r\n      (focus)=\"onfocus($event)\" (blur)=\"onblur($event)\" (keydown)=\"keyDown($event)\"\r\n      (keyup)=\"handleLine($event)\">\r\n    </textarea>\r\n    <div class=\"btn-send\" (click)=\"sendTextMessage()\">\r\n      <button nzTooltipTitle=\"按Enter发送消息，Ctrl+Enter换行\" nzTooltipPlacement=\"left\" nz-button\r\n        nz-tooltip class=\"tim-icon-send\">发送</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #contentTemplate>\r\n  <div class=\"emojis\" [ngStyle]=\"{'width': '400px'}\">\r\n    <div *ngFor=\"let item of emojiName\" class=\"emoji\" (click)=\"chooseEmoji(item)\">\r\n      <img [src]=\"emojiUrl + emojiMap[item]\" style=\"width:30px;height:30px\" />\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  OnDestroy,\n  OnInit,\n  ViewChild\n} from '@angular/core';\n\nimport { Store } from '@ngrx/store';\nimport { Subscription } from 'rxjs';\n\nimport { Conversation } from 'tim-js-sdk';\nimport { conversationSelector, currentConversationSelector } from '../../store/selectors';\nimport { TimHelperService } from '../../tim-helper.service';\nimport { ChangeDetectionStrategy } from '@angular/core';\nimport { showAction } from '../../store/actions';\nimport { MESSAGE_STATUS, TIM } from '../../shared.data';\n\n\n@Component({\n  selector: 'app-current-conversation',\n  templateUrl: './current-conversation.component.html',\n  styleUrls: ['./current-conversation.component.less'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CurrentConversationComponent implements OnInit, AfterViewInit, OnDestroy {\n  currentConversation: Conversation;\n  currentMessageList = [];\n  isShowScrollBottomTips = false;\n  isCompleted = false;\n  preScrollHeight = 0;\n  name: string;\n  toAccount: string;\n\n  eventBusSubscription: Subscription;\n  conversationSubscription: Subscription;\n  currentConversationSubscription: Subscription;\n\n  get showCurrentConversation() {\n    return !!this.currentConversation?.conversationID;\n  }\n\n  get showMessageSendBox() {\n    return (this.currentConversation.type !== TIM.TYPES.CONV_SYSTEM);\n  }\n\n  @ViewChild('messageList', { static: false }) messageListRef: ElementRef;\n\n  constructor(\n    private store: Store,\n    private cd: ChangeDetectorRef,\n    private timHelperService: TimHelperService,\n  ) { }\n\n  ngOnInit(): void {\n    // 获取当前会话\n    this.currentConversationSubscription = this.store.select(currentConversationSelector).subscribe(res => {\n      this.currentConversation = res;\n      this.preScrollHeight = 0;\n      this.cd.markForCheck();\n    });\n\n    this.conversationSubscription = this.store.select(conversationSelector)\n      .subscribe(res => {\n        this.currentMessageList = res.currentMessageList;\n        this.isCompleted = res.isCompleted;\n        if (res.currentMessageList && res.currentMessageList.length > 0) {\n          if (this.currentConversation.conversationID) {\n            this.keepMessageListOnBottom();\n            this.timHelperService.tim.setMessageRead({ conversationID: this.currentConversation.conversationID });\n          }\n        }\n        this.cd.markForCheck();\n      }, err => {\n        this.store.dispatch(\n          showAction({ msgType: MESSAGE_STATUS.error, message: err.message })\n        );\n      });\n\n    this.eventBusSubscription = this.timHelperService.eventBus$\n      .subscribe((res: string) => {\n        if (res === 'scroll-bottom') {\n          this.scrollMessageListToBottom();\n          this.cd.markForCheck();\n        }\n      });\n  }\n\n  ngAfterViewInit(): void {\n    this.keepMessageListOnBottom();\n  }\n\n  getMore() {\n    this.timHelperService.getMessageList(this.currentConversation.conversationID);\n  }\n\n  onscroll({ target: { scrollTop } }) {\n    const messageListNode = this.messageListRef?.nativeElement;\n\n    if (!messageListNode) {\n      return;\n    }\n    if (this.preScrollHeight - messageListNode.clientHeight - scrollTop < 20) {\n      this.isShowScrollBottomTips = false;\n    }\n  }\n\n  scrollMessageListToBottom() {\n    const messageListNode = this.messageListRef?.nativeElement;\n    if (!messageListNode) {\n      return;\n    }\n\n    setTimeout(() => {\n      messageListNode.scrollTop = messageListNode.scrollHeight;\n      this.preScrollHeight = messageListNode.scrollHeight;\n      this.isShowScrollBottomTips = false;\n    }, 0);\n\n  }\n\n  // 如果滚到底部就保持在底部，否则提示是否要滚到底部\n  keepMessageListOnBottom() {\n    const messageListNode = this.messageListRef?.nativeElement;\n    if (!messageListNode) {\n      return;\n    }\n\n    setTimeout(() => {\n      // 距离底部20px内强制滚到底部,否则提示有新消息\n      if (this.preScrollHeight - messageListNode.clientHeight - messageListNode.scrollTop < 20) {\n        messageListNode.scrollTop = messageListNode.scrollHeight;\n        this.isShowScrollBottomTips = false;\n      } else {\n        this.isShowScrollBottomTips = true;\n      }\n      this.preScrollHeight = messageListNode.scrollHeight;\n    }, 0);\n\n  }\n\n  ngOnDestroy(): void {\n    [\n      this.eventBusSubscription,\n      this.conversationSubscription,\n      this.currentConversationSubscription\n    ].forEach(item => {\n      if (item) {\n        item.unsubscribe();\n      }\n    });\n  }\n}\n","<div class=\"current-conversation-wrapper\">\r\n  <div class=\"current-conversation\" *ngIf=\"showCurrentConversation\" (scroll)=\"onscroll($event)\">\r\n    <div class=\"content\">\r\n      <div class=\"message-list\" #messageList (scroll)=\"onscroll($event)\">\r\n        <div class=\"more\" *ngIf=\"!isCompleted\">\r\n          <a (click)=\"getMore()\">查看更多</a>\r\n        </div>\r\n        <div class=\"no-more\" *ngIf=\"isCompleted\">没有更多了</div>\r\n        <app-message-item *ngFor=\"let message of currentMessageList\" [message]=\"message\"\r\n          [currentConversation]=\"currentConversation\">\r\n        </app-message-item>\r\n      </div>\r\n      <div class=\"newMessageTips\" *ngIf=\"isShowScrollBottomTips\"\r\n        (click)=\"scrollMessageListToBottom()\">回到最新位置</div>\r\n    </div>\r\n    <div class=\"footer\" *ngIf=\"showMessageSendBox\">\r\n      <app-message-send-box></app-message-send-box>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { Profile } from 'tim-js-sdk';\r\n\r\nimport TIM from 'tim-js-sdk';\r\n\r\n@Component({\r\n  selector: 'app-user-profile',\r\n  templateUrl: './user-profile.component.html',\r\n  styleUrls: ['./user-profile.component.less']\r\n})\r\nexport class UserProfileComponent implements OnInit {\r\n  @Input() userProfile: Profile;\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  get gender() {\r\n    switch (this.userProfile.gender) {\r\n      case TIM.TYPES.GENDER_MALE:\r\n        return '男';\r\n      case TIM.TYPES.GENDER_FEMALE:\r\n        return '女';\r\n      default:\r\n        return '未设置';\r\n    }\r\n  }\r\n  get genderClass() {\r\n    switch (this.userProfile.gender) {\r\n      case TIM.TYPES.GENDER_MALE:\r\n        return 'icon-male';\r\n      case TIM.TYPES.GENDER_FEMALE:\r\n        return 'icon-female';\r\n      default:\r\n        return '';\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"profile-user\">\r\n  <im-avatar [title]=\"userProfile.userID\" [src]=\"userProfile.avatar\" [size]=\"100\">\r\n  </im-avatar>\r\n  <div class=\"nick-name text-ellipsis\">\r\n    <span *ngIf=\"userProfile.nick;else elseBlock\" [title]=\"userProfile.nick\">\r\n      {{ userProfile.nick }}\r\n    </span>\r\n    <ng-template #elseBlock>\r\n      <span class=\"anonymous\" title=\"该用户未设置昵称\">\r\n        [Anonymous]\r\n      </span>\r\n    </ng-template>\r\n  </div>\r\n  <div class=\"gender\" *ngIf=\"genderClass\">\r\n    <span [title]=\"gender\" class=\"iconfont\" [class]=\"genderClass\"></span>\r\n  </div>\r\n</div>\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Conversation, GroupMember, Profile } from 'tim-js-sdk';\r\nimport { currentUserProfileSelector } from '../../store/selectors';\r\nimport { TimHelperService } from '../../tim-helper.service';\r\n\r\nimport { getFullDate } from '../../util/date';\r\n\r\nimport { MESSAGE_STATUS, TIM } from '../../shared.data';\r\nimport { showAction } from '../../store/actions';\r\n\r\n@Component({\r\n  selector: 'app-group-member-info',\r\n  templateUrl: './group-member-info.component.html',\r\n  styleUrls: ['./group-member-info.component.less']\r\n})\r\nexport class GroupMemberInfoComponent implements OnInit {\r\n  @Input() member: GroupMember;\r\n  @Input() currentConversation: Conversation;\r\n\r\n  @Output() enterEnd = new EventEmitter<void>();\r\n  isOwner: boolean;\r\n  isAdmin: boolean;\r\n  isMine: boolean;\r\n  currentUserProfile: Profile;\r\n  current = Date.now();\r\n  muteTime: string;\r\n  muteTimeVisible: boolean;\r\n  nameCard: string;\r\n\r\n  constructor(\r\n    private timHelper: TimHelperService,\r\n    private store: Store\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.isOwner = this.currentConversation.groupProfile.selfInfo.role === 'Owner';\r\n    this.isAdmin = this.currentConversation.groupProfile.selfInfo.role === 'Admin';\r\n\r\n    this.store.select(currentUserProfileSelector).subscribe(res => {\r\n      if (res) {\r\n        this.currentUserProfile = res;\r\n        this.isMine = this.currentUserProfile.userID === this.member.userID;\r\n      }\r\n    });\r\n  }\r\n  // 是否显示取消禁言按钮\r\n  get showCancelBan() {\r\n    if (this.showMuteUntil && this.currentConversation.type === TIM.TYPES.CONV_GROUP && !this.isMine) {\r\n      return this.isOwner || this.isAdmin;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  get changeRoleTitle() {\r\n    if (!this.canChangeRole) {\r\n      return '';\r\n    }\r\n    return this.isOwner && this.member.role === 'Admin' ? '设为：Member' : '设为：Admin';\r\n  }\r\n\r\n  get canChangeRole() {\r\n    return this.isOwner && ['ChatRoom', 'Public'].includes(this.currentConversation.subType);\r\n  }\r\n\r\n  // 是否显示踢出群成员按钮\r\n  get showKickout() {\r\n    return (this.isOwner || this.isAdmin) && !this.isMine;\r\n  }\r\n\r\n  // 日期格式化后的禁言时间\r\n  get muteUntil() {\r\n    return getFullDate(new Date(this.member.muteUntil * 1000));\r\n  }\r\n\r\n  // 是否显示禁言时间\r\n  get showMuteUntil() {\r\n    // 禁言时间小于当前时间\r\n    return this.member.muteUntil * 1000 > this.current;\r\n  }\r\n\r\n  setGroupMemberMuteTime() {\r\n    if (!this.muteTime) return;\r\n    this.timHelper.tim\r\n      .setGroupMemberMuteTime({\r\n        groupID: this.currentConversation.groupProfile.groupID,\r\n        userID: this.member.userID,\r\n        muteTime: Number(this.muteTime)\r\n      })\r\n      .then(() => {\r\n        this.muteTime = '';\r\n        this.muteTimeVisible = false;\r\n        this.enterEnd.emit();\r\n      })\r\n      .catch(error => {\r\n        this.store.dispatch(\r\n          showAction({ msgType: MESSAGE_STATUS.error, message: error.message })\r\n        );\r\n      });\r\n  }\r\n\r\n  // 取消禁言\r\n  cancelMute() {\r\n    this.timHelper.tim\r\n      .setGroupMemberMuteTime({\r\n        groupID: this.currentConversation.groupProfile.groupID,\r\n        userID: this.member.userID,\r\n        muteTime: 0,\r\n      })\r\n      .then(() => {\r\n        this.muteTime = '';\r\n        this.enterEnd.emit();\r\n      })\r\n      .catch((error) => {\r\n        this.store.dispatch(\r\n          showAction({ msgType: MESSAGE_STATUS.error, message: error.message })\r\n        );\r\n      });\r\n  }\r\n\r\n  setGroupMemberNameCard() {\r\n    if (this.nameCard.trim().length === 0) {\r\n      this.store.dispatch(\r\n        showAction({ msgType: MESSAGE_STATUS.warning, message: '不能设置空的群名片' })\r\n      );\r\n      return;\r\n    }\r\n    this.timHelper.tim\r\n      .setGroupMemberNameCard({\r\n        groupID: this.currentConversation.groupProfile.groupID,\r\n        userID: this.member.userID,\r\n        nameCard: this.nameCard\r\n      })\r\n      .then(() => {\r\n        this.nameCard = null;\r\n        this.enterEnd.emit();\r\n        this.store.dispatch(\r\n          showAction({ msgType: MESSAGE_STATUS.success, message: '修改成功' })\r\n        );\r\n      })\r\n      .catch(error => {\r\n        this.store.dispatch(\r\n          showAction({ msgType: MESSAGE_STATUS.error, message: error.message })\r\n        );\r\n      });\r\n  }\r\n\r\n\r\n  changeMemberRole() {\r\n    if (!this.canChangeRole) {\r\n      return;\r\n    }\r\n    let currentRole = this.member.role;\r\n    this.timHelper.tim\r\n      .setGroupMemberRole({\r\n        groupID: this.currentConversation.groupProfile.groupID,\r\n        userID: this.member.userID,\r\n        role: currentRole === 'Admin' ? 'Member' : 'Admin',\r\n      })\r\n      .catch((error) => {\r\n\r\n      });\r\n  }\r\n\r\n  kickoutGroupMember() {\r\n    this.timHelper.tim\r\n      .deleteGroupMember({\r\n        groupID: this.currentConversation.groupProfile.groupID,\r\n        reason: '我要踢你出群',\r\n        userIDList: [this.member.userID],\r\n      })\r\n      .then(() => {\r\n        // this.$store.commit('deleteGroupMemeber', this.member.userID);\r\n      })\r\n      .catch((error) => {\r\n\r\n      });\r\n  }\r\n}\r\n","<div>\r\n  <div>\r\n    <span class=\"label\">userID:</span>\r\n    {{ member.userID }}\r\n    <a *ngIf=\"showCancelBan\" type=\"text\" (click)=\"cancelMute()\">取消禁言</a>\r\n    <a [ngStyle]=\"{'color': 'red'}\" nz-popover [nzPopoverContent]=\"contentTemplate\"\r\n      nzPopoverPlacement=\"topRight\" nzPopoverTrigger=\"click\" [nzPopoverVisible]=\"muteTimeVisible\"\r\n      [nzPopoverTitle]=\"'禁言(回车确认)'\">禁言</a>\r\n    <ng-template #contentTemplate>\r\n      <nz-input-number [ngStyle]=\"{'width': '100%'}\" [(ngModel)]=\"muteTime\" [nzMin]=\"1\" [nzStep]=\"1\"\r\n        nzPlaceholder=\"回车确认\" (keydown.enter)=\"setGroupMemberMuteTime()\">\r\n      </nz-input-number>\r\n    </ng-template>\r\n  </div>\r\n  <div>\r\n    <span class=\"label\">nick:</span>\r\n    {{ member.nick || '暂无' }}\r\n  </div>\r\n  <div>\r\n    <span class=\"label\">nameCard:</span>\r\n    {{ member.nameCard || '暂无' }}\r\n    <i nz-icon nzType=\"edit\" nzTheme=\"outline\" [ngStyle]=\"{'cursor': 'pointer'}\" nz-popover\r\n      [nzPopoverContent]=\"nameCardTemplate\" nzPopoverPlacement=\"topRight\" nzPopoverTrigger=\"click\"\r\n      [nzPopoverVisible]=\"muteTimeVisible\" [nzPopoverTitle]=\"'修改群名片'\"></i>\r\n    <ng-template #nameCardTemplate>\r\n      <input nz-input [(ngModel)]=\"nameCard\" placeholder=\"回车确认\"\r\n        (keydown.enter)=\"setGroupMemberNameCard()\">\r\n    </ng-template>\r\n  </div>\r\n  <div>\r\n    <span class=\"label\">role:</span>\r\n    <span class=\"content role\" [title]=\"changeRoleTitle\">{{ member.role }}</span>\r\n  </div>\r\n  <div *ngIf=\"showMuteUntil\">\r\n    <span class=\"label\">禁言至:</span>\r\n    <span class=\"content\">{{ muteUntil }}</span>\r\n  </div>\r\n  <a type=\"text\" *ngIf=\"canChangeRole\" (click)=\"changeMemberRole()\">\r\n    {{\r\n    member.role === 'Admin' ? '取消管理员' : '设为管理员'\r\n    }}\r\n  </a>\r\n  <a type=\"text\" *ngIf=\"showKickout\" [ngStyle]=\"{'color': 'red'}\"\r\n    (click)=\"kickoutGroupMember()\">踢出群组\r\n  </a>\r\n</div>\r\n","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { Conversation, Group, GroupMember } from 'tim-js-sdk';\r\nimport { MESSAGE_STATUS } from '../../shared.data';\r\nimport { showAction } from '../../store/actions';\r\nimport { updateCurrentMemberListAction } from '../../store/actions/group.action';\r\nimport { currentConversationSelector } from '../../store/selectors';\r\nimport { currentMemberListSelector } from '../../store/selectors/group.selector';\r\nimport { TimHelperService } from '../../tim-helper.service';\r\n\r\n@Component({\r\n  selector: 'app-group-member-list',\r\n  templateUrl: './group-member-list.component.html',\r\n  styleUrls: ['./group-member-list.component.less']\r\n})\r\nexport class GroupMemberListComponent implements OnInit, OnDestroy {\r\n  @Input() currentConversation: Conversation;\r\n\r\n  currentMemberList: Array<GroupMember> = [];\r\n  currentMemberID = '';\r\n  count = 30;\r\n  subscription: Subscription;\r\n  popoverVisible: boolean;\r\n  userID: string;\r\n\r\n\r\n  constructor(\r\n    private store: Store,\r\n    private timHelperService: TimHelperService,\r\n  ) { }\r\n\r\n  get members() {\r\n    return this.currentMemberList.slice(0, this.count);\r\n  }\r\n\r\n  get showLoadMore() {\r\n    return this.members.length < this.currentConversation.groupProfile.memberNum;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // 获取当group前成员\r\n    this.subscription = this.store.select(currentMemberListSelector).subscribe(res => {\r\n\r\n      this.currentMemberList = res;\r\n    });\r\n  }\r\n\r\n  addGroupMember() {\r\n    const groupID = this.currentConversation.conversationID.replace('GROUP', '');\r\n    this.timHelperService.tim\r\n      .addGroupMember({\r\n        groupID,\r\n        userIDList: [this.userID]\r\n      })\r\n      .then((imResponse) => {\r\n        const {\r\n          successUserIDList,\r\n          failureUserIDList,\r\n          existedUserIDList\r\n        } = imResponse.data;\r\n        if (successUserIDList.length > 0) {\r\n          this.store.dispatch(\r\n            showAction({ msgType: MESSAGE_STATUS.success, message: `群成员：${successUserIDList.join(',')}，加群成功` })\r\n          );\r\n          this.timHelperService.tim.getGroupMemberProfile({ groupID, userIDList: successUserIDList })\r\n            .then(({ data: { memberList } }) => {\r\n              this.store.dispatch(updateCurrentMemberListAction({ currentMemberList: memberList }));\r\n              this.popoverVisible = false;\r\n            });\r\n        }\r\n        if (failureUserIDList.length > 0) {\r\n          this.store.dispatch(\r\n            showAction({ msgType: MESSAGE_STATUS.error, message: `群成员：${failureUserIDList.join(',')}，添加失败！` })\r\n          );\r\n        }\r\n        if (existedUserIDList.length > 0) {\r\n          this.store.dispatch(\r\n            showAction({ msgType: MESSAGE_STATUS.warning, message: `群成员：${existedUserIDList.join(',')}，已在群中` })\r\n          );\r\n        }\r\n      })\r\n      .catch(error => {\r\n        this.store.dispatch(\r\n          showAction({ msgType: MESSAGE_STATUS.error, message: error.message })\r\n        );\r\n      });\r\n  }\r\n\r\n  getGroupMemberAvatarText(role: string) {\r\n    switch (role) {\r\n      case 'Owner':\r\n        return '群主';\r\n      case 'Admin':\r\n        return '管理员';\r\n      default:\r\n        return '群成员';\r\n    }\r\n  }\r\n\r\n  loadMore() {\r\n    this.timHelperService.getGroupMemberList(this.currentConversation.groupProfile.groupID);\r\n    this.count += 30;\r\n  }\r\n\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n    }\r\n  }\r\n}\r\n","<div class=\"group-member-list-wrapper\">\r\n  <div class=\"header\">\r\n    <span\r\n      class=\"member-count text-ellipsis\">群成员：{{this.currentConversation?.groupProfile.memberCount}}</span>\r\n    <i nz-icon nzType=\"user-add\" nzTheme=\"outline\"\r\n      [ngStyle]=\"{'font-size': '1.5em','cursor':'pointer'}\" nz-popover\r\n      [nzPopoverContent]=\"addGroupTemplate\" nzPopoverPlacement=\"topRight\" nzPopoverTrigger=\"click\"\r\n      [nzPopoverVisible]=\"popoverVisible\"></i>\r\n\r\n    <ng-template #addGroupTemplate>\r\n      <input nz-input [(ngModel)]=\"userID\" placeholder=\"回车确认\" (keydown.enter)=\"addGroupMember()\">\r\n    </ng-template>\r\n\r\n  </div>\r\n  <div class=\"scroll-content\">\r\n    <div class=\"group-member-list\">\r\n      <div *ngFor=\"let member of members;\" nz-popover [nzPopoverContent]=\"contentTemplate\"\r\n        nzPopoverPlacement=\"topRight\" nzPopoverTrigger=\"click\" [nzPopoverVisible]=\"popoverVisible\">\r\n        <ng-template #contentTemplate>\r\n          <app-group-member-info [member]=\"member\" [currentConversation]=\"currentConversation\"\r\n            (enterEnd)=\"popoverVisible=false\">\r\n          </app-group-member-info>\r\n        </ng-template>\r\n\r\n        <div class=\"group-member\" (click)=\"currentMemberID = member.userID\">\r\n          <im-avatar [title]=\"getGroupMemberAvatarText(member.role)\" [src]=\"member.avatar\">\r\n          </im-avatar>\r\n          <div class=\"member-name text-ellipsis\">\r\n            <span *ngIf=\"member.nameCard\" [title]=\"member.nameCard\">{{ member.nameCard }}</span>\r\n            <span *ngIf=\"member.nick\" [title]=\"member.nick\">{{ member.nick }}</span>\r\n            <span *ngIf=\"!member.nameCard&&!member.nick\"\r\n              [title]=\"member.userID\">{{ member.userID }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"more\">\r\n    <a *ngIf=\"showLoadMore\" (click)=\"loadMore()\">查看更多</a>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { Conversation, Group, Profile } from 'tim-js-sdk';\r\nimport { MESSAGE_STATUS, TIM } from '../../../../shared.data';\r\nimport { resetCurrentConversationAction, showAction } from '../../../../store/actions';\r\nimport { TimHelperService } from '../../../../tim-helper.service';\r\n\r\n@Component({\r\n  selector: 'app-group-profile',\r\n  templateUrl: './group-profile.component.html',\r\n  styleUrls: ['./group-profile.component.less']\r\n})\r\nexport class GroupProfileComponent implements OnInit {\r\n  @Input() currentConversation: Conversation;\r\n  groupProfile: Group;\r\n\r\n  showEditFaceUrl = false;\r\n  showEditName = false;\r\n  showEditIntroduction = false;\r\n  showEditNotification = false;\r\n  showEditJoinOption = false;\r\n  showEditMessageRemindType = false;\r\n  showEditNameCard = false;\r\n  showChangeGroupOwner = false;\r\n  newOwnerUserID = '';\r\n  groupType: string;\r\n  muteAllMembers: boolean;\r\n  messageRemindTypeMap = {\r\n    AcceptAndNotify: '接收消息并提示',\r\n    AcceptNotNotify: '接收消息但不提示',\r\n    Discard: '屏蔽消息',\r\n  };\r\n  joinOptionMap = {\r\n    FreeAccess: '自由加入',\r\n    NeedPermission: '需要验证',\r\n    DisableApply: '禁止加群',\r\n  };\r\n  active = false;\r\n\r\n  avatar: string;\r\n  name: string;\r\n  introduction: string;\r\n  notification: string;\r\n  joinOption: string;\r\n  messageRemindType: string;\r\n  nameCard: string;\r\n\r\n  constructor(\r\n    private timHelper: TimHelperService,\r\n    private store: Store,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.groupProfile = this.currentConversation.groupProfile;\r\n\r\n    switch (this.groupProfile.type) {\r\n      case TIM.TYPES.GRP_WORK:\r\n        this.groupType = '好友工作群（Work）';\r\n        break;\r\n      case TIM.TYPES.GRP_PUBLIC:\r\n        this.groupType = '陌生人社交群（Public）';\r\n        break;\r\n      case TIM.TYPES.GRP_CHATROOM:\r\n        this.groupType = '临时会议群（Meeting）';\r\n        break;\r\n      case TIM.TYPES.GRP_AVCHATROOM:\r\n        this.groupType = '直播群（AVChatRoom）';\r\n        break;\r\n      default:\r\n        this.groupType = '';\r\n    }\r\n\r\n    this.muteAllMembers = this.groupProfile.muteAllMembers;\r\n\r\n    this.joinOption = this.groupProfile.joinOption;\r\n    this.messageRemindType = this.groupProfile.selfInfo.messageRemindType;\r\n  }\r\n\r\n  get editable() {\r\n    return this.groupProfile.type === TIM.TYPES.GRP_WORK || [TIM.TYPES.GRP_MBR_ROLE_OWNER, TIM.TYPES.GRP_MBR_ROLE_ADMIN].includes(this.groupProfile.selfInfo.role);\r\n  }\r\n\r\n  get isOwner() {\r\n    return this.groupProfile.selfInfo.role === TIM.TYPES.GRP_MBR_ROLE_OWNER;\r\n  }\r\n  get isAdmin() {\r\n    return this.groupProfile.selfInfo.role === TIM.TYPES.GRP_MBR_ROLE_ADMIN;\r\n  }\r\n  get showDissmissGroup() {\r\n    // 好友工作群不能解散\r\n    return this.isOwner && this.groupProfile.type !== TIM.TYPES.GRP_WORK;\r\n  }\r\n\r\n  inputFocus(el: HTMLElement) {\r\n    setTimeout(() => {\r\n      el.focus();\r\n    }, 0);\r\n  }\r\n\r\n  editFaceUrl() {\r\n    this.timHelper.tim\r\n      .updateGroupProfile({\r\n        groupID: this.groupProfile.groupID,\r\n        avatar: this.avatar.trim()\r\n      })\r\n      .then(() => {\r\n        this.showEditFaceUrl = false;\r\n      })\r\n      .catch(error => {\r\n        this.store.dispatch(\r\n          showAction({ msgType: MESSAGE_STATUS.error, message: error.message })\r\n        );\r\n      });\r\n  }\r\n\r\n\r\n  editName() {\r\n    this.timHelper.tim\r\n      .updateGroupProfile({\r\n        groupID: this.groupProfile.groupID,\r\n        name: this.name.trim()\r\n      })\r\n      .then(() => {\r\n        this.showEditName = false;\r\n      })\r\n      .catch(error => {\r\n        this.store.dispatch(\r\n          showAction({ msgType: MESSAGE_STATUS.error, message: error.message })\r\n        );\r\n      });\r\n  }\r\n\r\n  editIntroduction() {\r\n    this.timHelper.tim\r\n      .updateGroupProfile({\r\n        groupID: this.groupProfile.groupID,\r\n        introduction: this.introduction.trim()\r\n      })\r\n      .then(() => {\r\n        this.showEditIntroduction = false;\r\n      })\r\n      .catch(error => {\r\n        this.store.dispatch(\r\n          showAction({ msgType: MESSAGE_STATUS.error, message: error.message })\r\n        );\r\n      });\r\n  }\r\n\r\n  editNotification() {\r\n    this.timHelper.tim\r\n      .updateGroupProfile({\r\n        groupID: this.groupProfile.groupID,\r\n        notification: this.notification.trim()\r\n      })\r\n      .then(() => {\r\n        this.showEditNotification = false;\r\n      })\r\n      .catch(error => {\r\n        this.store.dispatch(\r\n          showAction({ msgType: MESSAGE_STATUS.error, message: error.message })\r\n        );\r\n      });\r\n  }\r\n\r\n  editJoinOption() {\r\n    this.timHelper.tim\r\n      .updateGroupProfile({\r\n        groupID: this.groupProfile.groupID,\r\n        joinOption: this.joinOption\r\n      })\r\n      .then(() => {\r\n        this.showEditJoinOption = false;\r\n      })\r\n      .catch(error => {\r\n        this.store.dispatch(\r\n          showAction({ msgType: MESSAGE_STATUS.error, message: error.message })\r\n        );\r\n      });\r\n  }\r\n\r\n  editMessageRemindType() {\r\n    this.timHelper.tim\r\n      .setMessageRemindType({\r\n        groupID: this.groupProfile.groupID,\r\n        messageRemindType: this.messageRemindType\r\n      })\r\n      .then(() => {\r\n        this.showEditMessageRemindType = false;\r\n      })\r\n      .catch(error => {\r\n        this.store.dispatch(\r\n          showAction({ msgType: MESSAGE_STATUS.error, message: error.message })\r\n        );\r\n      });\r\n  }\r\n\r\n  editNameCard() {\r\n    if (this.nameCard.trim().length === 0) {\r\n      this.store.dispatch(\r\n        showAction({ msgType: MESSAGE_STATUS.warning, message: '不能设置空的群名片' })\r\n      );\r\n      return;\r\n    }\r\n    this.timHelper.tim\r\n      .setGroupMemberNameCard({\r\n        groupID: this.groupProfile.groupID,\r\n        nameCard: this.nameCard.trim()\r\n      })\r\n      .then(() => {\r\n        this.showEditNameCard = false;\r\n      })\r\n      .catch(error => {\r\n        this.store.dispatch(\r\n          showAction({ msgType: MESSAGE_STATUS.error, message: error.message })\r\n        );\r\n      });\r\n  }\r\n\r\n  changeOwner() {\r\n    this.timHelper.tim\r\n      .changeGroupOwner({\r\n        groupID: this.groupProfile.groupID,\r\n        newOwnerID: this.newOwnerUserID,\r\n      })\r\n      .then(() => {\r\n        this.showChangeGroupOwner = false;\r\n        this.store.dispatch(\r\n          showAction({\r\n            msgType: MESSAGE_STATUS.success,\r\n            message: `转让群主成功，新群主ID：${this.newOwnerUserID}`,\r\n          }));\r\n        this.newOwnerUserID = '';\r\n      })\r\n      .catch((error) => {\r\n        showAction({\r\n          msgType: MESSAGE_STATUS.error,\r\n          message: error.message,\r\n        });\r\n      });\r\n  }\r\n\r\n  quitGroup() {\r\n    this.timHelper.tim\r\n      .quitGroup(this.groupProfile.groupID)\r\n      .then(({ data: { groupID } }) => {\r\n        this.store.dispatch(\r\n          showAction({\r\n            msgType: MESSAGE_STATUS.success,\r\n            message: `退群成功`,\r\n          }));\r\n        if (groupID === this.groupProfile.groupID) {\r\n          this.store.dispatch(resetCurrentConversationAction());\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        showAction({\r\n          msgType: MESSAGE_STATUS.error,\r\n          message: error.message,\r\n        });\r\n      });\r\n  }\r\n\r\n  dismissGroup() {\r\n    this.timHelper.tim\r\n      .dismissGroup(this.groupProfile.groupID)\r\n      .then(({ data: { groupID } }) => {\r\n        this.store.dispatch(\r\n          showAction({\r\n            msgType: MESSAGE_STATUS.success,\r\n            message: `群：${this.groupProfile.name || this.groupProfile.groupID}解散成功！`,\r\n          }));\r\n        if (groupID === this.groupProfile.groupID) {\r\n          this.store.dispatch(resetCurrentConversationAction());\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        showAction({\r\n          msgType: MESSAGE_STATUS.error,\r\n          message: error.message,\r\n        });\r\n      });\r\n  }\r\n  changeMuteStatus() {\r\n    if (this.isOwner || this.isAdmin) {\r\n      this.timHelper.tim\r\n        .updateGroupProfile({\r\n          muteAllMembers: this.muteAllMembers,\r\n          groupID: this.groupProfile.groupID,\r\n        })\r\n        .then((imResponse) => {\r\n          this.muteAllMembers = imResponse.data.group.muteAllMembers;\r\n          if (this.muteAllMembers) {\r\n            this.active = true;\r\n            this.store.dispatch(\r\n              showAction({\r\n                msgType: MESSAGE_STATUS.success,\r\n                message: `全体禁言`,\r\n              }));\r\n          } else {\r\n            this.active = false;\r\n            this.store.dispatch(\r\n              showAction({\r\n                msgType: MESSAGE_STATUS.success,\r\n                message: `取消全体禁言`,\r\n              }));\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          this.store.dispatch(\r\n            showAction({\r\n              msgType: MESSAGE_STATUS.error,\r\n              message: error.message,\r\n            }));\r\n        });\r\n    } else {\r\n      setTimeout(() => {\r\n        this.muteAllMembers = this.groupProfile.muteAllMembers;\r\n      }, 0);\r\n      this.store.dispatch(\r\n        showAction({\r\n          msgType: MESSAGE_STATUS.error,\r\n          message: '普通群成员不能对全体禁言',\r\n        }));\r\n    }\r\n  }\r\n}\r\n","<div>\r\n  <app-group-member-list [currentConversation]=\"currentConversation\"></app-group-member-list>\r\n\r\n  <div class=\"group-info-content\">\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">群ID</div>\r\n      <div class=\"content\">{{ groupProfile.groupID }}</div>\r\n    </div>\r\n\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">\r\n        群头像\r\n        <i nz-icon nzType=\"edit\" nzTheme=\"outline\" *ngIf=\"editable\"\r\n          (click)=\"showEditFaceUrl = true;inputFocus(groupAvatar);$event.stopPropagation()\"\r\n          class=\"edit\"></i>\r\n      </div>\r\n      <div class=\"content\" *ngIf=\"!showEditFaceUrl\">\r\n        <im-avatar [src]=\"groupProfile.avatar\"></im-avatar>\r\n      </div>\r\n      <input #groupAvatar [hidden]=\"!showEditFaceUrl\" nz-input [(ngModel)]=\"avatar\"\r\n        placeholder=\"回车确认\" (keydown.enter)=\"editFaceUrl()\" (blur)=\"showEditFaceUrl = false\">\r\n    </div>\r\n\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">群类型</div>\r\n      <div class=\"content\">{{ groupType}}</div>\r\n    </div>\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">\r\n        群名称\r\n        <i nz-icon nzType=\"edit\" nzTheme=\"outline\" *ngIf=\"editable\" (click)=\"\r\n          showEditName = true;inputFocus(groupName)\" class=\"edit\"></i>\r\n      </div>\r\n      <div class=\"content text-ellipsis\" [title]=\"groupProfile.name\" *ngIf=\"!showEditName\">\r\n        {{ groupProfile.name || '暂无' }}\r\n      </div>\r\n      <input #groupName [hidden]=\"!showEditName\" autofocus nz-input [(ngModel)]=\"name\"\r\n        placeholder=\"回车确认\" (keydown.enter)=\"editName()\" (blur)=\"showEditName = false\">\r\n    </div>\r\n\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">\r\n        群介绍\r\n        <i nz-icon nzType=\"edit\" nzTheme=\"outline\" *ngIf=\"editable\" (click)=\"\r\n          showEditIntroduction = true;inputFocus(groupIntroduction)\" class=\"edit\"></i>\r\n      </div>\r\n      <div class=\"long-content\" [title]=\"groupProfile.introduction\" *ngIf=\"!showEditIntroduction\">\r\n        {{ groupProfile.introduction || '暂无' }}\r\n      </div>\r\n      <input #groupIntroduction [hidden]=\"!showEditIntroduction\" autofocus nz-input\r\n        [(ngModel)]=\"introduction\" placeholder=\"回车确认\" (keydown.enter)=\"editIntroduction()\"\r\n        (blur)=\"showEditIntroduction = false\">\r\n    </div>\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">\r\n        群公告\r\n        <i nz-icon nzType=\"edit\" nzTheme=\"outline\" *ngIf=\"editable\" (click)=\"\r\n          showEditNotification = true;inputFocus(groupNotification)\r\n        \" class=\"edit\"></i>\r\n      </div>\r\n      <div class=\"long-content\" [title]=\"groupProfile.notification\" *ngIf=\"!showEditNotification\">\r\n        {{ groupProfile.notification || '暂无' }}\r\n      </div>\r\n\r\n      <input #groupNotification [hidden]=\"!showEditNotification\" autofocus nz-input\r\n        [(ngModel)]=\"notification\" placeholder=\"回车确认\" (keydown.enter)=\"editNotification()\"\r\n        (blur)=\"showEditNotification = false\">\r\n    </div>\r\n    <div class=\"info-item\" *ngIf=\"groupProfile.type !== 'Private'\">\r\n      <div class=\"label\">\r\n        申请加群方式\r\n        <i nz-icon nzType=\"edit\" *ngIf=\"editable\" (click)=\"\r\n          showEditJoinOption = true;\r\n        \" class=\"edit\"></i>\r\n      </div>\r\n      <div class=\"content\" *ngIf=\"!showEditJoinOption\">{{ joinOptionMap[groupProfile.joinOption] }}\r\n      </div>\r\n      <nz-select [ngStyle]=\"{'width': '100%'}\" [(ngModel)]=\"joinOption\"\r\n        (ngModelChange)=\"editJoinOption()\" (blur)=\"showEditJoinOption = false\"\r\n        [hidden]=\"!showEditJoinOption\">\r\n        <nz-option nzValue=\"FreeAccess\" nzLabel=\"自由加入\"></nz-option>\r\n        <nz-option nzValue=\"NeedPermission\" nzLabel=\"需要验证\"></nz-option>\r\n        <nz-option nzValue=\"DisableApply\" nzLabel=\"禁止加群\"></nz-option>\r\n      </nz-select>\r\n    </div>\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">\r\n        群消息提示类型\r\n        <i nz-icon nzType=\"edit\" *ngIf=\"editable\" (click)=\"\r\n          showEditMessageRemindType = true;\r\n        \" class=\"edit\"></i>\r\n      </div>\r\n      <div class=\"content\" *ngIf=\"!showEditMessageRemindType\">\r\n        {{ messageRemindTypeMap[this.groupProfile.selfInfo.messageRemindType] }}\r\n      </div>\r\n\r\n      <nz-select [ngStyle]=\"{'width': '100%'}\" [(ngModel)]=\"messageRemindType\"\r\n        (ngModelChange)=\"editMessageRemindType()\" (blur)=\"showEditMessageRemindType = false\"\r\n        [hidden]=\"!showEditMessageRemindType\">\r\n        <nz-option nzValue=\"AcceptAndNotify\" nzLabel=\"接收消息并提示\"></nz-option>\r\n        <nz-option nzValue=\"AcceptNotNotify\" nzLabel=\"接收消息但不提示\"></nz-option>\r\n        <nz-option nzValue=\"Discard\" nzLabel=\"屏蔽消息\"></nz-option>\r\n      </nz-select>\r\n    </div>\r\n\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">\r\n        我的群名片\r\n        <i nz-icon nzType=\"edit\" (click)=\"showEditNameCard = true;inputFocus(groupNameCard)\"\r\n          class=\"edit\"></i>\r\n      </div>\r\n      <div class=\"content cursor-pointer\" *ngIf=\"!showEditNameCard\">\r\n        {{ groupProfile.selfInfo.nameCard || '暂无' }}\r\n      </div>\r\n\r\n      <input #groupNameCard [hidden]=\"!showEditNameCard\" autofocus nz-input [(ngModel)]=\"nameCard\"\r\n        placeholder=\"回车确认\" (keydown.enter)=\"editNameCard()\" (blur)=\"showEditNameCard = false\">\r\n    </div>\r\n\r\n    <div class=\"info-item\">\r\n      <div class=\"label\" [ngClass]=\"{'active' : active}\">全体禁言</div>\r\n      <nz-switch [(ngModel)]=\"muteAllMembers\" (ngModelChange)=\"changeMuteStatus()\">\r\n      </nz-switch>\r\n    </div>\r\n    <div *ngIf=\"isOwner\">\r\n      <a type=\"text\" (click)=\"showChangeGroupOwner = true\">转让群组</a>\r\n      <input [hidden]=\"!showChangeGroupOwner\" autofocus nz-input [(ngModel)]=\"newOwnerUserID\"\r\n        placeholder=\"新群主的userID\" (keydown.enter)=\"changeOwner()\"\r\n        (blur)=\"showChangeGroupOwner = false\">\r\n    </div>\r\n    <div>\r\n      <a [ngStyle]=\"{'color': 'red'}\" (click)=\"quitGroup()\">退出群组</a>\r\n    </div>\r\n    <div *ngIf=\"showDissmissGroup\">\r\n      <a type=\"text\" [ngStyle]=\"{'color': 'red'}\" (click)=\"dismissGroup()\">解散群组</a>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { Conversation } from 'tim-js-sdk';\r\nimport { currentConversationSelector } from '../../store/selectors';\r\nimport TIM from 'tim-js-sdk';\r\n\r\n@Component({\r\n  selector: 'app-conversation-profile',\r\n  templateUrl: './conversation-profile.component.html',\r\n  styleUrls: ['./conversation-profile.component.less']\r\n})\r\nexport class ConversationProfileComponent implements OnInit, OnDestroy {\r\n  TIM = TIM;\r\n  currentConversation: Conversation;\r\n  subscription: Subscription;\r\n\r\n  constructor(\r\n    private store: Store\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.subscription = this.store.select(currentConversationSelector)\r\n      .subscribe(res => {\r\n        this.currentConversation = res;\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n    }\r\n  }\r\n}\r\n","<div class=\"conversation-profile-wrapper\">\r\n  <app-user-profile *ngIf=\"currentConversation.type === TIM.TYPES.CONV_C2C\"\r\n    [userProfile]=\"currentConversation.userProfile\"></app-user-profile>\r\n\r\n  <app-group-profile *ngIf=\"currentConversation.type === TIM.TYPES.CONV_GROUP\"\r\n    [currentConversation]=\"currentConversation\"></app-group-profile>\r\n</div>\r\n","import { ChangeDetectionStrategy, Input } from '@angular/core';\r\nimport { Component, EventEmitter, OnDestroy, OnInit, Output } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { Subscription } from 'rxjs';\r\nimport { getMessage } from '../store/selectors';\r\n\r\n@Component({\r\n  selector: 'ngx-tencent-tim',\r\n  templateUrl: './tencent-tim.component.html',\r\n  styleUrls: ['./tencent-tim.component.less'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class TencentTimComponent implements OnInit, OnDestroy {\r\n\r\n  @Input() hiddenWindow = false;\r\n\r\n  @Output() message = new EventEmitter<any>();\r\n  @Output() hiddenWindowChange = new EventEmitter<boolean>();\r\n\r\n  showDetail = false;\r\n  subscription: Subscription;\r\n\r\n  constructor(\r\n    private store: Store\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.subscription = this.store.select(getMessage)\r\n      .subscribe((res: { type: string, message: string; }) => {\r\n        this.message.emit(res);\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n    }\r\n  }\r\n}\r\n","<div class=\"chat-wrapper\" cdkDrag (click)=\"showDetail=false\" [hidden]=\"hiddenWindow\">\r\n  <div class=\"chat-side\" cdkDragHandle>\r\n    <app-side-bar></app-side-bar>\r\n  </div>\r\n\r\n  <div class=\"chat-content\">\r\n    <div cdkDragHandle class=\"chat-title\">\r\n      <lib-title (detailBtnClick)=\"showDetail=!showDetail\"\r\n        (minimizeClick)=\"hiddenWindow=true;hiddenWindowChange.emit(true)\">\r\n      </lib-title>\r\n    </div>\r\n    <div class=\"chat-window\">\r\n      <app-current-conversation></app-current-conversation>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"chat-profile\" *ngIf=\"showDetail\" (click)=\"$event.stopPropagation()\">\r\n    <app-conversation-profile></app-conversation-profile>\r\n  </div>\r\n</div>\r\n","\r\nimport { Action, createReducer, on } from '@ngrx/store';\r\nimport { Conversation, Message } from 'tim-js-sdk';\r\nimport {\r\n  checkoutConversationAction,\r\n  pushCurrentMessageListAction,\r\n  removeMessageAction,\r\n  resetConversationAction,\r\n  resetCurrentConversationAction,\r\n  updateConversationListAction,\r\n  updateCurrentConversationAction,\r\n  updateMessageAction\r\n} from '../actions';\r\n\r\nexport interface ConversationState {\r\n  currentConversation: Conversation;\r\n  currentMessageList: Array<Message>;\r\n  nextReqMessageID: string;\r\n  isCompleted: boolean; // 当前会话消息列表是否已经拉完了所有消息\r\n  conversationList: Array<Conversation>;\r\n}\r\n\r\nexport const initialState: ConversationState = {\r\n  currentConversation: {} as Conversation,\r\n  currentMessageList: [],\r\n  nextReqMessageID: '',\r\n  isCompleted: false, // 当前会话消息列表是否已经拉完了所有消息\r\n  conversationList: []\r\n};\r\n\r\nconst _conversationReducer = createReducer(\r\n  initialState,\r\n  on(updateCurrentConversationAction, (state, { conversation }) => {\r\n    return {\r\n      ...state,\r\n      currentConversation: conversation,\r\n      currentMessageList: [],\r\n      nextReqMessageID: '',\r\n      isCompleted: false // 当前会话消息列表是否已经拉完了所有消息\r\n    };\r\n  }),\r\n  on(updateMessageAction, (state, { nextReqMessageID, isCompleted, currentMessageList }) => {\r\n    return {\r\n      ...state,\r\n      currentMessageList,\r\n      nextReqMessageID,\r\n      isCompleted // 当前会话消息列表是否已经拉完了所有消息\r\n    };\r\n  }),\r\n  on(updateConversationListAction, (state, { conversationList }) => {\r\n    return {\r\n      ...state,\r\n      conversationList\r\n    };\r\n  }),\r\n  on(resetCurrentConversationAction, (state) => ({\r\n    ...state,\r\n    currentConversation: {} as Conversation,\r\n  })),\r\n  on(pushCurrentMessageListAction, (state, { message }) => {\r\n\r\n    // 还没当前会话，则跳过\r\n    if (!state.currentConversation.conversationID) {\r\n      return { ...state };\r\n    }\r\n    if (Array.isArray(message)) {\r\n      // 筛选出当前会话的消息\r\n      const result = message.filter(item => item.conversationID === state.currentConversation.conversationID);\r\n      const currentMessageList = [...state.currentMessageList, ...result];\r\n      return { ...state, currentMessageList };\r\n    } else if (message.conversationID === state.currentConversation.conversationID) {\r\n      const currentMessageList = [...state.currentMessageList, message];\r\n      return { ...state, currentMessageList };\r\n    }\r\n    return { ...state };\r\n  }),\r\n  on(removeMessageAction, (state, { message }) => {\r\n    const index = state.currentMessageList.findIndex(({ ID }) => ID === message.ID);\r\n    if (index >= 0) {\r\n      const currentMessageList: Array<any> = state.currentMessageList;\r\n      currentMessageList.splice(index, 1);\r\n      return { ...state, currentMessageList };\r\n    }\r\n    return { ...state };\r\n\r\n  }),\r\n  on(resetConversationAction, (state) => {\r\n    return Object.assign(state, {\r\n      currentConversation: {},\r\n      currentMessageList: [],\r\n      nextReqMessageID: '',\r\n      isCompleted: false, // 当前会话消息列表是否已经拉完了所有消息\r\n      conversationList: []\r\n    });\r\n  }),\r\n);\r\n\r\nexport function conversationReducer(state: ConversationState | undefined, action: Action) {\r\n  return _conversationReducer(state, action);\r\n}\r\n\r\nexport interface ConversationIDState {\r\n  conversationID: string;\r\n}\r\nexport const conversationIDInitialState: ConversationIDState = {\r\n  conversationID: '',\r\n};\r\n\r\nconst _conversationIDReducer = createReducer(conversationIDInitialState,\r\n  on(checkoutConversationAction, (state, { conversationID }) => ({\r\n    conversationID\r\n  })));\r\n\r\nexport function conversationIDReducer(state: ConversationIDState | undefined, action: Action) {\r\n  return _conversationIDReducer(state, action);\r\n}\r\n","import { Action, on } from \"@ngrx/store\";\r\nimport { createReducer } from \"@ngrx/store\";\r\n\r\nimport { resetCurrentMemberListAction, updateCurrentMemberListAction, updateGroupListAction } from \"../actions/group.action\";\r\n\r\nexport interface GroupState {\r\n  groupList: Array<any>;\r\n  currentMemberList: Array<any>;\r\n  createGroupModelVisible: boolean;\r\n}\r\n\r\nexport const initialState: GroupState = {\r\n  groupList: [],\r\n  currentMemberList: [],\r\n  createGroupModelVisible: false\r\n};\r\n\r\nconst _groupReducer = createReducer(\r\n  initialState,\r\n  on(updateGroupListAction, (state: GroupState, { groupList }) => {\r\n    return { ...state, groupList };\r\n  }),\r\n  on(updateCurrentMemberListAction, (state: GroupState, { currentMemberList }) => {\r\n    return { ...state, currentMemberList };\r\n  }),\r\n  on(resetCurrentMemberListAction, (state: GroupState) => {\r\n    return { ...state, currentMemberList: [] };\r\n  }),\r\n);\r\n\r\nexport function groupReducer(state: GroupState | undefined, action: Action) {\r\n  return _groupReducer(state, action);\r\n}\r\n","\r\nimport { Action, createReducer, on } from '@ngrx/store';\r\nimport { loginAction, } from '../actions';\r\n\r\n\r\nexport interface LoginState {\r\n  isLogin: boolean;\r\n}\r\n\r\nexport const initialState: LoginState = {\r\n  isLogin: false,\r\n};\r\n\r\nconst _loginReducer = createReducer(\r\n  initialState,\r\n  on(loginAction, (state, { isLogin }) => ({ ...state, isLogin }))\r\n);\r\n\r\nexport function LoginReducer(state: LoginState | undefined, action: Action) {\r\n  return _loginReducer(state, action);\r\n}\r\n","\r\nimport { Action, createReducer, on } from '@ngrx/store';\r\nimport { showAction } from '../actions';\r\n\r\n\r\nexport interface MessageState {\r\n  type: string;\r\n  message: any,\r\n\r\n}\r\n\r\nexport const initialState: MessageState = {\r\n  type: 'error',\r\n  message: '',\r\n};\r\n\r\nconst _showMessageReducer = createReducer(\r\n  initialState,\r\n  on(showAction, (state, { msgType, message }) => ({ type: msgType, message })),\r\n);\r\n\r\nexport function showMessageReducer(state: MessageState | undefined, action: Action) {\r\n  return _showMessageReducer(state, action);\r\n}\r\n","\r\nimport { Action, createReducer, on } from '@ngrx/store';\r\nimport { Profile } from 'tim-js-sdk';\r\nimport { resetUserAction, SDKReadyAction, updateCurrentUserProfileAction } from '../actions';\r\n\r\n\r\nexport interface UserState {\r\n  currentUserProfile: Profile,\r\n  isLogin: boolean,\r\n  isSDKReady: boolean, // TIM SDK 是否 ready\r\n  userID: number,\r\n  userSig: string,\r\n  sdkAppID: number,\r\n}\r\n\r\nexport const initialState: UserState = {\r\n  currentUserProfile: {} as Profile,\r\n  isLogin: false,\r\n  isSDKReady: false, // TIM SDK 是否 ready\r\n  userID: 0,\r\n  userSig: '',\r\n  sdkAppID: 0,\r\n};\r\n\r\nconst _userReducer = createReducer(\r\n  initialState,\r\n  on(SDKReadyAction, (state, { SDKReadyState }) => ({ ...state, isSDKReady: SDKReadyState })),\r\n  on(updateCurrentUserProfileAction, (state, { profile }) => ({ ...state, currentUserProfile: profile as Profile })),\r\n  on(resetUserAction, (state) => ({\r\n    ...state,\r\n    ...initialState\r\n  })),\r\n);\r\n\r\nexport function UserReducer(state: UserState | undefined, action: Action) {\r\n  return _userReducer(state, action);\r\n}\r\n","import { ActionReducerMap } from '@ngrx/store';\r\nimport {\r\n  conversationIDReducer,\r\n  ConversationIDState,\r\n  conversationReducer,\r\n  ConversationState\r\n} from './conversation.reducer';\r\nimport { groupReducer, GroupState } from './group.reducer';\r\nimport { LoginReducer, LoginState, } from './login.reducer';\r\nimport { showMessageReducer, MessageState } from './message.reducer';\r\nimport { UserReducer, UserState } from './user.reducer';\r\n\r\n\r\n// state\r\nexport interface ReducerState {\r\n  login: LoginState;\r\n  user: UserState;\r\n  message: MessageState;\r\n  currentConversationID: ConversationIDState;\r\n  conversation: ConversationState;\r\n  group: GroupState;\r\n}\r\n// register the reducer functions\r\nexport const reducers: ActionReducerMap<ReducerState> = {\r\n  login: LoginReducer,\r\n  user: UserReducer,\r\n  message: showMessageReducer,\r\n  currentConversationID: conversationIDReducer,\r\n  conversation: conversationReducer,\r\n  group: groupReducer\r\n};","import { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\n\r\n\r\n\r\nimport { TencentTimComponent } from './tencent-tim/tencent-tim.component';\r\nimport { SideBarComponent } from './side-bar/side-bar.component';\r\nimport { MyProfileComponent } from './my-profile/my-profile.component';\r\nimport { AvatarComponent } from './avatar/avatar.component';\r\n\r\nimport {\r\n  CurrentConversationComponent,\r\n  ConversationItemComponent,\r\n  ConversationListComponent\r\n} from './conversation';\r\n\r\nimport {\r\n  FileElementComponent,\r\n  ImageElementComponent,\r\n  MessageSendBoxComponent,\r\n  MessageFooterComponent,\r\n  MessageBubbleComponent,\r\n  TextElementComponent,\r\n  MessageStatusIconComponent,\r\n  MessageItemComponent,\r\n} from './message';\r\n\r\nimport { StoreDevtoolsModule } from '@ngrx/store-devtools';\r\nimport { StoreModule } from '@ngrx/store';\r\n\r\nimport { reducers } from './store/reducer';\r\n// import { environment } from 'src/environments/environment';\r\nimport { ConversationProfileComponent } from './conversation/conversation-profile/conversation-profile.component';\r\nimport { UserProfileComponent } from './conversation/conversation-profile/conversation-profile/user-profile/user-profile.component';\r\nimport { GroupListComponent } from './group/group-list/group-list.component';\r\nimport { GroupTipElementComponent } from './message/message-element/group-tip-element/group-tip-element.component';\r\nimport { MessageHeaderComponent } from './message/message-header/message-header.component';\r\nimport { CustomElementComponent } from './message/message-element/custom-element/custom-element.component';\r\nimport { GroupSystemNoticeElementComponent } from './message/message-element/group-system-notice-element/group-system-notice-element.component';\r\nimport { GroupProfileComponent } from './conversation/conversation-profile/conversation-profile/group-profile/group-profile.component';\r\nimport { GroupMemberListComponent } from './group/group-member-list/group-member-list.component';\r\nimport { GroupItemComponent } from './group/group-item/group-item.component';\r\nimport { GroupMemberInfoComponent } from './group/group-member-info/group-member-info.component';\r\nimport { NgTimConfig } from './type';\r\n\r\nimport { NzBadgeModule } from 'ng-zorro-antd/badge';\r\nimport { NzButtonModule } from 'ng-zorro-antd/button';\r\nimport { NzCollapseModule } from 'ng-zorro-antd/collapse';\r\nimport { NzFormModule } from 'ng-zorro-antd/form';\r\nimport { NzIconModule } from 'ng-zorro-antd/icon';\r\nimport { NzImageModule } from 'ng-zorro-antd/image';\r\nimport { NzInputModule } from 'ng-zorro-antd/input';\r\nimport { NzMessageModule } from 'ng-zorro-antd/message';\r\nimport { NzPopconfirmModule } from 'ng-zorro-antd/popconfirm';\r\nimport { NzPopoverModule } from 'ng-zorro-antd/popover';\r\nimport { NzSelectModule } from 'ng-zorro-antd/select';\r\nimport { NzToolTipModule } from 'ng-zorro-antd/tooltip';\r\nimport { NzModalModule } from 'ng-zorro-antd/modal';\r\nimport { NzRadioModule } from 'ng-zorro-antd/radio';\r\nimport { NzSwitchModule } from 'ng-zorro-antd/switch';\r\nimport { NzInputNumberModule } from 'ng-zorro-antd/input-number';\r\nimport { NzAvatarModule } from 'ng-zorro-antd/avatar';\r\nimport { NzDropDownModule } from 'ng-zorro-antd/dropdown';\r\n\r\nimport { NG_Tim_CONFIG } from './shared.data';\r\nimport { TitleComponent } from './title/title.component';\r\nimport { CreateGroupComponent } from './group/create-group/create-group.component';\r\nimport { ApprovalJoinGroupComponent } from './message/message-element/group-system-notice-element/approval-join-group/approval-join-group.component';\r\nimport { ProfileCardComponent } from './my-profile/profile-card/profile-card.component';\r\nimport { EditProfileComponent } from './my-profile/edit-profile/edit-profile.component';\r\nimport { ReEditMessageService } from './re-edit-message.service';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TencentTimComponent,\r\n    SideBarComponent,\r\n    ConversationListComponent,\r\n    MyProfileComponent,\r\n    ConversationItemComponent,\r\n    AvatarComponent,\r\n    CurrentConversationComponent,\r\n    MessageItemComponent,\r\n    MessageStatusIconComponent,\r\n    TextElementComponent,\r\n    MessageBubbleComponent,\r\n    MessageFooterComponent,\r\n    MessageSendBoxComponent,\r\n    ImageElementComponent,\r\n    FileElementComponent,\r\n    ConversationProfileComponent,\r\n    UserProfileComponent,\r\n    GroupListComponent,\r\n    GroupTipElementComponent,\r\n    MessageHeaderComponent,\r\n    CustomElementComponent,\r\n    GroupSystemNoticeElementComponent,\r\n    GroupProfileComponent,\r\n    GroupMemberListComponent,\r\n    GroupItemComponent,\r\n    GroupMemberInfoComponent,\r\n    TitleComponent,\r\n    CreateGroupComponent,\r\n    ApprovalJoinGroupComponent,\r\n    ProfileCardComponent,\r\n    EditProfileComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    DragDropModule,\r\n    NzPopoverModule,\r\n    NzToolTipModule,\r\n    NzModalModule,\r\n    NzImageModule,\r\n    NzFormModule,\r\n    NzInputModule,\r\n    NzPopconfirmModule,\r\n    NzInputNumberModule,\r\n    NzButtonModule,\r\n    NzIconModule,\r\n    NzMessageModule,\r\n    NzSelectModule,\r\n    NzBadgeModule,\r\n    NzCollapseModule,\r\n    NzRadioModule,\r\n    NzAvatarModule,\r\n    NzDropDownModule,\r\n    NzSwitchModule,\r\n    StoreModule.forRoot(reducers, {\r\n      runtimeChecks: {\r\n        strictStateImmutability: false,\r\n        strictActionImmutability: false,\r\n        strictStateSerializability: false,\r\n        strictActionSerializability: false,\r\n      }\r\n    }),\r\n  ],\r\n  exports: [\r\n    TencentTimComponent\r\n  ],\r\n  providers: [ReEditMessageService]\r\n})\r\nexport class TencentTimModule {\r\n  static forRoot(config?: NgTimConfig): ModuleWithProviders<TencentTimModule> {\r\n    return {\r\n      ngModule: TencentTimModule,\r\n      providers: [\r\n        {\r\n          provide: NG_Tim_CONFIG,\r\n          useValue: config\r\n        }\r\n      ],\r\n    };\r\n  }\r\n}\r\n","/*\r\n * Public API Surface of ngx-tencent-im\r\n */\r\nexport * from './type';\r\n\r\nexport * from './tim-helper.service';\r\nexport * from './tencent-tim/tencent-tim.component';\r\nexport * from './tencent-tim.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["selectPlayerStates","TIM","i1","i3","i4.TimHelperService","i10","i11","i12","i1.AvatarComponent","i3.ProfileCardComponent","i4.AvatarComponent","i5","i6","i7","i2.TimHelperService","i3.AvatarComponent","i4","i3.ConversationItemComponent","i8","i9","i2","i13","i1.TimHelperService","i2.AvatarComponent","i3.TimHelperService","i5.GroupItemComponent","i3.MyProfileComponent","i4.ConversationListComponent","i5.GroupListComponent","i4.ReEditMessageService","i1.MessageBubbleComponent","i2.MessageBubbleComponent","i3.MessageStatusIconComponent","i4.TextElementComponent","i5.ImageElementComponent","i6.FileElementComponent","i7.MessageFooterComponent","i8.MessageHeaderComponent","i9.GroupTipElementComponent","i10.CustomElementComponent","i11.GroupSystemNoticeElementComponent","i3.ReEditMessageService","i3.MessageItemComponent","i4.MessageSendBoxComponent","i3.GroupMemberInfoComponent","i3.GroupMemberListComponent","i2.UserProfileComponent","i3.GroupProfileComponent","i2.SideBarComponent","i3.TitleComponent","i4.CurrentConversationComponent","i5.ConversationProfileComponent","initialState"],"mappings":"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iB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,OAAO,EAAE,iBAAiB;AAC1B,IAAA,OAAO,EAAE,iBAAiB;AAC1B,IAAA,OAAO,EAAE,iBAAiB;AAC1B,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,KAAK,EAAE,iBAAiB;AACxB,IAAA,KAAK,EAAE,iBAAiB;AACxB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,OAAO,EAAE,iBAAiB;AAC1B,IAAA,OAAO,EAAE,iBAAiB;AAC1B,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,KAAK,EAAE,iBAAiB;AACxB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,OAAO,EAAE,iBAAiB;AAC1B,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,KAAK,EAAE,iBAAiB;AACxB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,OAAO,EAAE,iBAAiB;AAC1B,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,iBAAiB;AACzB,IAAA,MAAM,EAAE,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"}