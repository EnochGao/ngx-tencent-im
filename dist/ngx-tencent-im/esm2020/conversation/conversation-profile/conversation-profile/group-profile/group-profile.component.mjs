import { Component, Input } from '@angular/core';
import { MESSAGE_STATUS, TIM } from '../../../../shared.data';
import { resetCurrentConversationAction, showAction } from '../../../../store/actions';
import * as i0 from "@angular/core";
import * as i1 from "../../../../tim-helper.service";
import * as i2 from "@ngrx/store";
import * as i3 from "../../../../group/group-member-list/group-member-list.component";
import * as i4 from "../../../../avatar/avatar.component";
import * as i5 from "ng-zorro-antd/select";
import * as i6 from "ng-zorro-antd/switch";
import * as i7 from "@angular/common";
import * as i8 from "ng-zorro-antd/core/transition-patch";
import * as i9 from "ng-zorro-antd/icon";
import * as i10 from "ng-zorro-antd/input";
import * as i11 from "@angular/forms";
export class GroupProfileComponent {
    constructor(timHelper, store) {
        this.timHelper = timHelper;
        this.store = store;
        this.showEditFaceUrl = false;
        this.showEditName = false;
        this.showEditIntroduction = false;
        this.showEditNotification = false;
        this.showEditJoinOption = false;
        this.showEditMessageRemindType = false;
        this.showEditNameCard = false;
        this.showChangeGroupOwner = false;
        this.newOwnerUserID = '';
        this.messageRemindTypeMap = {
            AcceptAndNotify: '接收消息并提示',
            AcceptNotNotify: '接收消息但不提示',
            Discard: '屏蔽消息',
        };
        this.joinOptionMap = {
            FreeAccess: '自由加入',
            NeedPermission: '需要验证',
            DisableApply: '禁止加群',
        };
        this.active = false;
    }
    ngOnInit() {
        this.groupProfile = this.currentConversation.groupProfile;
        switch (this.groupProfile.type) {
            case TIM.TYPES.GRP_WORK:
                this.groupType = '好友工作群（Work）';
                break;
            case TIM.TYPES.GRP_PUBLIC:
                this.groupType = '陌生人社交群（Public）';
                break;
            case TIM.TYPES.GRP_CHATROOM:
                this.groupType = '临时会议群（Meeting）';
                break;
            case TIM.TYPES.GRP_AVCHATROOM:
                this.groupType = '直播群（AVChatRoom）';
                break;
            default:
                this.groupType = '';
        }
        this.muteAllMembers = this.groupProfile.muteAllMembers;
        this.joinOption = this.groupProfile.joinOption;
        this.messageRemindType = this.groupProfile.selfInfo.messageRemindType;
    }
    get editable() {
        return this.groupProfile.type === TIM.TYPES.GRP_WORK || [TIM.TYPES.GRP_MBR_ROLE_OWNER, TIM.TYPES.GRP_MBR_ROLE_ADMIN].includes(this.groupProfile.selfInfo.role);
    }
    get isOwner() {
        return this.groupProfile.selfInfo.role === TIM.TYPES.GRP_MBR_ROLE_OWNER;
    }
    get isAdmin() {
        return this.groupProfile.selfInfo.role === TIM.TYPES.GRP_MBR_ROLE_ADMIN;
    }
    get showDissmissGroup() {
        // 好友工作群不能解散
        return this.isOwner && this.groupProfile.type !== TIM.TYPES.GRP_WORK;
    }
    inputFocus(el) {
        setTimeout(() => {
            el.focus();
        }, 0);
    }
    editFaceUrl() {
        this.timHelper.tim
            .updateGroupProfile({
            groupID: this.groupProfile.groupID,
            avatar: this.avatar.trim()
        })
            .then(() => {
            this.showEditFaceUrl = false;
        })
            .catch(error => {
            this.store.dispatch(showAction({ msgType: MESSAGE_STATUS.error, message: error.message }));
        });
    }
    editName() {
        this.timHelper.tim
            .updateGroupProfile({
            groupID: this.groupProfile.groupID,
            name: this.name.trim()
        })
            .then(() => {
            this.showEditName = false;
        })
            .catch(error => {
            this.store.dispatch(showAction({ msgType: MESSAGE_STATUS.error, message: error.message }));
        });
    }
    editIntroduction() {
        this.timHelper.tim
            .updateGroupProfile({
            groupID: this.groupProfile.groupID,
            introduction: this.introduction.trim()
        })
            .then(() => {
            this.showEditIntroduction = false;
        })
            .catch(error => {
            this.store.dispatch(showAction({ msgType: MESSAGE_STATUS.error, message: error.message }));
        });
    }
    editNotification() {
        this.timHelper.tim
            .updateGroupProfile({
            groupID: this.groupProfile.groupID,
            notification: this.notification.trim()
        })
            .then(() => {
            this.showEditNotification = false;
        })
            .catch(error => {
            this.store.dispatch(showAction({ msgType: MESSAGE_STATUS.error, message: error.message }));
        });
    }
    editJoinOption() {
        this.timHelper.tim
            .updateGroupProfile({
            groupID: this.groupProfile.groupID,
            joinOption: this.joinOption
        })
            .then(() => {
            this.showEditJoinOption = false;
        })
            .catch(error => {
            this.store.dispatch(showAction({ msgType: MESSAGE_STATUS.error, message: error.message }));
        });
    }
    editMessageRemindType() {
        this.timHelper.tim
            .setMessageRemindType({
            groupID: this.groupProfile.groupID,
            messageRemindType: this.messageRemindType
        })
            .then(() => {
            this.showEditMessageRemindType = false;
        })
            .catch(error => {
            this.store.dispatch(showAction({ msgType: MESSAGE_STATUS.error, message: error.message }));
        });
    }
    editNameCard() {
        if (this.nameCard.trim().length === 0) {
            this.store.dispatch(showAction({ msgType: MESSAGE_STATUS.warning, message: '不能设置空的群名片' }));
            return;
        }
        this.timHelper.tim
            .setGroupMemberNameCard({
            groupID: this.groupProfile.groupID,
            nameCard: this.nameCard.trim()
        })
            .then(() => {
            this.showEditNameCard = false;
        })
            .catch(error => {
            this.store.dispatch(showAction({ msgType: MESSAGE_STATUS.error, message: error.message }));
        });
    }
    changeOwner() {
        this.timHelper.tim
            .changeGroupOwner({
            groupID: this.groupProfile.groupID,
            newOwnerID: this.newOwnerUserID,
        })
            .then(() => {
            this.showChangeGroupOwner = false;
            this.store.dispatch(showAction({
                msgType: MESSAGE_STATUS.success,
                message: `转让群主成功，新群主ID：${this.newOwnerUserID}`,
            }));
            this.newOwnerUserID = '';
        })
            .catch((error) => {
            showAction({
                msgType: MESSAGE_STATUS.error,
                message: error.message,
            });
        });
    }
    quitGroup() {
        this.timHelper.tim
            .quitGroup(this.groupProfile.groupID)
            .then(({ data: { groupID } }) => {
            this.store.dispatch(showAction({
                msgType: MESSAGE_STATUS.success,
                message: `退群成功`,
            }));
            if (groupID === this.groupProfile.groupID) {
                this.store.dispatch(resetCurrentConversationAction());
            }
        })
            .catch((error) => {
            showAction({
                msgType: MESSAGE_STATUS.error,
                message: error.message,
            });
        });
    }
    dismissGroup() {
        this.timHelper.tim
            .dismissGroup(this.groupProfile.groupID)
            .then(({ data: { groupID } }) => {
            this.store.dispatch(showAction({
                msgType: MESSAGE_STATUS.success,
                message: `群：${this.groupProfile.name || this.groupProfile.groupID}解散成功！`,
            }));
            if (groupID === this.groupProfile.groupID) {
                this.store.dispatch(resetCurrentConversationAction());
            }
        })
            .catch((error) => {
            showAction({
                msgType: MESSAGE_STATUS.error,
                message: error.message,
            });
        });
    }
    changeMuteStatus() {
        if (this.isOwner || this.isAdmin) {
            this.timHelper.tim
                .updateGroupProfile({
                muteAllMembers: this.muteAllMembers,
                groupID: this.groupProfile.groupID,
            })
                .then((imResponse) => {
                this.muteAllMembers = imResponse.data.group.muteAllMembers;
                if (this.muteAllMembers) {
                    this.active = true;
                    this.store.dispatch(showAction({
                        msgType: MESSAGE_STATUS.success,
                        message: `全体禁言`,
                    }));
                }
                else {
                    this.active = false;
                    this.store.dispatch(showAction({
                        msgType: MESSAGE_STATUS.success,
                        message: `取消全体禁言`,
                    }));
                }
            })
                .catch((error) => {
                this.store.dispatch(showAction({
                    msgType: MESSAGE_STATUS.error,
                    message: error.message,
                }));
            });
        }
        else {
            setTimeout(() => {
                this.muteAllMembers = this.groupProfile.muteAllMembers;
            }, 0);
            this.store.dispatch(showAction({
                msgType: MESSAGE_STATUS.error,
                message: '普通群成员不能对全体禁言',
            }));
        }
    }
}
GroupProfileComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.8", ngImport: i0, type: GroupProfileComponent, deps: [{ token: i1.TimHelperService }, { token: i2.Store }], target: i0.ɵɵFactoryTarget.Component });
GroupProfileComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.8", type: GroupProfileComponent, selector: "app-group-profile", inputs: { currentConversation: "currentConversation" }, ngImport: i0, template: "<div>\r\n  <app-group-member-list [currentConversation]=\"currentConversation\"></app-group-member-list>\r\n\r\n  <div class=\"group-info-content\">\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">\u7FA4ID</div>\r\n      <div class=\"content\">{{ groupProfile.groupID }}</div>\r\n    </div>\r\n\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">\r\n        \u7FA4\u5934\u50CF\r\n        <i nz-icon nzType=\"edit\" nzTheme=\"outline\" *ngIf=\"editable\"\r\n          (click)=\"showEditFaceUrl = true;inputFocus(groupAvatar);$event.stopPropagation()\"\r\n          class=\"edit\"></i>\r\n      </div>\r\n      <div class=\"content\" *ngIf=\"!showEditFaceUrl\">\r\n        <im-avatar [src]=\"groupProfile.avatar\"></im-avatar>\r\n      </div>\r\n      <input #groupAvatar [hidden]=\"!showEditFaceUrl\" nz-input [(ngModel)]=\"avatar\"\r\n        placeholder=\"\u56DE\u8F66\u786E\u8BA4\" (keydown.enter)=\"editFaceUrl()\" (blur)=\"showEditFaceUrl = false\">\r\n    </div>\r\n\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">\u7FA4\u7C7B\u578B</div>\r\n      <div class=\"content\">{{ groupType}}</div>\r\n    </div>\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">\r\n        \u7FA4\u540D\u79F0\r\n        <i nz-icon nzType=\"edit\" nzTheme=\"outline\" *ngIf=\"editable\" (click)=\"\r\n          showEditName = true;inputFocus(groupName)\" class=\"edit\"></i>\r\n      </div>\r\n      <div class=\"content text-ellipsis\" [title]=\"groupProfile.name\" *ngIf=\"!showEditName\">\r\n        {{ groupProfile.name || '\u6682\u65E0' }}\r\n      </div>\r\n      <input #groupName [hidden]=\"!showEditName\" autofocus nz-input [(ngModel)]=\"name\"\r\n        placeholder=\"\u56DE\u8F66\u786E\u8BA4\" (keydown.enter)=\"editName()\" (blur)=\"showEditName = false\">\r\n    </div>\r\n\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">\r\n        \u7FA4\u4ECB\u7ECD\r\n        <i nz-icon nzType=\"edit\" nzTheme=\"outline\" *ngIf=\"editable\" (click)=\"\r\n          showEditIntroduction = true;inputFocus(groupIntroduction)\" class=\"edit\"></i>\r\n      </div>\r\n      <div class=\"long-content\" [title]=\"groupProfile.introduction\" *ngIf=\"!showEditIntroduction\">\r\n        {{ groupProfile.introduction || '\u6682\u65E0' }}\r\n      </div>\r\n      <input #groupIntroduction [hidden]=\"!showEditIntroduction\" autofocus nz-input\r\n        [(ngModel)]=\"introduction\" placeholder=\"\u56DE\u8F66\u786E\u8BA4\" (keydown.enter)=\"editIntroduction()\"\r\n        (blur)=\"showEditIntroduction = false\">\r\n    </div>\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">\r\n        \u7FA4\u516C\u544A\r\n        <i nz-icon nzType=\"edit\" nzTheme=\"outline\" *ngIf=\"editable\" (click)=\"\r\n          showEditNotification = true;inputFocus(groupNotification)\r\n        \" class=\"edit\"></i>\r\n      </div>\r\n      <div class=\"long-content\" [title]=\"groupProfile.notification\" *ngIf=\"!showEditNotification\">\r\n        {{ groupProfile.notification || '\u6682\u65E0' }}\r\n      </div>\r\n\r\n      <input #groupNotification [hidden]=\"!showEditNotification\" autofocus nz-input\r\n        [(ngModel)]=\"notification\" placeholder=\"\u56DE\u8F66\u786E\u8BA4\" (keydown.enter)=\"editNotification()\"\r\n        (blur)=\"showEditNotification = false\">\r\n    </div>\r\n    <div class=\"info-item\" *ngIf=\"groupProfile.type !== 'Private'\">\r\n      <div class=\"label\">\r\n        \u7533\u8BF7\u52A0\u7FA4\u65B9\u5F0F\r\n        <i nz-icon nzType=\"edit\" *ngIf=\"editable\" (click)=\"\r\n          showEditJoinOption = true;\r\n        \" class=\"edit\"></i>\r\n      </div>\r\n      <div class=\"content\" *ngIf=\"!showEditJoinOption\">{{ joinOptionMap[groupProfile.joinOption] }}\r\n      </div>\r\n      <nz-select [ngStyle]=\"{'width': '100%'}\" [(ngModel)]=\"joinOption\"\r\n        (ngModelChange)=\"editJoinOption()\" (blur)=\"showEditJoinOption = false\"\r\n        [hidden]=\"!showEditJoinOption\">\r\n        <nz-option nzValue=\"FreeAccess\" nzLabel=\"\u81EA\u7531\u52A0\u5165\"></nz-option>\r\n        <nz-option nzValue=\"NeedPermission\" nzLabel=\"\u9700\u8981\u9A8C\u8BC1\"></nz-option>\r\n        <nz-option nzValue=\"DisableApply\" nzLabel=\"\u7981\u6B62\u52A0\u7FA4\"></nz-option>\r\n      </nz-select>\r\n    </div>\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">\r\n        \u7FA4\u6D88\u606F\u63D0\u793A\u7C7B\u578B\r\n        <i nz-icon nzType=\"edit\" *ngIf=\"editable\" (click)=\"\r\n          showEditMessageRemindType = true;\r\n        \" class=\"edit\"></i>\r\n      </div>\r\n      <div class=\"content\" *ngIf=\"!showEditMessageRemindType\">\r\n        {{ messageRemindTypeMap[this.groupProfile.selfInfo.messageRemindType] }}\r\n      </div>\r\n\r\n      <nz-select [ngStyle]=\"{'width': '100%'}\" [(ngModel)]=\"messageRemindType\"\r\n        (ngModelChange)=\"editMessageRemindType()\" (blur)=\"showEditMessageRemindType = false\"\r\n        [hidden]=\"!showEditMessageRemindType\">\r\n        <nz-option nzValue=\"AcceptAndNotify\" nzLabel=\"\u63A5\u6536\u6D88\u606F\u5E76\u63D0\u793A\"></nz-option>\r\n        <nz-option nzValue=\"AcceptNotNotify\" nzLabel=\"\u63A5\u6536\u6D88\u606F\u4F46\u4E0D\u63D0\u793A\"></nz-option>\r\n        <nz-option nzValue=\"Discard\" nzLabel=\"\u5C4F\u853D\u6D88\u606F\"></nz-option>\r\n      </nz-select>\r\n    </div>\r\n\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">\r\n        \u6211\u7684\u7FA4\u540D\u7247\r\n        <i nz-icon nzType=\"edit\" (click)=\"showEditNameCard = true;inputFocus(groupNameCard)\"\r\n          class=\"edit\"></i>\r\n      </div>\r\n      <div class=\"content cursor-pointer\" *ngIf=\"!showEditNameCard\">\r\n        {{ groupProfile.selfInfo.nameCard || '\u6682\u65E0' }}\r\n      </div>\r\n\r\n      <input #groupNameCard [hidden]=\"!showEditNameCard\" autofocus nz-input [(ngModel)]=\"nameCard\"\r\n        placeholder=\"\u56DE\u8F66\u786E\u8BA4\" (keydown.enter)=\"editNameCard()\" (blur)=\"showEditNameCard = false\">\r\n    </div>\r\n\r\n    <div class=\"info-item\">\r\n      <div class=\"label\" [ngClass]=\"{'active' : active}\">\u5168\u4F53\u7981\u8A00</div>\r\n      <nz-switch [(ngModel)]=\"muteAllMembers\" (ngModelChange)=\"changeMuteStatus()\">\r\n      </nz-switch>\r\n    </div>\r\n    <div *ngIf=\"isOwner\">\r\n      <a type=\"text\" (click)=\"showChangeGroupOwner = true\">\u8F6C\u8BA9\u7FA4\u7EC4</a>\r\n      <input [hidden]=\"!showChangeGroupOwner\" autofocus nz-input [(ngModel)]=\"newOwnerUserID\"\r\n        placeholder=\"\u65B0\u7FA4\u4E3B\u7684userID\" (keydown.enter)=\"changeOwner()\"\r\n        (blur)=\"showChangeGroupOwner = false\">\r\n    </div>\r\n    <div>\r\n      <a [ngStyle]=\"{'color': 'red'}\" (click)=\"quitGroup()\">\u9000\u51FA\u7FA4\u7EC4</a>\r\n    </div>\r\n    <div *ngIf=\"showDissmissGroup\">\r\n      <a type=\"text\" [ngStyle]=\"{'color': 'red'}\" (click)=\"dismissGroup()\">\u89E3\u6563\u7FA4\u7EC4</a>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".group-info-content{padding:10px}.group-info-content im-avatar ::ng-deep .avatar{width:40px;height:40px;border-radius:50%}.edit{cursor:pointer;font-size:16px}.info-item{margin-bottom:12px}.info-item .label{font-size:14px;color:#a5b5c1}.info-item .active{color:#000}.info-item .content{color:#404953;word-wrap:break-word;word-break:break-all}.info-item .long-content{word-wrap:break-word;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3}.cursor-pointer{cursor:pointer}::-webkit-scrollbar{width:0px;height:0px}\n"], components: [{ type: i3.GroupMemberListComponent, selector: "app-group-member-list", inputs: ["currentConversation"] }, { type: i4.AvatarComponent, selector: "im-avatar", inputs: ["shape", "size", "type", "title", "src"] }, { type: i5.NzSelectComponent, selector: "nz-select", inputs: ["nzId", "nzSize", "nzOptionHeightPx", "nzOptionOverflowSize", "nzDropdownClassName", "nzDropdownMatchSelectWidth", "nzDropdownStyle", "nzNotFoundContent", "nzPlaceHolder", "nzMaxTagCount", "nzDropdownRender", "nzCustomTemplate", "nzSuffixIcon", "nzClearIcon", "nzRemoveIcon", "nzMenuItemSelectedIcon", "nzTokenSeparators", "nzMaxTagPlaceholder", "nzMaxMultipleCount", "nzMode", "nzFilterOption", "compareWith", "nzAllowClear", "nzBorderless", "nzShowSearch", "nzLoading", "nzAutoFocus", "nzAutoClearSearchValue", "nzServerSearch", "nzDisabled", "nzOpen", "nzBackdrop", "nzOptions", "nzShowArrow"], outputs: ["nzOnSearch", "nzScrollToBottom", "nzOpenChange", "nzBlur", "nzFocus"], exportAs: ["nzSelect"] }, { type: i5.NzOptionComponent, selector: "nz-option", inputs: ["nzLabel", "nzValue", "nzDisabled", "nzHide", "nzCustomContent"], exportAs: ["nzOption"] }, { type: i6.NzSwitchComponent, selector: "nz-switch", inputs: ["nzLoading", "nzDisabled", "nzControl", "nzCheckedChildren", "nzUnCheckedChildren", "nzSize"], exportAs: ["nzSwitch"] }], directives: [{ type: i7.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i8.ɵNzTransitionPatchDirective, selector: "[nz-button], nz-button-group, [nz-icon], [nz-menu-item], [nz-submenu], nz-select-top-control, nz-select-placeholder, nz-input-group", inputs: ["hidden"] }, { type: i9.NzIconDirective, selector: "[nz-icon]", inputs: ["nzSpin", "nzRotate", "nzType", "nzTheme", "nzTwotoneColor", "nzIconfont"], exportAs: ["nzIcon"] }, { type: i10.NzInputDirective, selector: "input[nz-input],textarea[nz-input]", inputs: ["nzBorderless", "nzSize", "disabled"], exportAs: ["nzInput"] }, { type: i11.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i11.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i11.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { type: i7.NgStyle, selector: "[ngStyle]", inputs: ["ngStyle"] }, { type: i7.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.8", ngImport: i0, type: GroupProfileComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-group-profile', template: "<div>\r\n  <app-group-member-list [currentConversation]=\"currentConversation\"></app-group-member-list>\r\n\r\n  <div class=\"group-info-content\">\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">\u7FA4ID</div>\r\n      <div class=\"content\">{{ groupProfile.groupID }}</div>\r\n    </div>\r\n\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">\r\n        \u7FA4\u5934\u50CF\r\n        <i nz-icon nzType=\"edit\" nzTheme=\"outline\" *ngIf=\"editable\"\r\n          (click)=\"showEditFaceUrl = true;inputFocus(groupAvatar);$event.stopPropagation()\"\r\n          class=\"edit\"></i>\r\n      </div>\r\n      <div class=\"content\" *ngIf=\"!showEditFaceUrl\">\r\n        <im-avatar [src]=\"groupProfile.avatar\"></im-avatar>\r\n      </div>\r\n      <input #groupAvatar [hidden]=\"!showEditFaceUrl\" nz-input [(ngModel)]=\"avatar\"\r\n        placeholder=\"\u56DE\u8F66\u786E\u8BA4\" (keydown.enter)=\"editFaceUrl()\" (blur)=\"showEditFaceUrl = false\">\r\n    </div>\r\n\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">\u7FA4\u7C7B\u578B</div>\r\n      <div class=\"content\">{{ groupType}}</div>\r\n    </div>\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">\r\n        \u7FA4\u540D\u79F0\r\n        <i nz-icon nzType=\"edit\" nzTheme=\"outline\" *ngIf=\"editable\" (click)=\"\r\n          showEditName = true;inputFocus(groupName)\" class=\"edit\"></i>\r\n      </div>\r\n      <div class=\"content text-ellipsis\" [title]=\"groupProfile.name\" *ngIf=\"!showEditName\">\r\n        {{ groupProfile.name || '\u6682\u65E0' }}\r\n      </div>\r\n      <input #groupName [hidden]=\"!showEditName\" autofocus nz-input [(ngModel)]=\"name\"\r\n        placeholder=\"\u56DE\u8F66\u786E\u8BA4\" (keydown.enter)=\"editName()\" (blur)=\"showEditName = false\">\r\n    </div>\r\n\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">\r\n        \u7FA4\u4ECB\u7ECD\r\n        <i nz-icon nzType=\"edit\" nzTheme=\"outline\" *ngIf=\"editable\" (click)=\"\r\n          showEditIntroduction = true;inputFocus(groupIntroduction)\" class=\"edit\"></i>\r\n      </div>\r\n      <div class=\"long-content\" [title]=\"groupProfile.introduction\" *ngIf=\"!showEditIntroduction\">\r\n        {{ groupProfile.introduction || '\u6682\u65E0' }}\r\n      </div>\r\n      <input #groupIntroduction [hidden]=\"!showEditIntroduction\" autofocus nz-input\r\n        [(ngModel)]=\"introduction\" placeholder=\"\u56DE\u8F66\u786E\u8BA4\" (keydown.enter)=\"editIntroduction()\"\r\n        (blur)=\"showEditIntroduction = false\">\r\n    </div>\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">\r\n        \u7FA4\u516C\u544A\r\n        <i nz-icon nzType=\"edit\" nzTheme=\"outline\" *ngIf=\"editable\" (click)=\"\r\n          showEditNotification = true;inputFocus(groupNotification)\r\n        \" class=\"edit\"></i>\r\n      </div>\r\n      <div class=\"long-content\" [title]=\"groupProfile.notification\" *ngIf=\"!showEditNotification\">\r\n        {{ groupProfile.notification || '\u6682\u65E0' }}\r\n      </div>\r\n\r\n      <input #groupNotification [hidden]=\"!showEditNotification\" autofocus nz-input\r\n        [(ngModel)]=\"notification\" placeholder=\"\u56DE\u8F66\u786E\u8BA4\" (keydown.enter)=\"editNotification()\"\r\n        (blur)=\"showEditNotification = false\">\r\n    </div>\r\n    <div class=\"info-item\" *ngIf=\"groupProfile.type !== 'Private'\">\r\n      <div class=\"label\">\r\n        \u7533\u8BF7\u52A0\u7FA4\u65B9\u5F0F\r\n        <i nz-icon nzType=\"edit\" *ngIf=\"editable\" (click)=\"\r\n          showEditJoinOption = true;\r\n        \" class=\"edit\"></i>\r\n      </div>\r\n      <div class=\"content\" *ngIf=\"!showEditJoinOption\">{{ joinOptionMap[groupProfile.joinOption] }}\r\n      </div>\r\n      <nz-select [ngStyle]=\"{'width': '100%'}\" [(ngModel)]=\"joinOption\"\r\n        (ngModelChange)=\"editJoinOption()\" (blur)=\"showEditJoinOption = false\"\r\n        [hidden]=\"!showEditJoinOption\">\r\n        <nz-option nzValue=\"FreeAccess\" nzLabel=\"\u81EA\u7531\u52A0\u5165\"></nz-option>\r\n        <nz-option nzValue=\"NeedPermission\" nzLabel=\"\u9700\u8981\u9A8C\u8BC1\"></nz-option>\r\n        <nz-option nzValue=\"DisableApply\" nzLabel=\"\u7981\u6B62\u52A0\u7FA4\"></nz-option>\r\n      </nz-select>\r\n    </div>\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">\r\n        \u7FA4\u6D88\u606F\u63D0\u793A\u7C7B\u578B\r\n        <i nz-icon nzType=\"edit\" *ngIf=\"editable\" (click)=\"\r\n          showEditMessageRemindType = true;\r\n        \" class=\"edit\"></i>\r\n      </div>\r\n      <div class=\"content\" *ngIf=\"!showEditMessageRemindType\">\r\n        {{ messageRemindTypeMap[this.groupProfile.selfInfo.messageRemindType] }}\r\n      </div>\r\n\r\n      <nz-select [ngStyle]=\"{'width': '100%'}\" [(ngModel)]=\"messageRemindType\"\r\n        (ngModelChange)=\"editMessageRemindType()\" (blur)=\"showEditMessageRemindType = false\"\r\n        [hidden]=\"!showEditMessageRemindType\">\r\n        <nz-option nzValue=\"AcceptAndNotify\" nzLabel=\"\u63A5\u6536\u6D88\u606F\u5E76\u63D0\u793A\"></nz-option>\r\n        <nz-option nzValue=\"AcceptNotNotify\" nzLabel=\"\u63A5\u6536\u6D88\u606F\u4F46\u4E0D\u63D0\u793A\"></nz-option>\r\n        <nz-option nzValue=\"Discard\" nzLabel=\"\u5C4F\u853D\u6D88\u606F\"></nz-option>\r\n      </nz-select>\r\n    </div>\r\n\r\n    <div class=\"info-item\">\r\n      <div class=\"label\">\r\n        \u6211\u7684\u7FA4\u540D\u7247\r\n        <i nz-icon nzType=\"edit\" (click)=\"showEditNameCard = true;inputFocus(groupNameCard)\"\r\n          class=\"edit\"></i>\r\n      </div>\r\n      <div class=\"content cursor-pointer\" *ngIf=\"!showEditNameCard\">\r\n        {{ groupProfile.selfInfo.nameCard || '\u6682\u65E0' }}\r\n      </div>\r\n\r\n      <input #groupNameCard [hidden]=\"!showEditNameCard\" autofocus nz-input [(ngModel)]=\"nameCard\"\r\n        placeholder=\"\u56DE\u8F66\u786E\u8BA4\" (keydown.enter)=\"editNameCard()\" (blur)=\"showEditNameCard = false\">\r\n    </div>\r\n\r\n    <div class=\"info-item\">\r\n      <div class=\"label\" [ngClass]=\"{'active' : active}\">\u5168\u4F53\u7981\u8A00</div>\r\n      <nz-switch [(ngModel)]=\"muteAllMembers\" (ngModelChange)=\"changeMuteStatus()\">\r\n      </nz-switch>\r\n    </div>\r\n    <div *ngIf=\"isOwner\">\r\n      <a type=\"text\" (click)=\"showChangeGroupOwner = true\">\u8F6C\u8BA9\u7FA4\u7EC4</a>\r\n      <input [hidden]=\"!showChangeGroupOwner\" autofocus nz-input [(ngModel)]=\"newOwnerUserID\"\r\n        placeholder=\"\u65B0\u7FA4\u4E3B\u7684userID\" (keydown.enter)=\"changeOwner()\"\r\n        (blur)=\"showChangeGroupOwner = false\">\r\n    </div>\r\n    <div>\r\n      <a [ngStyle]=\"{'color': 'red'}\" (click)=\"quitGroup()\">\u9000\u51FA\u7FA4\u7EC4</a>\r\n    </div>\r\n    <div *ngIf=\"showDissmissGroup\">\r\n      <a type=\"text\" [ngStyle]=\"{'color': 'red'}\" (click)=\"dismissGroup()\">\u89E3\u6563\u7FA4\u7EC4</a>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".group-info-content{padding:10px}.group-info-content im-avatar ::ng-deep .avatar{width:40px;height:40px;border-radius:50%}.edit{cursor:pointer;font-size:16px}.info-item{margin-bottom:12px}.info-item .label{font-size:14px;color:#a5b5c1}.info-item .active{color:#000}.info-item .content{color:#404953;word-wrap:break-word;word-break:break-all}.info-item .long-content{word-wrap:break-word;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3}.cursor-pointer{cursor:pointer}::-webkit-scrollbar{width:0px;height:0px}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.TimHelperService }, { type: i2.Store }]; }, propDecorators: { currentConversation: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JvdXAtcHJvZmlsZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtdGVuY2VudC1pbS9zcmMvY29udmVyc2F0aW9uL2NvbnZlcnNhdGlvbi1wcm9maWxlL2NvbnZlcnNhdGlvbi1wcm9maWxlL2dyb3VwLXByb2ZpbGUvZ3JvdXAtcHJvZmlsZS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtdGVuY2VudC1pbS9zcmMvY29udmVyc2F0aW9uL2NvbnZlcnNhdGlvbi1wcm9maWxlL2NvbnZlcnNhdGlvbi1wcm9maWxlL2dyb3VwLXByb2ZpbGUvZ3JvdXAtcHJvZmlsZS5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUl6RCxPQUFPLEVBQUUsY0FBYyxFQUFFLEdBQUcsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzlELE9BQU8sRUFBRSw4QkFBOEIsRUFBRSxVQUFVLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQzs7Ozs7Ozs7Ozs7OztBQVF2RixNQUFNLE9BQU8scUJBQXFCO0lBbUNoQyxZQUNVLFNBQTJCLEVBQzNCLEtBQVk7UUFEWixjQUFTLEdBQVQsU0FBUyxDQUFrQjtRQUMzQixVQUFLLEdBQUwsS0FBSyxDQUFPO1FBakN0QixvQkFBZSxHQUFHLEtBQUssQ0FBQztRQUN4QixpQkFBWSxHQUFHLEtBQUssQ0FBQztRQUNyQix5QkFBb0IsR0FBRyxLQUFLLENBQUM7UUFDN0IseUJBQW9CLEdBQUcsS0FBSyxDQUFDO1FBQzdCLHVCQUFrQixHQUFHLEtBQUssQ0FBQztRQUMzQiw4QkFBeUIsR0FBRyxLQUFLLENBQUM7UUFDbEMscUJBQWdCLEdBQUcsS0FBSyxDQUFDO1FBQ3pCLHlCQUFvQixHQUFHLEtBQUssQ0FBQztRQUM3Qixt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QUFLLENBQUMsUUFBUSxDQUNqQixVQUFVLENBQUM7b0JBQ1QsT0FBTyxFQUFFLGNBQWMsQ0FBQyxLQUFLO29CQUM3QixPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU87aUJBQ3ZCLENBQUMsQ0FBQyxDQUFDO1lBQ1IsQ0FBQyxDQUFDLENBQUM7U0FDTjthQUFNO1lBQ0wsVUFBVSxDQUFDLEdBQUcsRUFBRTtnQkFDZCxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsY0FBYyxDQUFDO1lBQ3pELENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNOLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUNqQixVQUFVLENBQUM7Z0JBQ1QsT0FBTyxFQUFFLGNBQWMsQ0FBQyxLQUFLO2dCQUM3QixPQUFPLEVBQUUsY0FBYzthQUN4QixDQUFDLENBQUMsQ0FBQztTQUNQO0lBQ0gsQ0FBQzs7a0hBelRVLHFCQUFxQjtzR0FBckIscUJBQXFCLGlIQ2JsQyxpMk5BMElBOzJGRDdIYSxxQkFBcUI7a0JBTGpDLFNBQVM7K0JBQ0UsbUJBQW1COzJIQUtwQixtQkFBbUI7c0JBQTNCLEtBQUsiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgU3RvcmUgfSBmcm9tICdAbmdyeC9zdG9yZSc7XHJcblxyXG5pbXBvcnQgeyBDb252ZXJzYXRpb24sIEdyb3VwLCBQcm9maWxlIH0gZnJvbSAndGltLWpzLXNkayc7XHJcbmltcG9ydCB7IE1FU1NBR0VfU1RBVFVTLCBUSU0gfSBmcm9tICcuLi8uLi8uLi8uLi9zaGFyZWQuZGF0YSc7XHJcbmltcG9ydCB7IHJlc2V0Q3VycmVudENvbnZlcnNhdGlvbkFjdGlvbiwgc2hvd0FjdGlvbiB9IGZyb20gJy4uLy4uLy4uLy4uL3N0b3JlL2FjdGlvbnMnO1xyXG5pbXBvcnQgeyBUaW1IZWxwZXJTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vdGltLWhlbHBlci5zZXJ2aWNlJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnYXBwLWdyb3VwLXByb2ZpbGUnLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9ncm91cC1wcm9maWxlLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9ncm91cC1wcm9maWxlLmNvbXBvbmVudC5sZXNzJ11cclxufSlcclxuZXhwb3J0IGNsYXNzIEdyb3VwUHJvZmlsZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcbiAgQElucHV0KCkgY3VycmVudENvbnZlcnNhdGlvbjogQ29udmVyc2F0aW9uO1xyXG4gIGdyb3VwUHJvZmlsZTogR3JvdXA7XHJcblxyXG4gIHNob3dFZGl0RmFjZVVybCA9IGZhbHNlO1xyXG4gIHNob3dFZGl0TmFtZSA9IGZhbHNlO1xyXG4gIHNob3dFZGl0SW50cm9kdWN0aW9uID0gZmFsc2U7XHJcbiAgc2hvd0VkaXROb3RpZmljYXRpb24gPSBmYWxzZTtcclxuICBzaG93RWRpdEpvaW5PcHRpb24gPSBmYWxzZTtcclxuICBzaG93RWRpdE1lc3NhZ2VSZW1pbmRUeXBlID0gZmFsc2U7XHJcbiAgc2hvd0VkaXROYW1lQ2FyZCA9IGZhbHNlO1xyXG4gIHNob3dDaGFuZ2VHcm91cE93bmVyID0gZmFsc2U7XHJcbiAgbmV3T3duZXJVc2VySUQgPSAnJztcclxuICBncm91cFR5cGU6IHN0cmluZztcclxuICBtdXRlQWxsTWVtYmVyczogYm9vbGVhbjtcclxuICBtZXNzYWdlUmVtaW5kVHlwZU1hcCA9IHtcclxuICAgIEFjY2VwdEFuZE5vdGlmeTogJ+aOpeaUtua2iOaBr+W5tuaPkOekuicsXHJcbiAgICBBY2NlcHROb3ROb3RpZnk6ICfmjqXmlLbmtojmga/kvYbkuI3mj5DnpLonLFxyXG4gICAgRGlzY2FyZDogJ+Wxj+iUvea2iOaBrycsXHJcbiAgfTtcclxuICBqb2luT3B0aW9uTWFwID0ge1xyXG4gICAgRnJlZUFjY2VzczogJ+iHqueUseWKoOWFpScsXHJcbiAgICBOZWVkUGVybWlzc2lvbjogJ+mcgOimgemqjOivgScsXHJcbiAgICBEaXNhYmxlQXBwbHk6ICfnpoHmraLliqDnvqQnLFxyXG4gIH07XHJcbiAgYWN0aXZlID0gZmFsc2U7XHJcblxyXG4gIGF2YXRhcjogc3RyaW5nO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBpbnRyb2R1Y3Rpb246IHN0cmluZztcclxuICBub3RpZmljYXRpb246IHN0cmluZztcclxuICBqb2luT3B0aW9uOiBzdHJpbmc7XHJcbiAgbWVzc2FnZVJlbWluZFR5cGU6IHN0cmluZztcclxuICBuYW1lQ2FyZDogc3RyaW5nO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgdGltSGVscGVyOiBUaW1IZWxwZXJTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBzdG9yZTogU3RvcmUsXHJcbiAgKSB7IH1cclxuXHJcbiAgbmdPbkluaXQoKTogdm9pZCB7XHJcblxyXG4gICAgdGhpcy5ncm91cFByb2ZpbGUgPSB0aGlzLmN1cnJlbnRDb252ZXJzYXRpb24uZ3JvdXBQcm9maWxlO1xyXG5cclxuICAgIHN3aXRjaCAodGhpcy5ncm91cFByb2ZpbGUudHlwZSkge1xyXG4gICAgICBjYXNlIFRJTS5UWVBFUy5HUlBfV09SSzpcclxuICAgICAgICB0aGlzLmdyb3VwVHlwZSA9ICflpb3lj4vlt6XkvZznvqTvvIhXb3Jr77yJJztcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBUSU0uVFlQRVMuR1JQX1BVQkxJQzpcclxuICAgICAgICB0aGlzLmdyb3VwVHlwZSA9ICfpmYznlJ/kurrnpL7kuqTnvqTvvIhQdWJsaWPvvIknO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFRJTS5UWVBFUy5HUlBfQ0hBVFJPT006XHJcbiAgICAgICAgdGhpcy5ncm91cFR5cGUgPSAn5Li05pe25Lya6K6u576k77yITWVldGluZ++8iSc7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgVElNLlRZUEVTLkdSUF9BVkNIQVRST09NOlxyXG4gICAgICAgIHRoaXMuZ3JvdXBUeXBlID0gJ+ebtOaSree+pO+8iEFWQ2hhdFJvb23vvIknO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHRoaXMuZ3JvdXBUeXBlID0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5tdXRlQWxsTWVtYmVycyA9IHRoaXMuZ3JvdXBQcm9maWxlLm11dGVBbGxNZW1iZXJzO1xyXG5cclxuICAgIHRoaXMuam9pbk9wdGlvbiA9IHRoaXMuZ3JvdXBQcm9maWxlLmpvaW5PcHRpb247XHJcbiAgICB0aGlzLm1lc3NhZ2VSZW1pbmRUeXBlID0gdGhpcy5ncm91cFByb2ZpbGUuc2VsZkluZm8ubWVzc2FnZVJlbWluZFR5cGU7XHJcbiAgfVxyXG5cclxuICBnZXQgZWRpdGFibGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5ncm91cFByb2ZpbGUudHlwZSA9PT0gVElNLlRZUEVTLkdSUF9XT1JLIHx8IFtUSU0uVFlQRVMuR1JQX01CUl9ST0xFX09XTkVSLCBUSU0uVFlQRVMuR1JQX01CUl9ST0xFX0FETUlOXS5pbmNsdWRlcyh0aGlzLmdyb3VwUHJvZmlsZS5zZWxmSW5mby5yb2xlKTtcclxuICB9XHJcblxyXG4gIGdldCBpc093bmVyKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZ3JvdXBQcm9maWxlLnNlbGZJbmZvLnJvbGUgPT09IFRJTS5UWVBFUy5HUlBfTUJSX1JPTEVfT1dORVI7XHJcbiAgfVxyXG4gIGdldCBpc0FkbWluKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZ3JvdXBQcm9maWxlLnNlbGZJbmZvLnJvbGUgPT09IFRJTS5UWVBFUy5HUlBfTUJSX1JPTEVfQURNSU47XHJcbiAgfVxyXG4gIGdldCBzaG93RGlzc21pc3NHcm91cCgpIHtcclxuICAgIC8vIOWlveWPi+W3peS9nOe+pOS4jeiDveino+aVo1xyXG4gICAgcmV0dXJuIHRoaXMuaXNPd25lciAmJiB0aGlzLmdyb3VwUHJvZmlsZS50eXBlICE9PSBUSU0uVFlQRVMuR1JQX1dPUks7XHJcbiAgfVxyXG5cclxuICBpbnB1dEZvY3VzKGVsOiBIVE1MRWxlbWVudCkge1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGVsLmZvY3VzKCk7XHJcbiAgICB9LCAwKTtcclxuICB9XHJcblxyXG4gIGVkaXRGYWNlVXJsKCkge1xyXG4gICAgdGhpcy50aW1IZWxwZXIudGltXHJcbiAgICAgIC51cGRhdGVHcm91cFByb2ZpbGUoe1xyXG4gICAgICAgIGdyb3VwSUQ6IHRoaXMuZ3JvdXBQcm9maWxlLmdyb3VwSUQsXHJcbiAgICAgICAgYXZhdGFyOiB0aGlzLmF2YXRhci50cmltKClcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2hvd0VkaXRGYWNlVXJsID0gZmFsc2U7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChcclxuICAgICAgICAgIHNob3dBY3Rpb24oeyBtc2dUeXBlOiBNRVNTQUdFX1NUQVRVUy5lcnJvciwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcblxyXG4gIGVkaXROYW1lKCkge1xyXG4gICAgdGhpcy50aW1IZWxwZXIudGltXHJcbiAgICAgIC51cGRhdGVHcm91cFByb2ZpbGUoe1xyXG4gICAgICAgIGdyb3VwSUQ6IHRoaXMuZ3JvdXBQcm9maWxlLmdyb3VwSUQsXHJcbiAgICAgICAgbmFtZTogdGhpcy5uYW1lLnRyaW0oKVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zaG93RWRpdE5hbWUgPSBmYWxzZTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKFxyXG4gICAgICAgICAgc2hvd0FjdGlvbih7IG1zZ1R5cGU6IE1FU1NBR0VfU1RBVFVTLmVycm9yLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBlZGl0SW50cm9kdWN0aW9uKCkge1xyXG4gICAgdGhpcy50aW1IZWxwZXIudGltXHJcbiAgICAgIC51cGRhdGVHcm91cFByb2ZpbGUoe1xyXG4gICAgICAgIGdyb3VwSUQ6IHRoaXMuZ3JvdXBQcm9maWxlLmdyb3VwSUQsXHJcbiAgICAgICAgaW50cm9kdWN0aW9uOiB0aGlzLmludHJvZHVjdGlvbi50cmltKClcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2hvd0VkaXRJbnRyb2R1Y3Rpb24gPSBmYWxzZTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKFxyXG4gICAgICAgICAgc2hvd0FjdGlvbih7IG1zZ1R5cGU6IE1FU1NBR0VfU1RBVFVTLmVycm9yLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBlZGl0Tm90aWZpY2F0aW9uKCkge1xyXG4gICAgdGhpcy50aW1IZWxwZXIudGltXHJcbiAgICAgIC51cGRhdGVHcm91cFByb2ZpbGUoe1xyXG4gICAgICAgIGdyb3VwSUQ6IHRoaXMuZ3JvdXBQcm9maWxlLmdyb3VwSUQsXHJcbiAgICAgICAgbm90aWZpY2F0aW9uOiB0aGlzLm5vdGlmaWNhdGlvbi50cmltKClcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2hvd0VkaXROb3RpZmljYXRpb24gPSBmYWxzZTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKFxyXG4gICAgICAgICAgc2hvd0FjdGlvbih7IG1zZ1R5cGU6IE1FU1NBR0VfU1RBVFVTLmVycm9yLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBlZGl0Sm9pbk9wdGlvbigpIHtcclxuICAgIHRoaXMudGltSGVscGVyLnRpbVxyXG4gICAgICAudXBkYXRlR3JvdXBQcm9maWxlKHtcclxuICAgICAgICBncm91cElEOiB0aGlzLmdyb3VwUHJvZmlsZS5ncm91cElELFxyXG4gICAgICAgIGpvaW5PcHRpb246IHRoaXMuam9pbk9wdGlvblxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zaG93RWRpdEpvaW5PcHRpb24gPSBmYWxzZTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKFxyXG4gICAgICAgICAgc2hvd0FjdGlvbih7IG1zZ1R5cGU6IE1FU1NBR0VfU1RBVFVTLmVycm9yLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBlZGl0TWVzc2FnZVJlbWluZFR5cGUoKSB7XHJcbiAgICB0aGlzLnRpbUhlbHBlci50aW1cclxuICAgICAgLnNldE1lc3NhZ2VSZW1pbmRUeXBlKHtcclxuICAgICAgICBncm91cElEOiB0aGlzLmdyb3VwUHJvZmlsZS5ncm91cElELFxyXG4gICAgICAgIG1lc3NhZ2VSZW1pbmRUeXBlOiB0aGlzLm1lc3NhZ2VSZW1pbmRUeXBlXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICB0aGlzLnNob3dFZGl0TWVzc2FnZVJlbWluZFR5cGUgPSBmYWxzZTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKFxyXG4gICAgICAgICAgc2hvd0FjdGlvbih7IG1zZ1R5cGU6IE1FU1NBR0VfU1RBVFVTLmVycm9yLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBlZGl0TmFtZUNhcmQoKSB7XHJcbiAgICBpZiAodGhpcy5uYW1lQ2FyZC50cmltKCkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goXHJcbiAgICAgICAgc2hvd0FjdGlvbih7IG1zZ1R5cGU6IE1FU1NBR0VfU1RBVFVTLndhcm5pbmcsIG1lc3NhZ2U6ICfkuI3og73orr7nva7nqbrnmoTnvqTlkI3niYcnIH0pXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMudGltSGVscGVyLnRpbVxyXG4gICAgICAuc2V0R3JvdXBNZW1iZXJOYW1lQ2FyZCh7XHJcbiAgICAgICAgZ3JvdXBJRDogdGhpcy5ncm91cFByb2ZpbGUuZ3JvdXBJRCxcclxuICAgICAgICBuYW1lQ2FyZDogdGhpcy5uYW1lQ2FyZC50cmltKClcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2hvd0VkaXROYW1lQ2FyZCA9IGZhbHNlO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goXHJcbiAgICAgICAgICBzaG93QWN0aW9uKHsgbXNnVHlwZTogTUVTU0FHRV9TVEFUVVMuZXJyb3IsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfSlcclxuICAgICAgICApO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGNoYW5nZU93bmVyKCkge1xyXG4gICAgdGhpcy50aW1IZWxwZXIudGltXHJcbiAgICAgIC5jaGFuZ2VHcm91cE93bmVyKHtcclxuICAgICAgICBncm91cElEOiB0aGlzLmdyb3VwUHJvZmlsZS5ncm91cElELFxyXG4gICAgICAgIG5ld093bmVySUQ6IHRoaXMubmV3T3duZXJVc2VySUQsXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICB0aGlzLnNob3dDaGFuZ2VHcm91cE93bmVyID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChcclxuICAgICAgICAgIHNob3dBY3Rpb24oe1xyXG4gICAgICAgICAgICBtc2dUeXBlOiBNRVNTQUdFX1NUQVRVUy5zdWNjZXNzLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBg6L2s6K6p576k5Li75oiQ5Yqf77yM5paw576k5Li7SUTvvJoke3RoaXMubmV3T3duZXJVc2VySUR9YCxcclxuICAgICAgICAgIH0pKTtcclxuICAgICAgICB0aGlzLm5ld093bmVyVXNlcklEID0gJyc7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICBzaG93QWN0aW9uKHtcclxuICAgICAgICAgIG1zZ1R5cGU6IE1FU1NBR0VfU1RBVFVTLmVycm9yLFxyXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBxdWl0R3JvdXAoKSB7XHJcbiAgICB0aGlzLnRpbUhlbHBlci50aW1cclxuICAgICAgLnF1aXRHcm91cCh0aGlzLmdyb3VwUHJvZmlsZS5ncm91cElEKVxyXG4gICAgICAudGhlbigoeyBkYXRhOiB7IGdyb3VwSUQgfSB9KSA9PiB7XHJcbiAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChcclxuICAgICAgICAgIHNob3dBY3Rpb24oe1xyXG4gICAgICAgICAgICBtc2dUeXBlOiBNRVNTQUdFX1NUQVRVUy5zdWNjZXNzLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBg6YCA576k5oiQ5YqfYCxcclxuICAgICAgICAgIH0pKTtcclxuICAgICAgICBpZiAoZ3JvdXBJRCA9PT0gdGhpcy5ncm91cFByb2ZpbGUuZ3JvdXBJRCkge1xyXG4gICAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChyZXNldEN1cnJlbnRDb252ZXJzYXRpb25BY3Rpb24oKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgc2hvd0FjdGlvbih7XHJcbiAgICAgICAgICBtc2dUeXBlOiBNRVNTQUdFX1NUQVRVUy5lcnJvcixcclxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGlzbWlzc0dyb3VwKCkge1xyXG4gICAgdGhpcy50aW1IZWxwZXIudGltXHJcbiAgICAgIC5kaXNtaXNzR3JvdXAodGhpcy5ncm91cFByb2ZpbGUuZ3JvdXBJRClcclxuICAgICAgLnRoZW4oKHsgZGF0YTogeyBncm91cElEIH0gfSkgPT4ge1xyXG4gICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goXHJcbiAgICAgICAgICBzaG93QWN0aW9uKHtcclxuICAgICAgICAgICAgbXNnVHlwZTogTUVTU0FHRV9TVEFUVVMuc3VjY2VzcyxcclxuICAgICAgICAgICAgbWVzc2FnZTogYOe+pO+8miR7dGhpcy5ncm91cFByb2ZpbGUubmFtZSB8fCB0aGlzLmdyb3VwUHJvZmlsZS5ncm91cElEfeino+aVo+aIkOWKn++8gWAsXHJcbiAgICAgICAgICB9KSk7XHJcbiAgICAgICAgaWYgKGdyb3VwSUQgPT09IHRoaXMuZ3JvdXBQcm9maWxlLmdyb3VwSUQpIHtcclxuICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2gocmVzZXRDdXJyZW50Q29udmVyc2F0aW9uQWN0aW9uKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIHNob3dBY3Rpb24oe1xyXG4gICAgICAgICAgbXNnVHlwZTogTUVTU0FHRV9TVEFUVVMuZXJyb3IsXHJcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICB9XHJcbiAgY2hhbmdlTXV0ZVN0YXR1cygpIHtcclxuICAgIGlmICh0aGlzLmlzT3duZXIgfHwgdGhpcy5pc0FkbWluKSB7XHJcbiAgICAgIHRoaXMudGltSGVscGVyLnRpbVxyXG4gICAgICAgIC51cGRhdGVHcm91cFByb2ZpbGUoe1xyXG4gICAgICAgICAgbXV0ZUFsbE1lbWJlcnM6IHRoaXMubXV0ZUFsbE1lbWJlcnMsXHJcbiAgICAgICAgICBncm91cElEOiB0aGlzLmdyb3VwUHJvZmlsZS5ncm91cElELFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKGltUmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgIHRoaXMubXV0ZUFsbE1lbWJlcnMgPSBpbVJlc3BvbnNlLmRhdGEuZ3JvdXAubXV0ZUFsbE1lbWJlcnM7XHJcbiAgICAgICAgICBpZiAodGhpcy5tdXRlQWxsTWVtYmVycykge1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goXHJcbiAgICAgICAgICAgICAgc2hvd0FjdGlvbih7XHJcbiAgICAgICAgICAgICAgICBtc2dUeXBlOiBNRVNTQUdFX1NUQVRVUy5zdWNjZXNzLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYOWFqOS9k+emgeiogGAsXHJcbiAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChcclxuICAgICAgICAgICAgICBzaG93QWN0aW9uKHtcclxuICAgICAgICAgICAgICAgIG1zZ1R5cGU6IE1FU1NBR0VfU1RBVFVTLnN1Y2Nlc3MsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBg5Y+W5raI5YWo5L2T56aB6KiAYCxcclxuICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKFxyXG4gICAgICAgICAgICBzaG93QWN0aW9uKHtcclxuICAgICAgICAgICAgICBtc2dUeXBlOiBNRVNTQUdFX1NUQVRVUy5lcnJvcixcclxuICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICB0aGlzLm11dGVBbGxNZW1iZXJzID0gdGhpcy5ncm91cFByb2ZpbGUubXV0ZUFsbE1lbWJlcnM7XHJcbiAgICAgIH0sIDApO1xyXG4gICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKFxyXG4gICAgICAgIHNob3dBY3Rpb24oe1xyXG4gICAgICAgICAgbXNnVHlwZTogTUVTU0FHRV9TVEFUVVMuZXJyb3IsXHJcbiAgICAgICAgICBtZXNzYWdlOiAn5pmu6YCa576k5oiQ5ZGY5LiN6IO95a+55YWo5L2T56aB6KiAJyxcclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIjxkaXY+XHJcbiAgPGFwcC1ncm91cC1tZW1iZXItbGlzdCBbY3VycmVudENvbnZlcnNhdGlvbl09XCJjdXJyZW50Q29udmVyc2F0aW9uXCI+PC9hcHAtZ3JvdXAtbWVtYmVyLWxpc3Q+XHJcblxyXG4gIDxkaXYgY2xhc3M9XCJncm91cC1pbmZvLWNvbnRlbnRcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJpbmZvLWl0ZW1cIj5cclxuICAgICAgPGRpdiBjbGFzcz1cImxhYmVsXCI+576kSUQ8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj57eyBncm91cFByb2ZpbGUuZ3JvdXBJRCB9fTwvZGl2PlxyXG4gICAgPC9kaXY+XHJcblxyXG4gICAgPGRpdiBjbGFzcz1cImluZm8taXRlbVwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwibGFiZWxcIj5cclxuICAgICAgICDnvqTlpLTlg49cclxuICAgICAgICA8aSBuei1pY29uIG56VHlwZT1cImVkaXRcIiBuelRoZW1lPVwib3V0bGluZVwiICpuZ0lmPVwiZWRpdGFibGVcIlxyXG4gICAgICAgICAgKGNsaWNrKT1cInNob3dFZGl0RmFjZVVybCA9IHRydWU7aW5wdXRGb2N1cyhncm91cEF2YXRhcik7JGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcclxuICAgICAgICAgIGNsYXNzPVwiZWRpdFwiPjwvaT5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCIgKm5nSWY9XCIhc2hvd0VkaXRGYWNlVXJsXCI+XHJcbiAgICAgICAgPGltLWF2YXRhciBbc3JjXT1cImdyb3VwUHJvZmlsZS5hdmF0YXJcIj48L2ltLWF2YXRhcj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxpbnB1dCAjZ3JvdXBBdmF0YXIgW2hpZGRlbl09XCIhc2hvd0VkaXRGYWNlVXJsXCIgbnotaW5wdXQgWyhuZ01vZGVsKV09XCJhdmF0YXJcIlxyXG4gICAgICAgIHBsYWNlaG9sZGVyPVwi5Zue6L2m56Gu6K6kXCIgKGtleWRvd24uZW50ZXIpPVwiZWRpdEZhY2VVcmwoKVwiIChibHVyKT1cInNob3dFZGl0RmFjZVVybCA9IGZhbHNlXCI+XHJcbiAgICA8L2Rpdj5cclxuXHJcbiAgICA8ZGl2IGNsYXNzPVwiaW5mby1pdGVtXCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJsYWJlbFwiPue+pOexu+WeizwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPnt7IGdyb3VwVHlwZX19PC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJpbmZvLWl0ZW1cIj5cclxuICAgICAgPGRpdiBjbGFzcz1cImxhYmVsXCI+XHJcbiAgICAgICAg576k5ZCN56ewXHJcbiAgICAgICAgPGkgbnotaWNvbiBuelR5cGU9XCJlZGl0XCIgbnpUaGVtZT1cIm91dGxpbmVcIiAqbmdJZj1cImVkaXRhYmxlXCIgKGNsaWNrKT1cIlxyXG4gICAgICAgICAgc2hvd0VkaXROYW1lID0gdHJ1ZTtpbnB1dEZvY3VzKGdyb3VwTmFtZSlcIiBjbGFzcz1cImVkaXRcIj48L2k+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiY29udGVudCB0ZXh0LWVsbGlwc2lzXCIgW3RpdGxlXT1cImdyb3VwUHJvZmlsZS5uYW1lXCIgKm5nSWY9XCIhc2hvd0VkaXROYW1lXCI+XHJcbiAgICAgICAge3sgZ3JvdXBQcm9maWxlLm5hbWUgfHwgJ+aaguaXoCcgfX1cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxpbnB1dCAjZ3JvdXBOYW1lIFtoaWRkZW5dPVwiIXNob3dFZGl0TmFtZVwiIGF1dG9mb2N1cyBuei1pbnB1dCBbKG5nTW9kZWwpXT1cIm5hbWVcIlxyXG4gICAgICAgIHBsYWNlaG9sZGVyPVwi5Zue6L2m56Gu6K6kXCIgKGtleWRvd24uZW50ZXIpPVwiZWRpdE5hbWUoKVwiIChibHVyKT1cInNob3dFZGl0TmFtZSA9IGZhbHNlXCI+XHJcbiAgICA8L2Rpdj5cclxuXHJcbiAgICA8ZGl2IGNsYXNzPVwiaW5mby1pdGVtXCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJsYWJlbFwiPlxyXG4gICAgICAgIOe+pOS7i+e7jVxyXG4gICAgICAgIDxpIG56LWljb24gbnpUeXBlPVwiZWRpdFwiIG56VGhlbWU9XCJvdXRsaW5lXCIgKm5nSWY9XCJlZGl0YWJsZVwiIChjbGljayk9XCJcclxuICAgICAgICAgIHNob3dFZGl0SW50cm9kdWN0aW9uID0gdHJ1ZTtpbnB1dEZvY3VzKGdyb3VwSW50cm9kdWN0aW9uKVwiIGNsYXNzPVwiZWRpdFwiPjwvaT5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJsb25nLWNvbnRlbnRcIiBbdGl0bGVdPVwiZ3JvdXBQcm9maWxlLmludHJvZHVjdGlvblwiICpuZ0lmPVwiIXNob3dFZGl0SW50cm9kdWN0aW9uXCI+XHJcbiAgICAgICAge3sgZ3JvdXBQcm9maWxlLmludHJvZHVjdGlvbiB8fCAn5pqC5pegJyB9fVxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGlucHV0ICNncm91cEludHJvZHVjdGlvbiBbaGlkZGVuXT1cIiFzaG93RWRpdEludHJvZHVjdGlvblwiIGF1dG9mb2N1cyBuei1pbnB1dFxyXG4gICAgICAgIFsobmdNb2RlbCldPVwiaW50cm9kdWN0aW9uXCIgcGxhY2Vob2xkZXI9XCLlm57ovabnoa7orqRcIiAoa2V5ZG93bi5lbnRlcik9XCJlZGl0SW50cm9kdWN0aW9uKClcIlxyXG4gICAgICAgIChibHVyKT1cInNob3dFZGl0SW50cm9kdWN0aW9uID0gZmFsc2VcIj5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cImluZm8taXRlbVwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwibGFiZWxcIj5cclxuICAgICAgICDnvqTlhazlkYpcclxuICAgICAgICA8aSBuei1pY29uIG56VHlwZT1cImVkaXRcIiBuelRoZW1lPVwib3V0bGluZVwiICpuZ0lmPVwiZWRpdGFibGVcIiAoY2xpY2spPVwiXHJcbiAgICAgICAgICBzaG93RWRpdE5vdGlmaWNhdGlvbiA9IHRydWU7aW5wdXRGb2N1cyhncm91cE5vdGlmaWNhdGlvbilcclxuICAgICAgICBcIiBjbGFzcz1cImVkaXRcIj48L2k+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwibG9uZy1jb250ZW50XCIgW3RpdGxlXT1cImdyb3VwUHJvZmlsZS5ub3RpZmljYXRpb25cIiAqbmdJZj1cIiFzaG93RWRpdE5vdGlmaWNhdGlvblwiPlxyXG4gICAgICAgIHt7IGdyb3VwUHJvZmlsZS5ub3RpZmljYXRpb24gfHwgJ+aaguaXoCcgfX1cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICA8aW5wdXQgI2dyb3VwTm90aWZpY2F0aW9uIFtoaWRkZW5dPVwiIXNob3dFZGl0Tm90aWZpY2F0aW9uXCIgYXV0b2ZvY3VzIG56LWlucHV0XHJcbiAgICAgICAgWyhuZ01vZGVsKV09XCJub3RpZmljYXRpb25cIiBwbGFjZWhvbGRlcj1cIuWbnui9puehruiupFwiIChrZXlkb3duLmVudGVyKT1cImVkaXROb3RpZmljYXRpb24oKVwiXHJcbiAgICAgICAgKGJsdXIpPVwic2hvd0VkaXROb3RpZmljYXRpb24gPSBmYWxzZVwiPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwiaW5mby1pdGVtXCIgKm5nSWY9XCJncm91cFByb2ZpbGUudHlwZSAhPT0gJ1ByaXZhdGUnXCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJsYWJlbFwiPlxyXG4gICAgICAgIOeUs+ivt+WKoOe+pOaWueW8j1xyXG4gICAgICAgIDxpIG56LWljb24gbnpUeXBlPVwiZWRpdFwiICpuZ0lmPVwiZWRpdGFibGVcIiAoY2xpY2spPVwiXHJcbiAgICAgICAgICBzaG93RWRpdEpvaW5PcHRpb24gPSB0cnVlO1xyXG4gICAgICAgIFwiIGNsYXNzPVwiZWRpdFwiPjwvaT5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCIgKm5nSWY9XCIhc2hvd0VkaXRKb2luT3B0aW9uXCI+e3sgam9pbk9wdGlvbk1hcFtncm91cFByb2ZpbGUuam9pbk9wdGlvbl0gfX1cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxuei1zZWxlY3QgW25nU3R5bGVdPVwieyd3aWR0aCc6ICcxMDAlJ31cIiBbKG5nTW9kZWwpXT1cImpvaW5PcHRpb25cIlxyXG4gICAgICAgIChuZ01vZGVsQ2hhbmdlKT1cImVkaXRKb2luT3B0aW9uKClcIiAoYmx1cik9XCJzaG93RWRpdEpvaW5PcHRpb24gPSBmYWxzZVwiXHJcbiAgICAgICAgW2hpZGRlbl09XCIhc2hvd0VkaXRKb2luT3B0aW9uXCI+XHJcbiAgICAgICAgPG56LW9wdGlvbiBuelZhbHVlPVwiRnJlZUFjY2Vzc1wiIG56TGFiZWw9XCLoh6rnlLHliqDlhaVcIj48L256LW9wdGlvbj5cclxuICAgICAgICA8bnotb3B0aW9uIG56VmFsdWU9XCJOZWVkUGVybWlzc2lvblwiIG56TGFiZWw9XCLpnIDopoHpqozor4FcIj48L256LW9wdGlvbj5cclxuICAgICAgICA8bnotb3B0aW9uIG56VmFsdWU9XCJEaXNhYmxlQXBwbHlcIiBuekxhYmVsPVwi56aB5q2i5Yqg576kXCI+PC9uei1vcHRpb24+XHJcbiAgICAgIDwvbnotc2VsZWN0PlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwiaW5mby1pdGVtXCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJsYWJlbFwiPlxyXG4gICAgICAgIOe+pOa2iOaBr+aPkOekuuexu+Wei1xyXG4gICAgICAgIDxpIG56LWljb24gbnpUeXBlPVwiZWRpdFwiICpuZ0lmPVwiZWRpdGFibGVcIiAoY2xpY2spPVwiXHJcbiAgICAgICAgICBzaG93RWRpdE1lc3NhZ2VSZW1pbmRUeXBlID0gdHJ1ZTtcclxuICAgICAgICBcIiBjbGFzcz1cImVkaXRcIj48L2k+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiICpuZ0lmPVwiIXNob3dFZGl0TWVzc2FnZVJlbWluZFR5cGVcIj5cclxuICAgICAgICB7eyBtZXNzYWdlUmVtaW5kVHlwZU1hcFt0aGlzLmdyb3VwUHJvZmlsZS5zZWxmSW5mby5tZXNzYWdlUmVtaW5kVHlwZV0gfX1cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICA8bnotc2VsZWN0IFtuZ1N0eWxlXT1cInsnd2lkdGgnOiAnMTAwJSd9XCIgWyhuZ01vZGVsKV09XCJtZXNzYWdlUmVtaW5kVHlwZVwiXHJcbiAgICAgICAgKG5nTW9kZWxDaGFuZ2UpPVwiZWRpdE1lc3NhZ2VSZW1pbmRUeXBlKClcIiAoYmx1cik9XCJzaG93RWRpdE1lc3NhZ2VSZW1pbmRUeXBlID0gZmFsc2VcIlxyXG4gICAgICAgIFtoaWRkZW5dPVwiIXNob3dFZGl0TWVzc2FnZVJlbWluZFR5cGVcIj5cclxuICAgICAgICA8bnotb3B0aW9uIG56VmFsdWU9XCJBY2NlcHRBbmROb3RpZnlcIiBuekxhYmVsPVwi5o6l5pS25raI5oGv5bm25o+Q56S6XCI+PC9uei1vcHRpb24+XHJcbiAgICAgICAgPG56LW9wdGlvbiBuelZhbHVlPVwiQWNjZXB0Tm90Tm90aWZ5XCIgbnpMYWJlbD1cIuaOpeaUtua2iOaBr+S9huS4jeaPkOekulwiPjwvbnotb3B0aW9uPlxyXG4gICAgICAgIDxuei1vcHRpb24gbnpWYWx1ZT1cIkRpc2NhcmRcIiBuekxhYmVsPVwi5bGP6JS95raI5oGvXCI+PC9uei1vcHRpb24+XHJcbiAgICAgIDwvbnotc2VsZWN0PlxyXG4gICAgPC9kaXY+XHJcblxyXG4gICAgPGRpdiBjbGFzcz1cImluZm8taXRlbVwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwibGFiZWxcIj5cclxuICAgICAgICDmiJHnmoTnvqTlkI3niYdcclxuICAgICAgICA8aSBuei1pY29uIG56VHlwZT1cImVkaXRcIiAoY2xpY2spPVwic2hvd0VkaXROYW1lQ2FyZCA9IHRydWU7aW5wdXRGb2N1cyhncm91cE5hbWVDYXJkKVwiXHJcbiAgICAgICAgICBjbGFzcz1cImVkaXRcIj48L2k+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiY29udGVudCBjdXJzb3ItcG9pbnRlclwiICpuZ0lmPVwiIXNob3dFZGl0TmFtZUNhcmRcIj5cclxuICAgICAgICB7eyBncm91cFByb2ZpbGUuc2VsZkluZm8ubmFtZUNhcmQgfHwgJ+aaguaXoCcgfX1cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICA8aW5wdXQgI2dyb3VwTmFtZUNhcmQgW2hpZGRlbl09XCIhc2hvd0VkaXROYW1lQ2FyZFwiIGF1dG9mb2N1cyBuei1pbnB1dCBbKG5nTW9kZWwpXT1cIm5hbWVDYXJkXCJcclxuICAgICAgICBwbGFjZWhvbGRlcj1cIuWbnui9puehruiupFwiIChrZXlkb3duLmVudGVyKT1cImVkaXROYW1lQ2FyZCgpXCIgKGJsdXIpPVwic2hvd0VkaXROYW1lQ2FyZCA9IGZhbHNlXCI+XHJcbiAgICA8L2Rpdj5cclxuXHJcbiAgICA8ZGl2IGNsYXNzPVwiaW5mby1pdGVtXCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJsYWJlbFwiIFtuZ0NsYXNzXT1cInsnYWN0aXZlJyA6IGFjdGl2ZX1cIj7lhajkvZPnpoHoqIA8L2Rpdj5cclxuICAgICAgPG56LXN3aXRjaCBbKG5nTW9kZWwpXT1cIm11dGVBbGxNZW1iZXJzXCIgKG5nTW9kZWxDaGFuZ2UpPVwiY2hhbmdlTXV0ZVN0YXR1cygpXCI+XHJcbiAgICAgIDwvbnotc3dpdGNoPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2ICpuZ0lmPVwiaXNPd25lclwiPlxyXG4gICAgICA8YSB0eXBlPVwidGV4dFwiIChjbGljayk9XCJzaG93Q2hhbmdlR3JvdXBPd25lciA9IHRydWVcIj7ovazorqnnvqTnu4Q8L2E+XHJcbiAgICAgIDxpbnB1dCBbaGlkZGVuXT1cIiFzaG93Q2hhbmdlR3JvdXBPd25lclwiIGF1dG9mb2N1cyBuei1pbnB1dCBbKG5nTW9kZWwpXT1cIm5ld093bmVyVXNlcklEXCJcclxuICAgICAgICBwbGFjZWhvbGRlcj1cIuaWsOe+pOS4u+eahHVzZXJJRFwiIChrZXlkb3duLmVudGVyKT1cImNoYW5nZU93bmVyKClcIlxyXG4gICAgICAgIChibHVyKT1cInNob3dDaGFuZ2VHcm91cE93bmVyID0gZmFsc2VcIj5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdj5cclxuICAgICAgPGEgW25nU3R5bGVdPVwieydjb2xvcic6ICdyZWQnfVwiIChjbGljayk9XCJxdWl0R3JvdXAoKVwiPumAgOWHuue+pOe7hDwvYT5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiAqbmdJZj1cInNob3dEaXNzbWlzc0dyb3VwXCI+XHJcbiAgICAgIDxhIHR5cGU9XCJ0ZXh0XCIgW25nU3R5bGVdPVwieydjb2xvcic6ICdyZWQnfVwiIChjbGljayk9XCJkaXNtaXNzR3JvdXAoKVwiPuino+aVo+e+pOe7hDwvYT5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG48L2Rpdj5cclxuIl19