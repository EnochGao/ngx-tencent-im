import { Component, ChangeDetectionStrategy, Input } from '@angular/core';
import { MESSAGE_STATUS } from '../../../../shared.data';
import { removeMessageAction, showAction } from '../../../../store/actions';
import * as i0 from "@angular/core";
import * as i1 from "ng-zorro-antd/modal";
import * as i2 from "@ngrx/store";
import * as i3 from "../../../../tim-helper.service";
import * as i4 from "ng-zorro-antd/form";
import * as i5 from "ng-zorro-antd/radio";
import * as i6 from "ng-zorro-antd/button";
import * as i7 from "@angular/forms";
import * as i8 from "ng-zorro-antd/grid";
import * as i9 from "ng-zorro-antd/input";
import * as i10 from "ng-zorro-antd/core/wave";
import * as i11 from "ng-zorro-antd/core/transition-patch";
export class ApprovalJoinGroupComponent {
    constructor(modalRef, store, timHelperService) {
        this.modalRef = modalRef;
        this.store = store;
        this.timHelperService = timHelperService;
        this.form = {
            handleAction: 'Agree',
            handleMessage: '',
        };
    }
    ngOnInit() {
    }
    handleGroupApplication() {
        this.timHelperService.tim
            .handleGroupApplication({
            handleAction: this.form.handleAction,
            handleMessage: this.form.handleMessage,
            message: this.message,
        })
            .then(() => {
            this.store.dispatch(removeMessageAction({ message: this.message }));
            this.modalRef.destroy();
        })
            .catch((error) => {
            this.store.dispatch(showAction({ msgType: MESSAGE_STATUS.error, message: error.message }));
        });
    }
}
ApprovalJoinGroupComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.8", ngImport: i0, type: ApprovalJoinGroupComponent, deps: [{ token: i1.NzModalRef }, { token: i2.Store }, { token: i3.TimHelperService }], target: i0.ɵɵFactoryTarget.Component });
ApprovalJoinGroupComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.8", type: ApprovalJoinGroupComponent, selector: "im-approval-join-group", inputs: { message: "message" }, ngImport: i0, template: "<form nz-form>\r\n  <nz-form-item>\r\n    <nz-form-label [nzSpan]=\"6\">\u5904\u7406\u7ED3\u679C</nz-form-label>\r\n    <nz-form-control [nzSpan]=\"14\">\r\n      <nz-radio-group [(ngModel)]=\"form.handleAction\" name=\"handleAction\">\r\n        <label nz-radio nzValue=\"Agree\">\u540C\u610F</label>\r\n        <label nz-radio nzValue=\"Reject\">\u62D2\u7EDD</label>\r\n      </nz-radio-group>\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n  <nz-form-item>\r\n    <nz-form-label [nzSpan]=\" 6\">\u9644\u8A00</nz-form-label>\r\n    <nz-form-control [nzSpan]=\"14\">\r\n      <textarea rows=\"3\" nz-input [(ngModel)]=\"form.handleMessage\" name=\"handleMessage\"></textarea>\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n\r\n  <nz-form-item nz-row nzJustify=\"center\">\r\n    <nz-form-control [nzSpan]=\"12\" nzPush=\"8\">\r\n      <button nz-button nzType=\"primary\" type=\"button\"\r\n        (click)=\"handleGroupApplication()\">\u786E\u5B9A</button>\r\n    </nz-form-control>\r\n    <nz-form-control [nzSpan]=\"12\">\r\n      <button nz-button nzType=\"default\" type=\"button\" (click)=\"modalRef.destroy()\">\u53D6\u6D88</button>\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n</form>\r\n", styles: [""], components: [{ type: i4.NzFormItemComponent, selector: "nz-form-item", exportAs: ["nzFormItem"] }, { type: i4.NzFormLabelComponent, selector: "nz-form-label", inputs: ["nzFor", "nzRequired", "nzNoColon", "nzTooltipTitle", "nzTooltipIcon"], exportAs: ["nzFormLabel"] }, { type: i4.NzFormControlComponent, selector: "nz-form-control", inputs: ["nzSuccessTip", "nzWarningTip", "nzErrorTip", "nzValidatingTip", "nzExtra", "nzAutoTips", "nzDisableAutoTips", "nzHasFeedback", "nzValidateStatus"], exportAs: ["nzFormControl"] }, { type: i5.NzRadioGroupComponent, selector: "nz-radio-group", inputs: ["nzDisabled", "nzButtonStyle", "nzSize", "nzName"], exportAs: ["nzRadioGroup"] }, { type: i5.NzRadioComponent, selector: "[nz-radio],[nz-radio-button]", inputs: ["nzValue", "nzDisabled", "nzAutoFocus"], exportAs: ["nzRadio"] }, { type: i6.NzButtonComponent, selector: "button[nz-button], a[nz-button]", inputs: ["nzBlock", "nzGhost", "nzSearch", "nzLoading", "nzDanger", "disabled", "tabIndex", "nzType", "nzShape", "nzSize"], exportAs: ["nzButton"] }], directives: [{ type: i7.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { type: i7.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i7.NgForm, selector: "form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]", inputs: ["ngFormOptions"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i4.NzFormDirective, selector: "[nz-form]", inputs: ["nzLayout", "nzNoColon", "nzAutoTips", "nzDisableAutoTips", "nzTooltipIcon"], exportAs: ["nzForm"] }, { type: i8.NzRowDirective, selector: "[nz-row],nz-row,nz-form-item", inputs: ["nzAlign", "nzJustify", "nzGutter"], exportAs: ["nzRow"] }, { type: i8.NzColDirective, selector: "[nz-col],nz-col,nz-form-control,nz-form-label", inputs: ["nzFlex", "nzSpan", "nzOrder", "nzOffset", "nzPush", "nzPull", "nzXs", "nzSm", "nzMd", "nzLg", "nzXl", "nzXXl"], exportAs: ["nzCol"] }, { type: i7.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i7.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { type: i9.NzInputDirective, selector: "input[nz-input],textarea[nz-input]", inputs: ["nzBorderless", "nzSize", "disabled"], exportAs: ["nzInput"] }, { type: i7.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i10.NzWaveDirective, selector: "[nz-wave],button[nz-button]:not([nzType=\"link\"]):not([nzType=\"text\"])", inputs: ["nzWaveExtraNode"], exportAs: ["nzWave"] }, { type: i11.ɵNzTransitionPatchDirective, selector: "[nz-button], nz-button-group, [nz-icon], [nz-menu-item], [nz-submenu], nz-select-top-control, nz-select-placeholder, nz-input-group", inputs: ["hidden"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.8", ngImport: i0, type: ApprovalJoinGroupComponent, decorators: [{
            type: Component,
            args: [{ selector: 'im-approval-join-group', changeDetection: ChangeDetectionStrategy.OnPush, template: "<form nz-form>\r\n  <nz-form-item>\r\n    <nz-form-label [nzSpan]=\"6\">\u5904\u7406\u7ED3\u679C</nz-form-label>\r\n    <nz-form-control [nzSpan]=\"14\">\r\n      <nz-radio-group [(ngModel)]=\"form.handleAction\" name=\"handleAction\">\r\n        <label nz-radio nzValue=\"Agree\">\u540C\u610F</label>\r\n        <label nz-radio nzValue=\"Reject\">\u62D2\u7EDD</label>\r\n      </nz-radio-group>\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n  <nz-form-item>\r\n    <nz-form-label [nzSpan]=\" 6\">\u9644\u8A00</nz-form-label>\r\n    <nz-form-control [nzSpan]=\"14\">\r\n      <textarea rows=\"3\" nz-input [(ngModel)]=\"form.handleMessage\" name=\"handleMessage\"></textarea>\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n\r\n  <nz-form-item nz-row nzJustify=\"center\">\r\n    <nz-form-control [nzSpan]=\"12\" nzPush=\"8\">\r\n      <button nz-button nzType=\"primary\" type=\"button\"\r\n        (click)=\"handleGroupApplication()\">\u786E\u5B9A</button>\r\n    </nz-form-control>\r\n    <nz-form-control [nzSpan]=\"12\">\r\n      <button nz-button nzType=\"default\" type=\"button\" (click)=\"modalRef.destroy()\">\u53D6\u6D88</button>\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n</form>\r\n", styles: [""] }]
        }], ctorParameters: function () { return [{ type: i1.NzModalRef }, { type: i2.Store }, { type: i3.TimHelperService }]; }, propDecorators: { message: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwcm92YWwtam9pbi1ncm91cC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtdGVuY2VudC1pbS9zcmMvbWVzc2FnZS9tZXNzYWdlLWVsZW1lbnQvZ3JvdXAtc3lzdGVtLW5vdGljZS1lbGVtZW50L2FwcHJvdmFsLWpvaW4tZ3JvdXAvYXBwcm92YWwtam9pbi1ncm91cC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtdGVuY2VudC1pbS9zcmMvbWVzc2FnZS9tZXNzYWdlLWVsZW1lbnQvZ3JvdXAtc3lzdGVtLW5vdGljZS1lbGVtZW50L2FwcHJvdmFsLWpvaW4tZ3JvdXAvYXBwcm92YWwtam9pbi1ncm91cC5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFVLHVCQUF1QixFQUFFLEtBQUssRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUtsRixPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDekQsT0FBTyxFQUFFLG1CQUFtQixFQUFFLFVBQVUsRUFBRSxNQUFNLDJCQUEyQixDQUFDOzs7Ozs7Ozs7Ozs7O0FBVTVFLE1BQU0sT0FBTywwQkFBMEI7SUFPckMsWUFDUyxRQUFvQixFQUNuQixLQUFZLEVBQ1osZ0JBQWtDO1FBRm5DLGFBQVEsR0FBUixRQUFRLENBQVk7UUFDbkIsVUFBSyxHQUFMLEtBQUssQ0FBTztRQUNaLHFCQUFnQixHQUFoQixnQkFBZ0IsQ0FBa0I7UUFQNUMsU0FBSSxHQUFHO1lBQ0wsWUFBWSxFQUFFLE9BQU87WUFDckIsYUFBYSxFQUFFLEVBQUU7U0FDbEIsQ0FBQztJQUtFLENBQUM7SUFFTCxRQUFRO0lBQ1IsQ0FBQztJQUVELHNCQUFzQjtRQUNwQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRzthQUN0QixzQkFBc0IsQ0FBQztZQUN0QixZQUFZLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZO1lBQ3BDLGFBQWEsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWE7WUFDdEMsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPO1NBQ3RCLENBQUM7YUFDRCxJQUFJLENBQUMsR0FBRyxFQUFFO1lBQ1QsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsbUJBQW1CLENBQUMsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNwRSxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQzFCLENBQUMsQ0FBQzthQUNELEtBQUssQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFO1lBQ2YsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLEVBQUUsT0FBTyxFQUFFLGNBQWMsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDN0YsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDOzt1SEE5QlUsMEJBQTBCOzJHQUExQiwwQkFBMEIsOEZDaEJ2QywwckNBMkJBOzJGRFhhLDBCQUEwQjtrQkFOdEMsU0FBUzsrQkFDRSx3QkFBd0IsbUJBR2pCLHVCQUF1QixDQUFDLE1BQU07b0pBR3RDLE9BQU87c0JBQWYsS0FBSyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgU3RvcmUgfSBmcm9tICdAbmdyeC9zdG9yZSc7XHJcbmltcG9ydCB7IE56TW9kYWxSZWYgfSBmcm9tICduZy16b3Jyby1hbnRkL21vZGFsJztcclxuXHJcbmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICd0aW0tanMtc2RrJztcclxuaW1wb3J0IHsgTUVTU0FHRV9TVEFUVVMgfSBmcm9tICcuLi8uLi8uLi8uLi9zaGFyZWQuZGF0YSc7XHJcbmltcG9ydCB7IHJlbW92ZU1lc3NhZ2VBY3Rpb24sIHNob3dBY3Rpb24gfSBmcm9tICcuLi8uLi8uLi8uLi9zdG9yZS9hY3Rpb25zJztcclxuaW1wb3J0IHsgVGltSGVscGVyU2VydmljZSB9IGZyb20gJy4uLy4uLy4uLy4uL3RpbS1oZWxwZXIuc2VydmljZSc7XHJcblxyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdpbS1hcHByb3ZhbC1qb2luLWdyb3VwJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vYXBwcm92YWwtam9pbi1ncm91cC5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vYXBwcm92YWwtam9pbi1ncm91cC5jb21wb25lbnQubGVzcyddLFxyXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBBcHByb3ZhbEpvaW5Hcm91cENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcbiAgQElucHV0KCkgbWVzc2FnZTogTWVzc2FnZTtcclxuXHJcbiAgZm9ybSA9IHtcclxuICAgIGhhbmRsZUFjdGlvbjogJ0FncmVlJyxcclxuICAgIGhhbmRsZU1lc3NhZ2U6ICcnLFxyXG4gIH07XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwdWJsaWMgbW9kYWxSZWY6IE56TW9kYWxSZWYsXHJcbiAgICBwcml2YXRlIHN0b3JlOiBTdG9yZSxcclxuICAgIHByaXZhdGUgdGltSGVscGVyU2VydmljZTogVGltSGVscGVyU2VydmljZSxcclxuICApIHsgfVxyXG5cclxuICBuZ09uSW5pdCgpOiB2b2lkIHtcclxuICB9XHJcblxyXG4gIGhhbmRsZUdyb3VwQXBwbGljYXRpb24oKSB7XHJcbiAgICB0aGlzLnRpbUhlbHBlclNlcnZpY2UudGltXHJcbiAgICAgIC5oYW5kbGVHcm91cEFwcGxpY2F0aW9uKHtcclxuICAgICAgICBoYW5kbGVBY3Rpb246IHRoaXMuZm9ybS5oYW5kbGVBY3Rpb24sXHJcbiAgICAgICAgaGFuZGxlTWVzc2FnZTogdGhpcy5mb3JtLmhhbmRsZU1lc3NhZ2UsXHJcbiAgICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChyZW1vdmVNZXNzYWdlQWN0aW9uKHsgbWVzc2FnZTogdGhpcy5tZXNzYWdlIH0pKTtcclxuICAgICAgICB0aGlzLm1vZGFsUmVmLmRlc3Ryb3koKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goc2hvd0FjdGlvbih7IG1zZ1R5cGU6IE1FU1NBR0VfU1RBVFVTLmVycm9yLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsIjxmb3JtIG56LWZvcm0+XHJcbiAgPG56LWZvcm0taXRlbT5cclxuICAgIDxuei1mb3JtLWxhYmVsIFtuelNwYW5dPVwiNlwiPuWkhOeQhue7k+aenDwvbnotZm9ybS1sYWJlbD5cclxuICAgIDxuei1mb3JtLWNvbnRyb2wgW256U3Bhbl09XCIxNFwiPlxyXG4gICAgICA8bnotcmFkaW8tZ3JvdXAgWyhuZ01vZGVsKV09XCJmb3JtLmhhbmRsZUFjdGlvblwiIG5hbWU9XCJoYW5kbGVBY3Rpb25cIj5cclxuICAgICAgICA8bGFiZWwgbnotcmFkaW8gbnpWYWx1ZT1cIkFncmVlXCI+5ZCM5oSPPC9sYWJlbD5cclxuICAgICAgICA8bGFiZWwgbnotcmFkaW8gbnpWYWx1ZT1cIlJlamVjdFwiPuaLkue7nTwvbGFiZWw+XHJcbiAgICAgIDwvbnotcmFkaW8tZ3JvdXA+XHJcbiAgICA8L256LWZvcm0tY29udHJvbD5cclxuICA8L256LWZvcm0taXRlbT5cclxuICA8bnotZm9ybS1pdGVtPlxyXG4gICAgPG56LWZvcm0tbGFiZWwgW256U3Bhbl09XCIgNlwiPumZhOiogDwvbnotZm9ybS1sYWJlbD5cclxuICAgIDxuei1mb3JtLWNvbnRyb2wgW256U3Bhbl09XCIxNFwiPlxyXG4gICAgICA8dGV4dGFyZWEgcm93cz1cIjNcIiBuei1pbnB1dCBbKG5nTW9kZWwpXT1cImZvcm0uaGFuZGxlTWVzc2FnZVwiIG5hbWU9XCJoYW5kbGVNZXNzYWdlXCI+PC90ZXh0YXJlYT5cclxuICAgIDwvbnotZm9ybS1jb250cm9sPlxyXG4gIDwvbnotZm9ybS1pdGVtPlxyXG5cclxuICA8bnotZm9ybS1pdGVtIG56LXJvdyBuekp1c3RpZnk9XCJjZW50ZXJcIj5cclxuICAgIDxuei1mb3JtLWNvbnRyb2wgW256U3Bhbl09XCIxMlwiIG56UHVzaD1cIjhcIj5cclxuICAgICAgPGJ1dHRvbiBuei1idXR0b24gbnpUeXBlPVwicHJpbWFyeVwiIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgIChjbGljayk9XCJoYW5kbGVHcm91cEFwcGxpY2F0aW9uKClcIj7noa7lrpo8L2J1dHRvbj5cclxuICAgIDwvbnotZm9ybS1jb250cm9sPlxyXG4gICAgPG56LWZvcm0tY29udHJvbCBbbnpTcGFuXT1cIjEyXCI+XHJcbiAgICAgIDxidXR0b24gbnotYnV0dG9uIG56VHlwZT1cImRlZmF1bHRcIiB0eXBlPVwiYnV0dG9uXCIgKGNsaWNrKT1cIm1vZGFsUmVmLmRlc3Ryb3koKVwiPuWPlua2iDwvYnV0dG9uPlxyXG4gICAgPC9uei1mb3JtLWNvbnRyb2w+XHJcbiAgPC9uei1mb3JtLWl0ZW0+XHJcbjwvZm9ybT5cclxuIl19